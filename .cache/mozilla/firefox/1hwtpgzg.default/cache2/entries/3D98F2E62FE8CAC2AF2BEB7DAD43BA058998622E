"use strict";!function(window,document){var adunit=adunit||{};adunit.AdUnit=function(e,t,i,o,n,r,a,s){function c(e){i.Observable.call(this),this.id=h++,this.product=e.product,this.settings=e.settings,this.templateSettings=e.templateSettings,this.closeDelay=e.closeDelay||v,this.renderOptions=e.renderOptions,this.delayLoad=!!e.delayLoad;var t=(e.settings||{}).ads?((e.settings.ads[0]||{}).creative||{}).diyValues:{},o=(e.settings||{}).ads?((e.settings.ads[0]||{}).creative||{}).setValues:{},n=(e.settings||{}).ads?(((e.settings.ads[0]||{}).creative||{}).payload||{}).params:{};this.mergedCreativeParams=r.extend({},t||{},o||{},n||{}),this.creativeLoad=e.creativeLoad,this.templateLoad=e.templateLoad||g,this.render=e.render,this.open=e.open,this.close=e.close,this.body=null,this.status=u.CLOSED,this.openCount=0,this.openTime=null,this.scheduledClose=!1,this.closeTimer=null,this.on(l.OPEN,function(e){this.status===u.CLOSING?this.once(l.CLOSED,this._open,this):this._open(e)},this),this.on(l.CLOSE,this._close,this),this.on(l.RENDER,this._render,this),this.on(l.SCHEDULE_CLOSE,this._scheduleClose,this),this.on(l.SHOW,this.show,this),this.on(l.HIDE,this.hide,this)}function d(e){return new c(e)}var l={LOAD:"load",LOADED:"loaded",OPEN:"open",OPENING:"opening",OPENED:"opened",CONTROLLEDOPEN:"adunit:controlledopen",DELAYED_LOAD:"adunit:delayed_load",SLIDINGOPEN:"slidingopen",SLIDINGOPENED:"slidingopened",CLICK:"adunit:click",CLOSE:"close",CLOSING:"closing",CLOSED:"closed",SHOW:"show",HIDE:"hide",RENDER:"render",RENDERING:"rendering",RENDERED:"rendered",SCHEDULE_CLOSE:"scheduleClose",MOUSEIN:"adunit:mousein",MOUSEOUT:"adunit:mouseout",DELEGATE:"delegate"},u={CLOSED:0,CLOSING:1,OPENING:2,OPEN:3},p={body:".vm-adunit-body"},h=1,g=function(e,t,i){o.load(e,t,i)},v=3e3,f=0;return c.prototype=new i.Observable,c.prototype.EVENT_MOUSEIN=l.MOUSEIN,c.prototype.EVENT_MOUSEOUT=l.MOUSEOUT,c.prototype.EVENT_CLICK=l.CLICK,c.prototype.EVENT_OPENED=l.OPENED,c.prototype.EVENT_CLOSED=l.CLOSED,c.prototype.EVENT_DELEGATE=l.DELEGATE,c.prototype.CONTROLLED_OPEN=l.CONTROLLEDOPEN,c.prototype.DELAYED_LOAD=l.DELAYED_LOAD,c.prototype.getAdConfig=function(){return this.settings},c.prototype.getAd=function(){return this.getAdConfig().ads[0]},c.prototype.getAdTemplate=function(){return this.template},c.prototype.getTemplateParams=function(){var e=this.getAdTemplate();return e?e.params:null},c.prototype.getTemplateHookParams=function(){var e=this.getAdTemplate();return e?e.hook:null},c.prototype.getDiyValues=function(){var e=this.getAd();return e.creative.diyValues||{}},c.prototype.getMergedCreativeParams=function(){return this.mergedCreativeParams||{}},c.prototype.getPosition=function(){return t.getPosition(this.outerBox)},c.prototype.getWidth=function(){return this.creative.getWidth()},c.prototype.getHeight=function(){return this.creative.getHeight()},c.prototype.getClickDelay=function(){var e=this.getDiyValues();return e.clickdelay?parseInt(e.clickdelay,10)||0:f},c.prototype.getBodyContainer=function(){return this.outerBox?this.outerBox.querySelector(p.body):null},c.prototype.saveValuesToCache=function(e,t,i){this.adUnitCache={top:parseInt(e),width:parseInt(t),height:parseInt(i)}},c.prototype.resetSize=function(){var e=this.getBodyContainer(),t=this.outerBox,i=t.getElementsByTagName("iframe")[0];this.specsForExpand.reset?t.style.top=this.specsForExpand.reset+"px":t.style.top=this.adUnitCache.top+"px",e.style.height=this.adUnitCache.height+"px",i.style.cssText="position: relative; width:"+this.adUnitCache.width+"px; height: "+this.adUnitCache.height+"px;",i.height=this.adUnitCache.height+"",i.width=this.adUnitCache.width+"",this.specsForExpand.expanded=!1},c.prototype.resizeImageAd=function(){var e=this.visibleRect.height,t=this.visibleRect.width,i=this.getBodyContainer(),o=this.outerBox,n=o.getElementsByTagName("iframe")[0];this.saveValuesToCache(o.style.top,n.width,n.height),this.specsForExpand={expanded:!0,topForExpanded:e-this.adUnitCache.height},o.style.top=this.adUnitCache.top-(e-this.adUnitCache.height)+"px",i.style.height=e+"px",n.style.cssText="position: relative; width:"+t+"px; height: "+e+"px;",n.height=e+"",n.width=t+""},c.prototype.resizeIframe=function(e,t,i){var o=e||this.visibleRect.width,n=t||this.visibleRect.height,r=this.getBodyContainer(),a=this.outerBox,s=a.getElementsByTagName("iframe")[0];i&&(this.saveValuesToCache(a.style.top,s.width,s.height),this.specsForExpand={expanded:!0,topForExpanded:n-this.adUnitCache.height},a.style.top=this.adUnitCache.top-(n-this.adUnitCache.height)+"px"),r.style.height=n+"px",s.style.cssText="position: relative; width:"+o+"px; height: "+n+"px;",s.height=n+"",s.width=o+""},c.prototype.getOpenCount=function(){return this.openCount},c.prototype.isOpen=function(){return this.status===u.OPEN||this.status===u.OPENING},c.prototype.isReady=function(){return this.status===u.OPEN},c.prototype.isResponsive=function(){if(this.template&&this.template.params&&this.template.params.responsive){var e=parseInt(this.template.params.responsive,10);return 1===e}return!1},c.prototype.isInViewport=function(){return t.isInViewport(this.outerBox)},c.prototype.cancelScheduledClose=function(){this.closeTimer&&(e.clearTimeout(this.closeTimer),this.closeTimer=null),this.scheduledClose=!1},c.prototype._render=function(){var e=this;this.fire(l.RENDERING),this.render(this,function(t){t||e.fire(l.RENDERED)})},c.prototype._open=function(e){var t=isNaN(e.data)?client.Log.viewSource.LOAD:e.data,i=this;this.status===u.CLOSED&&(this.status=u.OPENING,this.fire(l.OPENING),this.once(l.LOADED,function(e){var o=e.data;return o?(i.body=o,i.once(l.RENDERED,function(){i.open(i,t,function(e){e||(i.status=u.OPEN,i.openTime=+new Date,++i.openCount,i.registerEngagement(t),i.fire(l.OPENED,t))})}),void i.fire(l.RENDER)):void(i.status=u.CLOSED)}),this.creative?this.creative.fire(l.LOAD,this.template):this.templateLoad(this.templateSettings,this.settings,function(e,t){i.template=t,i.creative=i.creativeLoad(i),i.creative?(i.creative.connect(l.LOADED,i),i.creative.connect(l.LOAD,i),i.creative.fire(l.LOAD,t)):a.warn("Adinstance open: Failed to create creative")}))},c.prototype._close=function(e){var t=isNaN(e.data)?client.Log.closeSource.AUTO:e.data,i=this;this.status===u.OPEN&&(this.status=u.CLOSING,this.fire(l.CLOSING),this.close(this,t,function(e){e||(i.status=u.CLOSED,i.openTime=null,i.fire(l.CLOSED,t))}),this.cancelScheduledClose())},c.prototype.registerEngagement=function(t){var o=this,r=(this.settings||{}).ads?(((this.settings.ads[0]||{}).creative||{}).diyValues||{}).iframe:void 0,a=this.mergedCreativeParams||{};if(r){var s=(((this.settings.ads[0]||{}).creative||{}).payload||{}).id;n.engagement({product:this.product,hookId:this.settings.vibrantParameters.hookId,source:t,creativeId:s})}r&&!a.disableBannerClickLogging&&function(){var t=!1,r=!1;if(this.outerBox){var a=this.outerBox.id;i.bind(this.outerBox,"mouseenter",function(){t=!0}),i.bind(this.outerBox,"mouseleave",function(){t=!1}),e.addEventListener("blur",function s(){for(var i=document.querySelectorAll(":hover"),c=0;c<i.length;c++)i[c].id===a&&(r=!0);if(t&&r){var d=101,l={product:o.product,hookId:o.settings.vibrantParameters.hookId,setId:o.settings.vibrantParameters.setId,keyword:encodeURIComponent(o.settings.term&&o.settings.term.keyword||""),source:d,timestamp:Date.now()};n.clickThrough(l,!0),e.removeEventListener("blur",s)}})}}.bind(this)()},c.prototype._scheduleClose=function(t){function i(){n.closeTimer=e.setTimeout(function(){n.fire(l.CLOSE,o)},n.closeDelay)}var o=t.data,n=this;switch(this.cancelScheduledClose(),this.status){case u.OPEN:i(),this.scheduledClose=!0;break;case u.OPENING:this.once(l.OPENED,function(){n.scheduledClose&&i()}),this.scheduledClose=!0}},c.prototype.scaleToFit=function m(e){var m=s.getBoolean("partner."+this.product+".scaletofit",!0),i=this.getHeight(),o=this.getWidth();if(m&&e&&o&&i&&!(o<=e)){var n=e/o,r=Math.floor(o*n),a=Math.floor(i*n),c=this.getBodyContainer();c&&(t.transformOrigin(c,"top left"),t.transformScale(c,n,n),c.style.height=a+"px",c.style.width=r+"px",this.creative.height=a,this.creative.width=r)}},c.prototype.show=function(){this.outerBox&&(this.outerBox.style.visibility="visible")},c.prototype.hide=function(){this.outerBox&&(this.outerBox.style.visibility="hidden")},{AdInstance:c,create:d}};var adunit=adunit||{};adunit.CPEUnit=function(e,t,i,o,n,r,a){function s(e,s,c){return e.VM=e.VM||{},new a(e,s,t,i,o,n,r,c)}function c(e){return{config:t,dom:i,events:o,log:n,utils:r,adInstance:e.adInstance,template:e.templateData,videoplayer:s}}function d(){var e={progressBar:{start:1,stop:2,fin:3,click:4},cpe:{click:1,close:2},launchSource:{progressBar:1,dropin:2}},t={adunit:{open:"opened",close:"closed"},cpe:{started:"cpe:started",engagement:"engagement",destroyed:"cpe:destroyed",clickThrough:"cpe:clickThrough"},mouse:{"in":"adunit:mousein",out:"adunit:mouseout",adClick:"adunit:click",click:"click"}},i="%3C!DOCTYPE%20html%3E%0A%3Chtml%3E%0A%3Chead%3E%0A%20%20%20%20%3Cstyle%3Ebody%7Bmargin%3A0%7Diframe%7Bz-index%3A-1%3Bposition%3Aabsolute%7D.VM_progressArea%7Bposition%3Arelative%3Bcursor%3Apointer%7D.VM_progressComponents%7Bposition%3Aabsolute%3Bwidth%3Ainherit%3Bbottom%3A15px%7D.VM_progressWrapper%7Bposition%3Aabsolute%3Bheight%3A5px%3Bwidth%3A130px%3Bmargin%3Aauto%3Bbottom%3A5px%3Bright%3A2px%3Bleft%3A0%3Bcolor%3A%23090%3Bpadding-top%3A5px%3Bpadding-bottom%3A5px%7D.VM_progressContainer%7Bdisplay%3Ablock%3Bwidth%3A100%25%3Bheight%3A5px%3Bborder%3Asolid%201px%3Bborder-radius%3A25px%3B-moz-border-radius%3A25px%3B-webkit-border-radius%3A25px%3B-o-border-radius%3A25px%7D.VM_progressImage%7Bposition%3Aabsolute%3Bbottom%3A20px%3Bwidth%3Aauto%3Bheight%3Aauto%3Bmargin-left%3Aauto%3Bmargin-right%3Aauto%3Bdisplay%3Ablock%7D.VM_progressText%7Bfont-size%3A10px%3Bfont-family%3AVerdana%2Carial%2Csans-serif%3Bcolor%3A%23333%3Btext-align%3Acenter%7D.VM_progressBackground%7Bposition%3Aabsolute%3Bwidth%3Ainherit%3Bheight%3A35px%3Bbottom%3A-15px%3Bbackground-color%3A%23F0F0F0%3Bopacity%3A.8%3Bz-index%3A-1%3Bborder-radius%3A5px%3B-webkit-border-radius%3A5px%3B-o-border-radius%3A5px%3B-moz-border-radius%3A5px%7D.VM_progressBar%7Bbackground%3A%23090%3Boverflow%3Ahidden%3Bwidth%3A0%3Bheight%3Ainherit%7D.VM_progressArea_image%7Bposition%3Aabsolute%3Bz-index%3A500%3Bcursor%3Apointer%3Bvisibility%3Ahidden%7D.VM_progressBackground_image%7Bposition%3Aabsolute%3Bwidth%3Ainherit%3Bbottom%3A-15px%3Bbackground-color%3A%23F0F0F0%3Bopacity%3A.8%3Bz-index%3A-1%7D.VM_progressWrapper_image%7Bposition%3Aabsolute%3Bheight%3A15px%3Bwidth%3A130px%3Bmargin%3Aauto%3Bbottom%3A0%3Btop%3A0%3Bright%3A2px%3Bleft%3A0%3Bcolor%3A%23090%3Bpadding-top%3A5px%3Bpadding-bottom%3A5px%7D.VM_progressWrapper_inview%7Bposition%3Aabsolute%3Bheight%3A5px%3Bwidth%3A130px%3Bmargin%3Aauto%3Bbottom%3A0%3Btop%3A0%3Bright%3A2px%3Bleft%3A0%3Bcolor%3A%23090%3Bpadding-top%3A5px%3Bpadding-bottom%3A5px%7D.image-adchoice%2C.image-close%7Bposition%3Aabsolute%3Bright%3A0%3Bwidth%3A18px%3Bheight%3A18px%3Bcursor%3Apointer%3Bz-index%3A2147483646%3Bvisibility%3Avisible%7D.image-close%7Bbackground-image%3Aurl(https%3A%2F%2Fimages.intellitxt.com%2Fast%2F4c58aae9-0570-dc11-96c8-005056c00008%2Fvmxt47032%2Fclose-btn-18px.png)%3Bbottom%3A18px%7D.image-adchoice%7Bbackground-image%3Aurl(https%3A%2F%2Fimages.intellitxt.com%2Fast%2F4c58aae9-0570-dc11-96c8-005056c00008%2Fvmxt47032%2Fadchoice-btn-18px.png)%3Bbottom%3A0%7D%3C%2Fstyle%3E%0A%3C%2Fhead%3E%0A%0A%3Cbody%3E%0A%0A%20%20%20%20%3Cscript%3E%22use%20strict%22%3Bfunction%20decoration()%7Bfunction%20e(e%2Ca)%7Bvar%20n%3Ddocument.createElement(%22div%22)%2Co%3Dt%5Be%5D%2Cd%3Da.adInstance%2Cc%3Dd.outerBox.querySelector(%22.vm-adunit-body%22)%3Bif(c%26%26(c.style.backgroundColor%3D%22transparent%22)%2C%22intext%22%3D%3D%3De%26%26a.image%26%26o.splice(s%2C0%2C'%3Cimg%20id%3D%22VM_progressImage_%7Bid%7D%22%20class%3D%22VM_progressImage%22%20%20src%3D%22%7Bimage%7D%22%20%2F%3E')%2Cn.innerHTML%3Do.join(%22%5Cn%22).replace(%2F%5C%7Bid%5C%7D%2Fg%2Cd.id).replace(%2F%5C%7Bimage%5C%7D%2Fg%2Ca.image).replace(%2F%5C%7Btext%5C%7D%2Fg%2Ca.text).replace(%2F%5C%7Bheight%5C%7D%2Fg%2Ci).replace(%2F%5C%7Bwidth%5C%7D%2Fg%2Cr)%2Cn.className%3D%22VM_progressBarWrapper_%22%2Be%2Cn.style.width%3D%22100%25%22%2Cn.style.height%3Di%2B%22px%22%2C%22image%22%3D%3D%3De%7C%7C%22inview%22%3D%3D%3De)%7Bvar%20p%3Ddocument.createElement(%22iframe%22)%3Bp.className%3D%22VM_progressImageBar%22%2Cp.src%3Dparams%5Be%2B%22BarCreative%22%5D%2Cp.width%3D%22100%25%22%2Cp.height%3D%22100%25%22%2Cp.scrolling%3D%22no%22%2Cp.frameBorder%3D%220%22%2Cn.appendChild(p)%7Dreturn%20n%7Dvar%20r%3Dwindow.innerWidth%2Ci%3Dwindow.innerHeight%2Cs%3D2%2Ct%3D%7Bintext%3A%5B'%3Cdiv%20id%3D%22VM_progressArea_%7Bid%7D%22%20class%3D%22VM_progressArea%22%20style%3D%22width%3A%7Bwidth%7Dpx%3Bheight%3A%7Bheight%7Dpx%3B%22%3E'%2C'%3Cdiv%20id%3D%22VM_progressComponents_%7Bid%7D%22%20class%3D%22VM_progressComponents%22%3E'%2C'%3Cdiv%20id%3D%22VM_progressText_%7Bid%7D%22%20class%3D%22VM_progressText%22%3E%7Btext%7D%3C%2Fdiv%3E'%2C'%3Cdiv%20id%3D%22VM_progressBackground_%7Bid%7D%22%20class%3D%22VM_progressBackground%22%3E%3C%2Fdiv%3E'%2C%22%3C%2Fdiv%3E%22%2C'%3Cdiv%20id%3D%22VM_progressWrapper_%7Bid%7D%22%20class%3D%22VM_progressWrapper%22%3E'%2C'%3Cdiv%20id%3D%22VM_progressContainer_%7Bid%7D%22%20class%3D%22VM_progressContainer%22%3E'%2C'%3Cdiv%20id%3D%22VM_progressBar_%7Bid%7D%22%20class%3D%22VM_progressBar%22%3E%3C%2Fdiv%3E'%2C%22%3C%2Fdiv%3E%22%2C%22%3C%2Fdiv%3E%22%2C%22%3C%2Fdiv%3E%22%5D%2Cimage%3A%5B'%3Cdiv%20id%3D%22VM_progressArea_%7Bid%7D%22%20class%3D%22VM_progressArea_image%22%20style%3D%22width%3A%7Bwidth%7Dpx%3Bheight%3A%7Bheight%7Dpx%3B%22%3E'%2C'%3Cdiv%20class%3D%22image-close%22%3E%3C%2Fdiv%3E'%2C'%3Cdiv%20class%3D%22image-adchoice%22%3E%3C%2Fdiv%3E'%2C'%3Cdiv%20id%3D%22VM_progressComponents_%7Bid%7D%22%20class%3D%22VM_progressComponents%22%3E'%2C'%3Cdiv%20id%3D%22VM_progressBackground_%7Bid%7D%22%20class%3D%22VM_progressBackground_image%22%20style%3D%22height%3A%7Bheight%7Dpx%3B%22%3E%3C%2Fdiv%3E'%2C%22%3C%2Fdiv%3E%22%2C'%3Cdiv%20id%3D%22VM_progressWrapper_%7Bid%7D%22%20class%3D%22VM_progressWrapper_image%22%3E'%2C'%3Cdiv%20id%3D%22VM_progressText_%7Bid%7D%22%20class%3D%22VM_progressText%22%3E%7Btext%7D%3C%2Fdiv%3E'%2C'%3Cdiv%20id%3D%22VM_progressContainer_%7Bid%7D%22%20class%3D%22VM_progressContainer%22%3E'%2C'%3Cdiv%20id%3D%22VM_progressBar_%7Bid%7D%22%20class%3D%22VM_progressBar%22%3E%3C%2Fdiv%3E'%2C%22%3C%2Fdiv%3E%22%2C%22%3C%2Fdiv%3E%22%2C%22%3C%2Fdiv%3E%22%5D%2Cinview%3A%5B'%3Cdiv%20id%3D%22VM_progressArea_%7Bid%7D%22%20class%3D%22VM_progressArea_image%22%20style%3D%22width%3A%7Bwidth%7Dpx%3Bheight%3A%7Bheight%7Dpx%3B%22%3E'%2C'%3Cdiv%20id%3D%22VM_progressComponents_%7Bid%7D%22%20class%3D%22VM_progressComponents%22%3E'%2C'%3Cdiv%20id%3D%22VM_progressBackground_%7Bid%7D%22%20class%3D%22VM_progressBackground_image%22%20style%3D%22height%3A%7Bheight%7Dpx%3B%22%3E%3C%2Fdiv%3E'%2C%22%3C%2Fdiv%3E%22%2C'%3Cdiv%20id%3D%22VM_progressWrapper_%7Bid%7D%22%20class%3D%22VM_progressWrapper_image%22%3E'%2C'%3Cdiv%20id%3D%22VM_progressText_%7Bid%7D%22%20class%3D%22VM_progressText%22%3E%7Btext%7D%3C%2Fdiv%3E'%2C'%3Cdiv%20id%3D%22VM_progressContainer_%7Bid%7D%22%20class%3D%22VM_progressContainer%22%3E'%2C'%3Cdiv%20id%3D%22VM_progressBar_%7Bid%7D%22%20class%3D%22VM_progressBar%22%3E%3C%2Fdiv%3E'%2C%22%3C%2Fdiv%3E%22%2C%22%3C%2Fdiv%3E%22%2C%22%3C%2Fdiv%3E%22%5D%7D%3Breturn%7Bdecorate%3Ae%7D%7Dfunction%20progress()%7Bfunction%20e(e)%7Bthis.time%3De.time%2Cthis.animating%3D!1%2Cthis.adInstance%3De.adInstance%2Cthis.product%3Dthis.adInstance.product%2Cthis.unit%3De.unit%2Cthis.progressArea%3Dthis.unit.querySelector(%22.VM_progressArea%22)%2Cthis.progressBar%3Dthis.unit.querySelector(%22.VM_progressBar%22)%2Cthis._handleEvents()%2Cdocument.body.appendChild(this.unit)%7Dfunction%20r(r)%7Breturn%20new%20e(r)%7Dvar%20i%3D16.66%2Cs%3D0%2Ct%3D100%2Ca%3D250%2Cn%3D%22http%3A%2F%2Fwww.vibrantmedia.com%2FwhatisIntelliTXT.asp%22%3Breturn%20e.prototype%3Dnew%20creativeAPI.events.Observable%2Ce.prototype.animate%3Dfunction()%7Bfunction%20e()%7Bvar%20a%3D(new%20Date).getTime()%2Cn%3DMath.round((a-s)%2Fr.time*100)%2Co%3Dr.progressBar.style.width%3Dn%2B%22%25%22%3Br.allowProgress%26%26parseInt(o%2C10)%3C%3Dt%3F(r.animating%3D!0%2CsetTimeout(e%2Ci))%3Ar.allowProgress%3F(r.allowProgress%3D!1%2Cr.animating%3D!1%2Cr.fire(%22progFin%22))%3Ar.animating%3D!1%7Dif(this.animating)return!1%3Bvar%20r%3Dthis%2Cs%3D(new%20Date).getTime()%3Be()%7D%2Ce.prototype.start%3Dfunction()%7Bthis.resetDelay%26%26clearTimeout(this.resetDelay)%2Cthis.allowProgress%3D!0%2Cthis.animate()%7D%2Ce.prototype.stop%3Dfunction()%7Bvar%20e%3Dthis%3Bthis.allowProgress%3D!1%2Cthis.resetDelay%3DsetTimeout(function()%7Be.reset()%7D%2Ca)%7D%2Ce.prototype.reset%3Dfunction()%7Bthis.progressBar.style.width%3Ds%2B%22%25%22%7D%2Ce.prototype._handleEvents%3Dfunction()%7Bfunction%20e(e)%7Blog.progressBar(%7Bproduct%3Ai.adInstance.product%2Cevent%3Ae%2ChookId%3Ai.adInstance.settings.vibrantParameters.hookId%7C%7C0%2CcreativeId%3Ai.adInstance.settings.ads%5B0%5D.creative.value%7D)%7Dfunction%20r(e)%7Bchannel.fire(%22launch%22%2C%7Bsource%3Ae%7D)%7Dvar%20i%3Dthis%2Cs%3D%7Bstart%3A1%2Cstop%3A2%2Cfin%3A3%2Cclick%3A4%7D%2Ct%3D%7BprogressBar%3A1%7D%3Bif(config.mobile%7C%7C(channel.on(%22start%22%2Cfunction()%7Bi.start()%2Ce(s.start)%7D)%2Cchannel.on(%22stop%22%2Cfunction()%7Bi.stop()%2Ce(s.stop)%7D)%2Cthis.on(%22progFin%22%2Cfunction()%7Bi.reset()%2Cr(t.progressBar)%2Ce(s.fin)%7D))%2C%22inview%22%3D%3D%3Dthis.product%7C%7C%22image%22%3D%3D%3Dthis.product)%7Bvar%20a%3Dthis.unit.querySelector(%22.VM_progressArea_image%22)%3Bchannel.on(%22start%22%2Cfunction()%7Bconfig.mobile%7C%7C(a.style.visibility%3D%22visible%22)%7D)%2Cchannel.on(%22stop%22%2Cfunction()%7Bconfig.mobile%7C%7C(a.style.visibility%3D%22hidden%22)%7D)%7Dif(channel.on(%22click%22%2Cfunction()%7Bi.stop()%2Cr(t.progressBar)%2Ce(s.click)%7D)%2Cchannel.on(%22close%22%2Cfunction()%7Bi.stop()%7D)%2CcreativeAPI.events.bind(document.body%2CDEVICE_CLICK%2Cfunction()%7Bchannel.fire(%22click%22)%7D)%2C%22image%22%3D%3D%3Dthis.product)%7Bvar%20o%3Dthis.unit.querySelector(%22.image-close%22)%2Cd%3Dthis.unit.querySelector(%22.image-adchoice%22)%3Bevents.bind(o%2CDEVICE_CLICK%2Cfunction(e)%7BcreativeAPI.events.stopPropagation(e)%2Ci.adInstance.resetDecoration%3Fi.adInstance.close()%3Ai.adInstance.fire(%22close%22)%7D)%2Cevents.bind(d%2CDEVICE_CLICK%2Cfunction(e)%7BcreativeAPI.events.stopPropagation(e)%2Ci.stop()%2Clog.adChoiceClick(%7Bproduct%3Ai.product%2ChookId%3Ai.adInstance.settings.vibrantParameters.hookId%7C%7C0%7D)%2CcreativeAPI.dom.openUrl(n)%7D)%7D%7D%2C%7Bcreate%3Ar%7D%7Dvar%20creativeAPI%3Dwindow.frameElement.creativeAPI%2Cchannel%3DcreativeAPI.channel%2Cevents%3DcreativeAPI.events%2Clog%3DcreativeAPI.log%2Cparams%3DcreativeAPI.template.params%2Cconfig%3DcreativeAPI.config%2CDEVICE_CLICK%3Dconfig.mobile%3F%22touchstart%22%3A%22click%22%3Bwindow.setTimeout(function()%7Bprogress().create(%7Btime%3AparseInt(params.progressBarTime%2C10)%7C%7C3e3%2CadInstance%3AcreativeAPI.adInstance%2Cunit%3Adecoration().decorate(creativeAPI.adInstance.product%2C%7Bimage%3Aparams.progressBarImage%7C%7C!1%2CadInstance%3AcreativeAPI.adInstance%2Ctext%3Aparams.progressBarText%3FcreativeAPI.utils.truncate(decodeURIComponent(params.progressBarText)%2C25)%3A%22Click%20Or%20Hover%20To%20Expand%22%7D)%7D)%7D%2C0)%3C%2Fscript%3E%0A%0A%3C%2Fbody%3E%0A%3C%2Fhtml%3E%0A",o="%3C!DOCTYPE%20html%3E%3Chtml%3E%20%3Chead%3E%20%3Cstyle%3Ebody%7Bmargin%3A%200%3B%7Diframe%7Bposition%3A%20relative%3B%7Ddiv%7Bposition%3A%20absolute%3B%20margin%3A%200%3B%20top%3A%200px%3B%20left%3A%200px%3B%7D%3C%2Fstyle%3E%20%3C%2Fhead%3E%20%3Cbody%3E%20%3Cscript%3Evar%20creativeAPI%3Dwindow.frameElement.creativeAPI%3B%20var%20channel%3DcreativeAPI.channel%3B%20var%20events%3DcreativeAPI.events%3B%20var%20params%3DcreativeAPI.template.params%3B%20var%20dom%3DcreativeAPI.dom%3B%20var%20DEFAULTS%3D%7BWIDTH%3A%20320%2C%20HEIGHT%3A%2050%7D%3B%20var%20creative%3Ddom.createIFrame(%7Bwidth%3A%20DEFAULTS.WIDTH%2C%20height%3A%20DEFAULTS.HEIGHT%7D%2C%20function%20(err%2C%20iframe)%7Biframe.src%3Dparams.adhesionBarCreative%3B%7D)%3B%20var%20overlay%3Ddocument.createElement('div')%3B%20overlay.style.width%3DDEFAULTS.WIDTH%20%2B%20'px'%3B%20overlay.style.height%3DDEFAULTS.HEIGHT%20%2B%20'px'%3B%20document.body.appendChild(creative)%3B%20document.body.appendChild(overlay)%3B%20events.bind(overlay%2C%20'click'%2C%20function%20(e)%7Bevents.stopPropagation(e)%3B%20launch(1)%3B%7D)%3B%20channel.on('click'%2C%20function%20(e)%7Bevents.stopPropagation(e)%3B%20launch(1)%3B%7D)%3B%20function%20launch%20(source)%7Bchannel.fire('launch'%2C%7Bsource%3A%20source%7D)%3B%7D%3C%2Fscript%3E%20%3Cbody%3E%3C%2Fhtml%3E";return{logEvents:e,events:t,progressCreative:i,adhesionCreative:o}}function l(e,i){var o=function(o){var r,a=document.createElement("iframe");a.className=o.className||"vm_creativeComponents_iframe",a.width=o.width||"100%",a.height=o.height||"100%",a.frameBorder=0,a.scrolling="no";var s=o.api.adInstance,c=o.api.template,d=s.getAd(),l=s.getAdConfig(),u=e.extend({},{product:s.product,hookId:l.vibrantParameters.hookId,setId:l.vibrantParameters.setId,keyword:encodeURIComponent(l.term&&l.term.keyword||""),timestamp:+new Date,clickUrl:d.clickUrl,source:client.Log.clickSource.AD},d.creative.diyValues||{});s.mergedCreativeParams=e.extend({},d.creative.diyValues||{},d.creative.setValues||{},c.params);var p=e.extend({},s.mergedCreativeParams,{clickUrl:n.getUrl("clickThrough",u)});if(o.api.template.params.customSrc&&"vm_TakeOver_Wrapper"===o.className){var h={};t.apiHost&&(h.apiHost=encodeURIComponent(t.apiHost));var g="cdn.videoplayerjs",v=t.get(g,null);v&&(h.videoPlayerUrl=v),t.ipid&&(h.ipid=t.ipid),t.urlHash&&(h.urlHash=t.urlHash),t.pvu&&(h.pvu=t.pvu);var f=e.parseQueryString(p.customSrc);e.extend(f.params,h,p);var m=f.url+"?"+e.toQueryString(f.params);a.src=m}else r=i.bind(a,"load",e.once(function(){r(),a.contentWindow.contents=o.creative,a.creativeAPI=o.api||{},a.src="javascript:decodeURIComponent(window['contents'])"}));return a};return{nativeIframe:o}}function u(e,t,i){function o(t){return t.api.channel=new e.Observable,new n(t)}var n=function(e){this.options=e,this.creativeAPI=e.api,this.events(),this.takeover=i.nativeIframe({className:"vm_TakeOver_Wrapper",width:"100%",height:"100%",creative:e.creative,api:e.api})};return n.prototype.launch=function(){this.creativeAPI.adInstance.companion=this.takeover,document.body.appendChild(this.takeover)},n.prototype.destroy=function(){delete this.creativeAPI.adInstance.companion,this.takeover.parentNode.removeChild(this.takeover)},n.prototype.events=function(){var e=this,i=this.creativeAPI.channel,o=this.options.adInstance,n=o.product,r=o.settings.vibrantParameters.hookId,a=o.settings.ads[0].creative.value;i.on("open",function(){e.openTime=+new Date,o.fire("engagement"),t.engagement({product:n,hookId:r,source:e.options.source,creativeId:a})}),i.on("close",function(){e.destroy(),t.cpeClose({product:n,hookId:r,dwell:+new Date-e.openTime,creativeId:a})})},{create:o,Takeover:n}}function p(e,t,i,o){function n(e,i,o){t.Observable.call(this);var n=this;this.options=e,this.adInstance=e.adInstance,this.launchCallback=o,this.product=e.adInstance.product,this.wrapper=document.createElement("wrapper"),this.wrapper.className="vm_creativeComponents_progressWrapper",this.width=e.width,this.height=e.height,"image"!==this.product&&"inview"!==this.product||(this.width=this.adInstance.settings.container.width,"image"===this.product&&e.scaleToHeight&&(this.height=this.adInstance.settings.container.height)),this.adInstanceSetup(),this.channelEvents(),setTimeout(function(){i({element:n.wrapper,width:n.width,height:n.height})},1)}function r(i,o,r){var s=i.params,c=i.adInstance.product;return i.api.channel=new t.Observable,i.width="adhesion"===c?a.ADHESION_WIDTH:parseInt(s.intextBarWidth,10)||a.WIDTH,i.height=parseInt(s[c+"BarHeight"],10)||a[c.toUpperCase()+"_HEIGHT"],i.scaleToHeight=s.imageScaleToHeight||!1,i.decoration=e.extend({},{type:"cpeProgressBar",settings:{}},i.params.decoration),new n(i,o,r)}var a={WIDTH:150,ADHESION_WIDTH:320,ADHESION_HEIGHT:50,INTEXT_HEIGHT:35,IMAGE_HEIGHT:70,INVIEW_HEIGHT:100},s=150;return n.prototype=new t.Observable,n.prototype.channelEvents=function(){var i=this.options.api.channel,n=o.events.mouse,r=o.events.adunit,a=e.debounce(function(){i.fire("start")},s),c=e.debounce(function(){i.fire("stop")},s),d=e.debounce(function(e){e instanceof Event?t.stopPropagation(e):e&&e.event instanceof Event&&t.stopPropagation(e.event),i.fire("click")},s);"intext"===this.product&&this.adInstance.on(r.open,a),this.adInstance.on(r.close,c),this.adInstance.on(n["in"],a),this.adInstance.on(n.out,c),this.adInstance.on("delegate",function(e){"hover"===e.data.triggerSource?a():"click"===e.data.triggerSource&&d()}),this.adInstance.connect(n.adClick,this,n.click),this.on(n.click,d)},n.prototype.adInstanceSetup=function(){function e(){n.on("launch",function(e){o.launchCallback(e.data.source)}),o.progressFrame=i.nativeIframe({className:"vm_creativeComponents_progressBar",width:o.width,height:o.height,creative:o.options.progressCreative,api:o.options.api}),o.wrapper.appendChild(o.progressFrame)}function t(){o.options.api.channel.unbindAll(),o.progressFrame.parentNode.removeChild(o.progressFrame)}var o=this,n=this.options.api.channel;this.adInstance.on("opened",e),this.adInstance.on("closed",t)},{create:r,Progress:n}}function h(e,t){var i=function(i,o,n){var r=i.adInstance,a=e.debounce(function(){n(t.logEvents.launchSource.dropin)},250);r.resetDecoration&&r.resetDecoration({decorationType:"cpeDropIn"}),r.on(t.events.mouse.click,a),r.on(t.events.mouse["in"],a),r.on("delegate",function(e){"click"===e.data.triggerSource&&a()}),o({element:document.createElement("div"),width:0,height:0})};return{spawn:i}}function g(e,i){v=d(),f=l(r,o),y=p(r,o,f,v),w=h(r,v);var a=e.adInstance,s=e.templateData,g=s.params;a.setBehaviour&&a.setBehaviour("clickThrough",!1);var b=function(t){if(m=u(o,n,f),!t)throw n.auditError({message:"source not defined"});"intext"===a.product&&setTimeout(function(){a.fire("close")},1),m.create({creative:s.template,adInstance:a,source:t,api:c(e)}).launch()};if("adhesion"!==a.product&&"intext"!==a.product||"desktop"===t.platform||(g.progressBar=!1),g.progressBar){var k;k=g.progressCreative?g.progressCreative:"adhesion"===a.product?v.adhesionCreative:v.progressCreative,y.create({progressCreative:k,params:g,adInstance:a,api:c(e)},i,b)}else w.spawn({adInstance:a},i,b)}var v,f,m,y,w;return{load:g}};var adunit=adunit||{};adunit.Creative=function(e,t){function i(){e.Observable.call(this);var t=this;this.on(n.LOAD,function(e){t.load(e)},this)}function o(e){return t.extend(new i,e)}var n={LOADED:"loaded",LOAD:"load"};return i.prototype=new e.Observable,i.prototype.getWidth=function(){return this.width},i.prototype.getHeight=function(){return this.height},i.prototype.load=function(){throw new Error("not implemented")},{CreativeInterface:i,create:o}};var adunit=adunit||{};adunit.CustomUnit=function(e,t,i,o,n,r,a,s){function c(e,s,c){return e.VM=e.VM||{},new a(e,s,t,i,o,n,r,c)}function d(e,t,i){var n=r.debounce(function(){t.fire("start")},u),a=r.debounce(function(){t.fire("stop")},u),s=e.getDiyValues().nohookclick||!1,c=r.debounce(function(i,n){var a;n===client.Log.clickSource.HOOK&&s||(a=e.getClickDelay(),i instanceof Event?o.stopPropagation(i):i&&i.event instanceof Event&&o.stopPropagation(i.event),r.timeDeltaPassed(e.openTime,a,function(){t.fire("click")}))},u);e.on(e.EVENT_OPENED,n),e.on(e.EVENT_MOUSEIN,n),e.on(e.EVENT_CLOSED,a),e.on(e.EVENT_MOUSEOUT,a),e.on(e.EVENT_CLICK,function(e){var t=e.data instanceof MouseEvent?e.data:e.data.event,i=t.target.className===p?client.Log.clickSource.HOOK:client.Log.clickSource.AD;c(t,i)}),e.on(e.EVENT_CLOSED,function(){t.unbindAll(),i.parentNode&&i.parentNode.removeChild(i)}),e.on(e.EVENT_DELEGATE,function(e){"hover"===e.data.triggerSource?n():"click"===e.data.triggerSource&&c()})}function l(a,l){var u=a.adInstance,p=a.templateData,h=a.channel||new o.Observable,g=u.getAd(),v=u.getAdConfig(),f=r.extend({},{product:u.product,hookId:v.vibrantParameters.hookId,setId:v.vibrantParameters.setId,keyword:encodeURIComponent(v.term&&v.term.keyword||""),timestamp:+new Date,clickUrl:g.clickUrl,source:client.Log.clickSource.AD},g.creative.diyValues||{});u.mergedCreativeParams=r.extend({},g.creative.diyValues||{},g.creative.setValues||{},p.params);var m=r.extend({},u.mergedCreativeParams,{clickUrl:n.getUrl("clickThrough",f)}),y=u.isResponsive(),w=y?{}:{width:m.width,height:m.height},b=i.createIFrame(w,function(a,l){var g="";try{g=decodeURIComponent(p.template)}catch(a){console.log("decodeURIComponent failed:"+a)}if(m.customSrc){var v={};t.apiHost&&(v.apiHost=encodeURIComponent(t.apiHost));var f="cdn.videoplayerjs",y=t.get(f,null);y&&(v.videoPlayerUrl=y),t.ipid&&(v.ipid=t.ipid),t.urlHash&&(v.urlHash=t.urlHash),t.pvu&&(v.pvu=t.pvu);var w=r.parseQueryString(m.customSrc);r.extend(w.params,v,m);var b=w.url+"?"+r.toQueryString(w.params);l.src=b}else l.creativeAPI={adInstance:u,channel:h,config:t,dom:i,events:o,log:n,utils:r,videoplayer:c,template:{id:p.id,params:m,template:p.template},window:e,document:document},u.delayLoad?(l.contentWindow.contents=s.getIframeLoadingSrc(),l.src="javascript:window['contents']",u.on(u.DELAYED_LOAD,function(){l.contentWindow.contents=g,l.src="javascript:window['contents']",u.delayLoad=!1})):(l.contentWindow.contents=g,l.src="javascript:window['contents']");d(u,h,l)});l({width:m.width,height:m.height,element:b})}var u=100,p="vm-hook";return{load:l}};var adunit=adunit||{};adunit.Decoration=function(e,t,i,o,n,r,a){function s(e){return w[e]||w.standard}function c(e,t,i){return"inview"===t&&(i="inview"),y.hasOwnProperty(i)?e.style.zIndex=y[i]:e.style.zIndex=y.fallback,e}function d(e,o){var n,r,a,d,u=t.createElement("div");o=o||{},o.settings=o.settings||e.settings;var p=s(o.decorationType);if(p){p=p.replace(/\{id\}/g,e.id);var g=constants.LanguageMap().map["default"].adChoicesText,m=constants.LanguageMap().map["default"].hdrText;if(i){var y=i.get("geo",{});if(y&&y.cc){"de"===y.cc&&(f=v),"uk"===y.cc&&(f=h);var w=constants.LanguageMap().map[y.cc];w&&w.adChoicesText&&(g=w.adChoicesText),w&&w.hdrText&&(m=w.hdrText)}}p=p.replace(/\{adChoicesText\}/g,g),p=p.replace(/\{hdrText\}/g,m)}return u.innerHTML=p,d=u.firstChild,n=d.querySelectorAll(".vm-adunit-close, .vm-inview-close"),r=d.querySelector(".vm-adunit-adchoice"),a=d.querySelector(".vm-adunit-body"),a.appendChild(e.body),d=c(d,o.decorationType,e.product),e.outerBox=e.position.placeOuterBox(e,d),e=l(e,{outerBox:d,adunitClose:n,adunitAdChoice:r})}function l(e,t){return o.bindConnect(t.outerBox,"mouseenter",e,e.EVENT_MOUSEIN),o.bindConnect(t.outerBox,"mouseleave",e,e.EVENT_MOUSEOUT),r.isEmpty(t.adunitClose)||r.forEach(t.adunitClose,function(t){o.bind(t,"click",function(t){o.stopPropagation(t),e.fire("close",client.Log.closeSource.AD)})}),t.adunitAdChoice&&o.bind(t.adunitAdChoice,"click",function(t){o.stopPropagation(t),a.adChoiceClick({product:e.product,hookId:e.settings.vibrantParameters.hookId}),n.openUrl(f)}),e}function u(){return b}function p(){return k}var h="https://www.vibrantmedia.com/en/whats-intellitxt/",g="https://www.vibrantmedia.com/whats-intellitxt/",v="https://www.vibrantmedia.com/de/whats-intellitxt/",f=g,m=i.getBoolean("partner.inview.headerclose",!1),y={intext:i.getInteger("partner.intext.zindex",5999999),image:i.getInteger("partner.image.zindex",1999999),daw:i.getInteger("partner.daw.zindex",5e6),adhesion:i.getInteger("partner.adhesion.zindex",5e6),adbar:i.getInteger("partner.adbar.zindex",5e6),inline:i.getInteger("partner.inline.zindex",4999),instory:i.getInteger("partner.instory.zindex",4999),inview:i.getInteger("partner.inview.zindex",4999),fallback:i.getInteger("partner.fallback.zindex",1e6)},w={standard:['<div id="vm-adunit-outer-{id}" class="vm-adunit-outer">','<div class="vm-adunit-close vm-close-top"></div>','<div class="vm-adunit-adchoice vm-adchoice-top"></div>','<div id="vm-adunit-inner-{id}" class="vm-adunit-inner">','<div id="vm-adunit-content-{id}" class="vm-adunit-content">','<div id="vm-adunit-head-{id}" class="vm-adunit-head"></div>','<div id="vm-adunit-body-{id}" class="vm-adunit-body vm-adunit-loading">',"</div>",'<div id="vm-adunit-foot-{id}" class="vm-adunit-foot"></div>',"</div>","</div>","</div>"].join("\n"),
legacyadhesion:['<div id="vm-adunit-outer-{id}" class="vm-adunit-outer legacyadhesion">','<div class="vm-adunit-close" style="background-position: -60px 0px;"></div>','<div class="vm-adunit-adchoice vm-adchoice-top"></div>','<div id="vm-adunit-inner-{id}" class="vm-adunit-inner">','<div id="vm-adunit-content-{id}" class="vm-adunit-content">','<div id="vm-adunit-head-{id}" class="vm-adunit-head"></div>','<div id="vm-adunit-body-{id}" class="vm-adunit-body vm-adunit-loading">',"</div>",'<div id="vm-adunit-foot-{id}" class="vm-adunit-foot"></div>',"</div>","</div>","</div>"].join("\n"),image:['<div id="vm-adunit-outer-{id}" class="vm-adunit-outer">','<div class="vm-adunit-close vm-close-base"></div>','<div class="vm-adunit-adchoice vm-adchoice-base"></div>','<div id="vm-adunit-inner-{id}" class="vm-adunit-inner vm-no-shadow">','<div id="vm-adunit-content-{id}" class="vm-adunit-content">','<div id="vm-adunit-head-{id}" class="vm-adunit-head"></div>','<div id="vm-adunit-body-{id}" class="vm-adunit-body vm-body-clear">',"</div>",'<div id="vm-adunit-foot-{id}" class="vm-adunit-foot"></div>',"</div>","</div>","</div>"].join("\n"),cpeProgressBar:['<div id="vm-adunit-outer-{id}" class="vm-adunit-outer">','<div id="vm-adunit-inner-{id}">','<div id="vm-adunit-content-{id}" class="vm-adunit-content">','<div id="vm-adunit-head-{id}" class="vm-adunit-head"></div>','<div id="vm-adunit-body-{id}" class="vm-adunit-body"></div>','<div id="vm-adunit-foot-{id}" class="vm-adunit-foot"></div>',"</div>","</div>","</div>"].join("\n"),cpeDropIn:['<div id="vm-adunit-outer-{id}" class="vm-adunit-outer" style="display: none">','<div id="vm-adunit-inner-{id}">','<div id="vm-adunit-content-{id}" class="vm-adunit-content">','<div id="vm-adunit-head-{id}" class="vm-adunit-head"></div>','<div id="vm-adunit-body-{id}" class="vm-adunit-body"></div>','<div id="vm-adunit-foot-{id}" class="vm-adunit-foot"></div>',"</div>","</div>","</div>"].join("\n"),chrome:['<div id="vm-adunit-outer-{id}" class="vm-adunit-outer">','<div id="vm-tt-header-{id}" class="vm-tt-header" style="height: 30px;">','<div class="vm-tt-sprite-header">','<div class="vm-tt-sprite12-tlc vm-tt-sprite12"></div>','<div class="vm-tt-sprite12-tm vm-tt-sprite12"></div>','<div class="vm-tt-sprite12-trc vm-tt-sprite12"></div>',"</div>",'<div class="vm-tt-hdr-lft">','<a target="_blank" class="vm-tt-vmlogo-a">','<div class="vm-tt-vmlogo12"></div>',"</a>",'<div class="vm-tt-priv12 vm-adunit-adchoice" style="display: block;">','<div class="vm-tt-adchoices12"></div>','<div class="vm-tt-adchoices12-txt">{adChoicesText}</div>',"</div>","</div>",'<div class=" vm-tt-hdr-rt">','<div class="vm-adunit-close" style="background-position: -60px 0px;"></div>',"</div>","</div>",'<div style="background-color: rgb(240, 240, 240);" class="vm-tt-content-bg">','<div class="vm-tt-sprite12-lft-edge" style="display: block;"></div>','<div class="vm-tt-sprite12-rt-edge" style="display: block;"></div>',"</div>",'<div id="vm-adunit-inner-{id}" class="vm-adunit-inner" style="padding-left: 5px;padding-right: 5px;padding-top: 30px;">','<div id="vm-adunit-content-{id}" class="vm-adunit-content">','<div id="vm-adunit-head-{id}" class="vm-adunit-head"></div>','<div id="vm-adunit-body-{id}" class="vm-adunit-body vm-adunit-loading">',"</div>",'<div id="vm-adunit-foot-{id}" class="vm-adunit-foot"></div>',"</div>","</div>",'<div id="vm-tt-footer" style="width: 100%; height: 6px; background-color: transparent;">','<div class="vm-tt-footer12">','<div class="vm-tt-footer12-left vm-tt-sprite12"></div>','<div class="vm-tt-footer12-mid vm-tt-sprite12"></div>','<div class="vm-tt-footer12-right vm-tt-sprite12"></div>',"</div>","</div>","</div>"].join("\n"),inview:['<div id="vm-adunit-outer-{id}" class="vm-adunit-outer vm-inview">','<div class="vm-inview-header '+(m?"vm-inview-close":"")+'">',"{hdrText}",'<div class="vm-adunit-close">','<div class="vm-close-icon"></div>',"</div>","</div>",'<div id="vm-adunit-inner-{id}" class="vm-adunit-inner">','<div id="vm-adunit-content-{id}" class="vm-adunit-content">','<div id="vm-adunit-body-{id}" class="vm-adunit-body">',"</div>","</div>","</div>",'<div class="vm-inview-footer">','<div class="vm-adunit-adchoice"></div>','<div class="vm-inview-poweredby"></div>',"</div>","</div>"].join("\n"),instory:['<div id="vm-adunit-outer-{id}" class="vm-adunit-outer vm-instory">','<div class="vm-instory-header '+(m?"vm-instory-close":"")+'">',"{hdrText}",'<div class="vm-adunit-close">','<div class="vm-close-icon"></div>',"</div>","</div>",'<div id="vm-adunit-inner-{id}" class="vm-adunit-inner">','<div id="vm-adunit-content-{id}" class="vm-adunit-content">','<div id="vm-adunit-body-{id}" class="vm-adunit-body">',"</div>","</div>","</div>",'<div class="vm-instory-footer">','<div class="vm-adunit-adchoice"></div>','<div class="vm-instory-poweredby"></div>',"</div>","</div>"].join("\n")},b=["<html>","<head>","<style>",".loaderOuter {","       width: 100%;","       height: 100%;","       display: flex;","       justify-content: center;","       align-items: center;","background:#f3f3f3;","}",".loaderInner {","        border: 16px solid #dadada;","        border-radius: 50%;","        border-top: 16px solid #3498db;","        width: 30%;","        padding-top: 30%;","        -webkit-animation: spin 2s linear infinite;","        animation: spin 2s linear infinite;","}","@-webkit-keyframes spin {0% { -webkit-transform: rotate(0deg); }100% { -webkit-transform: rotate(360deg); }}","@keyframes spin {0% { transform: rotate(0deg); }100% { transform: rotate(360deg); }}","</style>","</head>","<body>",'<div class="loaderOuter">','<div class="loaderInner"></div>',"</div>","</body>","</html>"].join("\n"),k=["<body>",'<div class="vm_loading_outer">','<div class="vm_loading_inner"></div>',"</div>","</body>","</html>"].join("\n");return{decorate:d,getIframeLoadingSrc:u,getPageLoadingSrc:p}};var adunit=adunit||{};adunit.Position=function(e,t,i,o,n,r){function a(e){this.positionFunc=e}function s(e,t,i,o,n,r){var a;if(e.body)try{if(a=e.body.contentDocument){var s=a.body?a.body.clientHeight:0;if(s){var c=s+i;e.body.setAttribute("height",c.toString()),e.body.style.height=c+"px";var d=e.getBodyContainer();d&&(d.style.height=c+"px"),t.style.height=c+"px",t.style.maxHeight=c+o+"px",n&&n.style.setProperty("margin-bottom",c+"px","important"),r&&r(c)}}}catch(l){a=null}}function c(e,t){this.position=e,this.animate=t.animate,this.controlledOpen=t.controlledOpen,this.animationTime=500}function d(e,t){if(this.element=e,this.openTransitionEnabled=!0,this.closeTransitionEnabled=!0,this.useSimpleElement=!1,t&&t.get("partner.inline",null)){var i=t.get("partner.inline");i&&(this.useSimpleElement=i.getBoolean("usesimpleelement",!1))}}function l(e){this.hook=e,this.openTransitionEnabled=!0,this.closeTransitionEnabled=!0}function u(e){this.hook=e}var p=100,h=300,g="-9999px",v=60;return a.prototype.placeOuterBox=function(i,r){var a=this;r.className+=" vm-adunit-absolute",r.style.top=g,r.style.left=g,r.style.visibility="hidden",r.style.opacity=0;var c=r.querySelector(".vm-adunit-body");c.style.width=i.getWidth()+"px",c.style.height=i.getHeight()+"px";var d=n.debounce(function(){var e=a.positionFunc();i.specsForExpand&&i.specsForExpand.expanded?(i.specsForExpand.reset=e.top,r.style.top=e.top-i.specsForExpand.topForExpanded+"px"):r.style.top=e.top+"px",r.style.left=e.left+"px"},p,{leading:!0});return i.once("opened",function(){r=t.body.appendChild(r),d(),a.unbindResizeEvent=o.bind(e,"resize",d),i.on("domChange",d),r.style.visibility="visible",r.style.opacity=1}),i.once("closing",function(){a.unbindResizeEvent&&(a.unbindResizeEvent(),delete a.unbindResizeEvent),i.unbind("domChange",d),r.style.visibility="hidden",r.style.opacity=0}),i.once("closed",function(){r.style.top=g,r.style.left=g,t.body.removeChild(r)}),i.on("resizeHeight",function(){s(i,r,0,0,void 0,function(){r.style.height="auto",r.style.maxHeight="initial"})}),r},c.prototype.placeOuterBox=function(o,r){var a,s=this;r.className+=" vm-adunit-fixed",r.style.top=g,r.style.left=g,r.style.bottom="",r.style.right="",r.style.visibility="hidden",r.style.opacity=0;var c=r.querySelector(".vm-adunit-body");return c.style.width=o.getWidth()+"px",c.style.height=o.getHeight()+"px",o.once("opened",function(){function c(){s.animate?(a=i.getStyle(r).height,r.style.bottom="-"+a,r.style.visibility="visible",r.style.opacity=1,e.setTimeout(function(){r.className+=" vm-adunit-fixed-animate",r.style.bottom="0px"},s.animationTime)):(r.style.visibility="visible",r.style.opacity=1)}n.forEach(["top","left","bottom","right"],function(e){s.position.hasOwnProperty(e)?r.style[e]=s.position[e]+"px":r.style[e]=""}),""===r.style.left&&""===r.style.right&&(r.style.left="50%",r.style.marginLeft=-o.getWidth()/2+"px"),r=t.body.appendChild(r),s.controlledOpen?o.on(o.CONTROLLED_OPEN,c):c()}),o.once("closing",function(){s.animate?r.style.bottom="-"+a:(r.style.visibility="hidden",r.style.opacity=0)}),o.once("closed",function(){s.animate?e.setTimeout(function(){r.style.visibility="hidden",r.style.top=g,r.style.left=g,t.body.removeChild(r)},s.animationTime):(r.style.top=g,r.style.left=g,t.body.removeChild(r))}),r},d.prototype.placeOuterBox=function(t,i){function a(){i.style.maxHeight="initial",r.fire(client.app.inline.animationEnd),c&&(i.style.height="100%",d.style.height="100%")}var c=t.isResponsive();i=this.useSimpleElement?this.element.appendChild(i):this.element.parentNode.insertBefore(i,this.element.nextSibling);var d=i.querySelector(".vm-adunit-body");return t.on("resizeHeight",function(){s(t,i,0,10,void 0,void 0)}),r.fire(client.app.inline.animationStart),i.className+=" vm-adunit-inline",c?(i.style.width="100%",d.style.width="100%"):(i.style.width=t.getWidth()+"px",d.style.width=t.getWidth()+"px"),this.openTransitionEnabled?(i.style.maxHeight="0px",e.setTimeout(a,1)):a(),o.bind(e,"scroll",function(){a()}),t.once("closed",function(){var t,r=n.once(function(){t&&t(),i.parentNode.removeChild(i)});this.closeTransitionEnabled?(i.style.maxHeight="0px",i.style.height="0px",n.isIE?e.setTimeout(r,h):t=o.bind(i,"transitionend",r)):r()},this),i},l.prototype.placeOuterBox=function(t,a){function c(){l&&l(),r.fire(client.app.inview.animationEnd)}function d(){var e,o=C?k:t.getHeight(),n=o+y+w,r=i.getPosition(p),s=u.hook.getParagraphPosition();a.style.top=r.bottom-r.top+"px",a.style.left=s.left-r.left+"px",a.style.position="absolute",a.style.width=s.right-s.left+"px",e=n,u.hook.hidden?p.style.marginBottom=0:p.style.marginBottom=e+"px",a.style.height=e+"px",f.style.width=t.getWidth()+"px"}var l,u=this,p=this.hook.getDomNode(),g=t.getHeight()+v,f=a.querySelector(".vm-adunit-body"),m=300,y=15,w=60;r.fire(client.app.inview.animationStart),n.isIE?e.setTimeout(c,h):l=o.bind(a,"transitionend",c);var b=" vm-hook-inview";p&&p.className.indexOf(b)===-1&&(p.className+=b),a.className+=" vm-adunit-inview",f.style.width=t.getWidth()+"px",f.style.height=t.getHeight()+"px",a.style.maxHeight="0px",p.style.setProperty("margin-bottom","0px","important");var k=0,C=!1;return t.on("resizeHeight",function(){s(t,a,y,w,p,function(e){C=!0,k=e,d()})}),e.setTimeout(function(){g=t.getHeight()+v,a.style.maxHeight=g+"px",p.style.setProperty("margin-bottom",g+"px","important")},1),o.bind(e,"resize",n.debounce(function(){d()}),m),d(),t.once("opened",function(){u.hook.hidden=!1}),t.once("closed",function(){var t;r.fire(client.app.inview.animationStart);var i=n.once(function(){t&&t(),r.fire(client.app.inview.animationEnd),a.parentNode.removeChild(a)});a.style.maxHeight="0px",p.style.marginBottom="0px",u.hook.hidden=!0,n.isIE?e.setTimeout(i,h):t=o.bind(a,"transitionend",i)},this),p.appendChild(a)},u.prototype.placeOuterBox=function(t,a){function c(e){var o,n,r=E?m:t.getHeight(),s=r+l+u;if("instory"===b){var c=i.getPosition(f),h=d.hook.getParagraphPosition();a.style.top=c.bottom-c.top+"px",a.style.left=h.left-c.left+"px",a.style.position="absolute",a.style.width=h.right-h.left+"px",o=c.bottom-i.getScrollY(),n=v(a,s,o),n=e?Math.min(n,e):n,n=n>p?n:0,d.hook.hidden?f.style.marginBottom=0:f.style.marginBottom=n+"px"}else{var w,C=d.hook.getDomNode(),I=i.getPosition(C),x="SimpleElementNode"===d.hook.constructor.name;w=x?I.top-i.getScrollY():I.bottom-i.getScrollY(),a.style.top=0,a.style.left=0,a.style.position="static",n=v(a,s,w),n=e?Math.min(n,e):n,n=n>p?n:0,f.style.marginBottom=0}a.style.height=n+"px";var A=i.getAbsoluteViewport(),D=A.bottom-A.top,S=Math.min(D,s),O=i.pixelHeightInViewport(a),N=S>0?Math.round(100*O/S):0;t.fire("slidingopen",N),N>g&&(k(),t.delayLoad&&t.fire(t.DELAYED_LOAD,N)),y.style.width=t.getWidth()+"px"}var d=this,l=10,u=80,p=10,g=75,v=behaviour.InstoryHeightCalc(i),f=this.hook.getDomNode(),m=0,y=a.querySelector(".vm-adunit-body"),w=300,b=t.product,k=n.once(function(){t.fire("slidingopened")}),C=" vm-hook-instory";f&&f.className.indexOf(C)===-1&&(f.className+=C),a.className+=" vm-adunit-instory";var E=!1;if(o.bind(e,"resize",n.debounce(function(){c()}),w),o.bind(a,"mouseenter",function(){a.setAttribute("data-mouse","in"),c()}),o.bind(a,"click",function(){a.setAttribute("data-mouse","in"),c()}),o.bind(e,"scroll",function(){c()}),c(),t.on("resize",function(){c()}),t.on("contentLoaded",function(){s(t,a,l,u,f,function(e){E=!0,m=e,c(e)})}),t.on("resizeHeight",function(){s(t,a,l,u,f,function(e){E=!0,m=e,c(e)})}),t.once("closed",function(){var t;r.fire(client.app.inview.animationStart);var i=n.once(function(){t&&t(),r.fire(client.app.inview.animationEnd),a.parentNode.removeChild(a)});a.style.maxHeight="0px",f.style.marginBottom="0px",d.hook.hidden=!0,n.isIE?e.setTimeout(i,h):t=o.bind(a,"transitionend",i)},this),"inline"===b){var I="SimpleElementNode"===d.hook.constructor.name;if(I)f.appendChild(a);else{var x=d.hook.getDomNode();x&&x.parentNode.insertBefore(a,x.nextSibling)}}else f.appendChild(a);return a},{Absolute:a,Fixed:c,Inline:d,Inview:l,Instory:u}};var adunit=adunit||{};adunit.Template=function(e,t){function i(e){this.id=e.id,this.params=e.params||{},this.hook=e.hook||{},this.template=e.template||""}function o(t,o,a){var s,c;"undefined"!=typeof r[t.id]?(c=r[t.id].clone(),a(null,c)):"c2s"===o.ads[0].creative.creativeType?(s=new i({id:t.id,params:{c2s:!0}}),c=s.clone(),a(null,c)):o.ads[0].creative.payload?(s=new i(o.ads[0].creative.payload),r[t.id]=s,c=s.clone(),a(null,c)):e.jsonp({scope:n,url:t.cdnUrl,id:t.id}).on("data",function(e){var o=e.data,n=new i(o);r[t.id]=n,c=n.clone(),a(null,c)})}var n="template",r={};return i.prototype.clone=function(){var e={id:this.id,params:{},hook:{},template:this.template};return this.params&&(e.params=t.extend({},this.params)),this.hook&&(e.hook=t.extend({},this.hook)),new i(e)},i.prototype.execute=function(e){return e=t.extend({},this.params,e||{},{source:window.location,timestamp:+new Date,creativeId:this.id}),t.replaceUrlParams(this.template,e)},{CachedTemplate:i,load:o}};var adunit=adunit||{},BASE_APP_SCOPE=BASE_APP_SCOPE||"VM";adunit.VideoUnit=function(e,t,i,o,n,r,a,s){function c(t,s,c,d){var l=u({config:i,dom:o,events:n,log:r,utils:a,debugLog:e[BASE_APP_SCOPE].debugLog});return"function"==typeof s&&"undefined"==typeof d&&(d=c,c=s),"videoFrame"===d?l.videoFrame.create(t,c):l.player.create(t,s,c)}function d(i){var o=t.head||t.getElementsByTagName("head")[0],n=t.createElement("script");e.VM.videoplayer=e.VM.videoplayer||{},e.VM.videoplayer.settings=s,e.VM.videoplayer.initialise=i,n.type="text/javascript",n.async=!0,n.src=v,o.appendChild(n),p=!0}function l(e,t,i,o){u?c(e,t,i,o):(h.push({args:e,id:t,callback:i,unit:o}),p||d(function(e){u=e,a.forEach(h,function(e){c(e.args,e.id,e.callback,e.unit)}),p=!1,h=[]}))}var u,p=!1,h=[],g=i.get("cdn.videoplayerjs",null),v="//"+g;return s=null,s&&s.keyVersion&&(s={activePlayer:"jwPlayer",jwPlayer:{url:"images.intellitxt.com/k/jwplayer/8.2.2",keyVersion:8}}),s=s||i.get("videoPlayerSettings",null),g?s?{load:l}:void console.log("Video player settings are not defined"):void console.log("Video player URL is not defined")};var behaviour=behaviour||{};behaviour.AdBarLegacy=function(e,t,i){function o(){var t=document.createElement("div");t.id=r,t.setAttribute("data-adtech",""),document.body.appendChild(t),e.ADTECH=e.ADTECH||{},i.appendScript(a,function(){e.ADTECH.loadAd&&e.ADTECH.loadAd({protocol:e.location.protocol.split(":")[0],server:"adserver.adtech.de",network:"82.0",placement:r})})}function n(){r&&o()}var r=t.getInteger("partner.adbar.cuid",!1),a="//aka-cdn-ns.adtech.de/dt/common/DACLoader.js";return n};var behaviour=behaviour||{};behaviour.AdBar=function(e,t,i,o,n,r,a){function s(){}var c=1,d="adbar",l=480,u=270,p=i.getInteger("partner.adbar.width",l),h=i.getInteger("partner.adbar.height",u),g=i.get("partner.adbar.position",!1),v="standard";return s.prototype=new n.Observable,s.prototype.invoke=function(n){function s(e){var t=o.waterfall.select(e,"adbar",v);return v=t.decoration,t.creative}function l(e,i){var o={bottom:0},n=e.template.params,r=e.getAd(),a=r.creative.diyValues||{};g&&!n.scaleToWidth&&(o[g]=10),e.position=new t.position.Fixed(o,{animate:!0,controlledOpen:!!a.controlledOpen}),i(null,e)}function u(e,i,o){function n(){r.adImpression({product:e.product,hookId:e.settings.vibrantParameters.hookId,setId:e.settings.vibrantParameters.setId,source:i})}var a=e.getAd(),s=a.creative.diyValues||{};e=t.decoration.decorate(e,{decorationType:v}),s.controlledOpen?e.on(e.CONTROLLED_OPEN,n):n(),o()}function f(e,t,i){r.adClose({product:e.product,hookId:e.settings.vibrantParameters.hookId,source:t||client.Log.closeSource.AUTO}),i()}var m=document.body.clientWidth,y=m>=p?p:m;e.request(d,{ids:[c+":"+y+":"+h],count:1},function(e){var o,p;e.hasOwnProperty(c)&&(p=e[c][0],p.container={width:m},o=t.adunit.create({product:d,settings:p,templateSettings:{cdnUrl:"//"+i.cdn.internal,id:p.ads[0].creative.value},creativeLoad:s,render:l,open:u,close:f}),r.hookLoad({product:d,hookIds:p.vibrantParameters.hookId}),a.track(o,p.trackers,p.term),o.connect("opened",o,"impression"),o.connect(o.EVENT_CLICK,o,"click"),o.fire("open",n.viewSource))})},s};var behaviour=behaviour||{};behaviour.AdhesionBackfill=function(e,t,i,o,n){function r(e){i.Observable.call(this),this.fetchFormat=e.fetchFormat}var a=1,s=n.getBoolean("partner.adhesion.refresh",!0),c=n.getInteger("partner.adhesion.refreshtime",3e4),d=1500,l=!0;return r.prototype=new i.Observable,r.prototype.invoke=function(t){function i(){l=!1}var n=this;l&&(e.request("adhesion",{ids:[o.replaceUrlParams(n.fetchFormat,{id:a})],count:1},function(e){e.hasOwnProperty(a)&&n.fire("adsReady",{ads:e[a][0],product:"adhesion",viewSource:t.viewSource,disableAdCallback:i,refresh:{enabled:s,interval:c,delay:d}})}),t.forceFlush&&e.forceFlush())},r};var behaviour=behaviour||{};behaviour.AdhesionPlacement=function(e,t,i,o,n,r,a,s){function c(){n.Observable.call(this);var e=this;this.isUserTouchingTheScreen=!1;var t=s.debounce(function(t){d&&!e.isUserTouchingTheScreen&&d.fire(g,t&&t.data||{})},l,{leading:!1});this.on(client.app.trigger.resize,t),this.on(client.app.trigger.zoom,t),this.on(client.app.trigger.scroll,t),this.on(client.app.trigger.touchend,function(i){e.isUserTouchingTheScreen=!1,setTimeout(function(){t(i)},l)}),this.on(client.app.trigger.touchstart,function(t){e.isUserTouchingTheScreen=!0,d&&!d.outerBox.contains(t.data.target)&&setTimeout(function(){d.fire(v)},u)})}var d,l=250,u=80,p=!0,h="standard",g="redraw",v="hide";return c.prototype=new n.Observable,c.prototype.invoke=function(s){function c(e,t,i){t===client.Log.closeSource.AD&&(p=!1,s.disableAdCallback&&s.disableAdCallback()),t===client.Log.closeSource.FORCE&&s.disableAdCallback&&s.disableAdCallback(),r.adClose({product:w,hookId:e.settings.vibrantParameters.hookId,source:t||client.Log.closeSource.AUTO}),k.enabled&&t===client.Log.closeSource.AUTO&&window.setTimeout(function(){C.fire("fetchAd",{viewSource:s.viewSource,forceFlush:!0})},k.delay),i()}function l(t,i){t.position=new e.position.Fixed({bottom:0,left:0},{animate:!0}),i(null,t)}function u(t,i,a){if(p){t=e.decoration.decorate(t,{decorationType:h});var s=t.outerBox,c=s.querySelector(".vm-adunit-content"),d=s.querySelector(".vm-adunit-body");n.bindConnect(c,"click",y,y.EVENT_CLICK),c.style.backgroundColor="rgba(0, 0, 0, 0.3)",c.style.width=window.innerWidth+"px",d.style.margin="auto",t.on(v,function(){s.style.display="none",s.style.visibility="hidden"}),t.on(g,function(){var e=o.getWinWidth(),i=o.getWinHeight(),n=window.screen&&window.screen.availHeight||i,r=o.getScrollX(),a=o.getScrollY(),l=o.getStyle(s),u=parseFloat(l.height).toFixed(1),p=window.outerWidth/window.innerWidth,h={width:e,height:u};return p>1.45?void t.fire(v):(p<1.1?(s.style.position="fixed",s.style.top="auto",s.style.left="0px",s.style.bottom="0px",s.style.transform="",c.style.width=window.innerWidth+"px"):(s.style.position="absolute",s.style.left=r+"px",s.style.bottom="auto",s.style.transform=["scaleY(",parseFloat(Math.pow(i,1.1)/(1.1*n)).toFixed(3),")"].join(""),s.style.top=[8+i+a-1.3*h.height,"px"].join(""),c.style.width=h.width+"px"),s.style.width=h.width+"px",s.style.height=h.height+"px",s.style.display="block",s.style.visibility="visible",void(d.style.margin="auto"))})}r.adImpression({product:w,hookId:t.settings.vibrantParameters.hookId,setId:t.settings.vibrantParameters.setId,source:i}),a(),k.enabled&&window.setTimeout(function(){t.fire("close")},k.interval)}var f,m,y,w,b,k,C=this;return s.hook?(m=s.hook,f=m.getAdConfig(),b=f.ads[0].creative.value):s.ads&&(f=s.ads,b=f.ads[0].creative.value),w=s.product||"intext",k=s.refresh||{},d&&"adhesion"!==d.product&&"adhesion"===w?void s.disableAdCallback():(y=e.adunit.create({product:w,settings:f,templateSettings:{cdnUrl:"//"+t.cdn.internal,id:b},creativeLoad:function(e){var t=i.waterfall.select(e,"adhesion",h);return h=t.decoration,t.creative},render:l,open:u,close:c}),r.hookLoad({product:w,hookIds:f.vibrantParameters.hookId}),d&&"adhesion"===d.product&&"adhesion"!==w?d.fire("close",client.Log.closeSource.FORCE):d&&d.fire("close",client.Log.closeSource.AUTO),a.track(y,f.trackers,f.term),y.connect("opened",y,"impression"),y.connect(y.EVENT_CLICK,y,"click"),s.triggerSource&&y.once("opened",function(){y.fire("delegate",{triggerSource:s.triggerSource,source:client.Log.clickSource.HOOK})}),y.fire("open",s.viewSource),void(d=y))},c};var behaviour=behaviour||{};behaviour.AutoReveal=function(e,t,i,o){function n(e){"undefined"!=typeof Storage&&(localStorage[v]=e)}function r(){if("undefined"!=typeof Storage)return localStorage[v]}function a(){"undefined"!=typeof Storage&&localStorage.removeItem(v)}function s(){var e=-1,t=r();if(!t)return 0;var i=t.split(",");if(2===(i||[]).length){var o=Date.now()-parseInt(i[1],10);e=parseInt(i[0],10),isNaN(o)||isNaN(e)||(e>=m&&o<y&&(e=-1),o>y&&a())}return e}function c(e){var t=e.getAdConfig().ads[0].creative,i=parseInt((t.diyValues||{}).autoreveal,10),o=k.test(t.creativeType)?0!==i:1===i;return e.isInViewport()&&!e.autoOpened&&o&&!e.isKeywordOnly}function d(e,t){var i,o=t.hooks||[],r=t.viewSource;if(u&&!(b>=f)&&o.length&&(i=s(),!(i<0)))for(var a=0;a<o.length;a++){var d=o[a];if(c(d)){if(e.invoke({hook:d,viewSource:r}),d.autoOpened=!0,b++,"undefined"!=typeof Storage){var l=[++i,Date.now()].join(",");n(l)}break}}}function l(){return u&&b<f}var u,p=1,h=2,g=180,v="VM_AUTOREVEAL",f=e.getInteger("global.autoreveal.maxpersession",p),m=e.getInteger("global.autoreveal.maxpertimeframe",h),y=1e3*e.getInteger("global.autoreveal.timeframe",g),w=e.get("mobile",!1),b=0,k={0:new RegExp(/^()/),1:new RegExp(/^internal/),2:new RegExp(/^(?!internal)/)}[2];switch(e.getInteger("partner.autoreveal",0)){case 1:u=!0;break;case 2:u=!w;break;case 3:u=w;break;default:u=!1}return o.on(client.app.trigger.load,function(){b=0}),{autoOpen:d,revealsAllowed:l,parseCookie:s,testOpenConditions:c,setAutorevealData:n,getAutorevealData:r,removeAutorevealData:a}};var behaviour=behaviour||{};behaviour.Daw=function(e,t,i,o,n,r,a){function s(){}var c=1,d=window.innerWidth/2<300?300:Math.round(window.innerWidth/2),l=window.innerHeight,u=i.getInteger("partner.daw.width",d),p=i.getInteger("partner.daw.height",l),h=i.getBoolean("partner.daw.refresh",!0),g=i.getInteger("partner.daw.refreshtime",3e4),v=1500;return s.prototype=new n.Observable,s.prototype.invoke=function(n){function s(){e.request("daw",{ids:[c+":"+u+":"+p],count:1},function(e){var s,u;e.hasOwnProperty(c)&&(u=e[c][0],s=t.adunit.create({product:"daw",settings:u,templateSettings:{cdnUrl:"//"+i.cdn.internal,id:u.ads[0].creative.value},creativeLoad:function(e){var t=o.waterfall.select(e,"daw",m);return m=t.decoration,t.creative},render:l,open:f,close:d}),r.hookLoad({product:"daw",hookIds:u.vibrantParameters.hookId}),a.track(s,u.trackers,u.term),s.connect("opened",s,"impression"),s.connect(s.EVENT_CLICK,s,"click"),s.fire("open",n.viewSource))})}function d(t,i,o){r.adClose({product:t.product,hookId:t.settings.vibrantParameters.hookId,source:i||client.Log.closeSource.AUTO}),h&&i===client.Log.closeSource.AUTO&&window.setTimeout(function(){s(),e.forceFlush()},v),o()}function l(e,i){e.position=new t.position.Fixed({bottom:0,right:10},{animate:!0}),i(null,e)}function f(e,i,o){e=t.decoration.decorate(e,{decorationType:m}),r.adImpression({product:e.product,hookId:e.settings.vibrantParameters.hookId,setId:e.settings.vibrantParameters.setId,source:i}),o(),h&&window.setTimeout(function(){e.fire("close")},g)}var m=i.get("partner.decorationtype","chrome");s()},s};var behaviour=behaviour||{};behaviour.DropInPlacement=function(e,t,i,o,n,r){function a(){}var s="dropin";return a.prototype=new o.Observable,a.prototype.invoke=function(o){function a(e,t,i){t===client.Log.closeSource.AD&&o.disableAdCallback&&o.disableAdCallback(),n.adClose({product:e.product,hookId:e.settings.vibrantParameters.hookId,source:t||client.Log.closeSource.AUTO}),i()}function c(t,i){t.position=new e.position.Fixed({bottom:0},{animate:!1}),i(null,t)}function d(t,i,o){t=e.decoration.decorate(t,{decorationType:s}),n.adImpression({product:t.product,hookId:t.settings.vibrantParameters.hookId,setId:t.settings.vibrantParameters.setId,source:i}),o()}var l=o.hook,u=l.getAdConfig(),p=l.getProduct(),h=e.adunit.create({product:p,settings:u,templateSettings:{cdnUrl:"//"+t.cdn.internal,id:u.ads[0].creative.value},creativeLoad:function(e){var t=i.waterfall.select(e,"dropin",s);return s=t.decoration,t.creative},render:c,open:d,close:a});n.hookLoad({product:h.product,hookIds:u.vibrantParameters.hookId}),r.track(h,u.trackers,u.term),h.connect("opened",h,"impression"),h.connect(h.EVENT_CLICK,h,"click"),o.triggerSource&&h.once("opened",function(){h.fire("delegate",{triggerSource:o.triggerSource,source:client.Log.clickSource.HOOK})}),h.fire("open",o.viewSource)},a};var behaviour=behaviour||{};behaviour.Inline=function(e,t,i,o,n,r,a,s){function c(){this.adConfig=i.get("partner.inline",{})}var d=480,l=360;return c.prototype=new n.Observable,c.prototype.invoke=function(n){function c(e,t,i){r.adClose({product:e.product,hookId:e.settings.vibrantParameters.hookId,source:t||client.Log.closeSource.AUTO}),i()}function u(e,o){h?e.position=new t.position.Instory(g,i):e.position=new t.position.Inline(g.getDomNode(),i),o(null,e)}function p(e,i,o){e=t.decoration.decorate(e,{decorationType:f}),r.adImpression({product:e.product,hookId:e.settings.vibrantParameters.hookId,setId:e.settings.vibrantParameters.setId,source:i}),o()}var h=i.get("partner.inline.useinstorybehaviour",!1),g=n.hook,v=g.getId()+":"+this.adConfig.get("adwidth",d)+":"+this.adConfig.get("adheight",l),f="standard";e.request("inline",{ids:[v],count:1},function(e){var d,l,v=g.getId();e[v]?(d=e[v][0],h&&"function"==typeof g.getWidth&&(d.container={width:g.getWidth()}),l=t.adunit.create({product:"inline",settings:d,templateSettings:{cdnUrl:"//"+i.cdn.internal,id:d.ads[0].creative.value},creativeLoad:function(e){var t=o.waterfall.select(e,"inline",f);return f=h?"instory":"standard",t.creative},render:u,open:p,close:c}),r.hookLoad({product:"inline",hookIds:d.vibrantParameters.hookId}),a.track(l,d.trackers,d.term),l.connect("opened",l,"impression"),l.connect(l.EVENT_CLICK,l,"click"),l.fire("open",n.viewSource)):s.notifyFailure("inline")})},c};var behaviour=behaviour||{};behaviour.InstoryHeightCalc=function(e){function t(t,o,n){var r=e.getWinHeight();if(o&&r){var a=.55,s=(r+o)*a,c=s>0?s:i,d=o;d=n<c?c-n:0,d=d>o?o:d,d=d<0?0:d;var l=t.getAttribute("data-mouse");if("in"===l&&d<o){var u=o-d;window.scrollBy(0,u),d=o,t.setAttribute("data-mouse","out")}return d}}var i=500;return t};var behaviour=behaviour||{};behaviour.ScriptsLoader=function(e,t){function i(e){o&&s(e.hooks)}for(var o,n=e.getJSON("scripts",[]),r=document.head||document.getElementsByTagName("head")[0],a=0;a<n.length;a++)if("captify"===n[a].source){o=n[a].pixel;break}var s=t.once(function(e){var t=(e||[]).map(function(e){return e.getAdConfig().term.keyword}).join(" "),i=document.createElement("script");i.type="text/javascript",i.async=!0,i.text=o.replace("${KEYWORDS}",t),r.appendChild(i)});return{invoke:i}};var behaviour=behaviour||{};behaviour.Tooltip=function(e,t,i,o,n,r,a,s,c,d,l){function u(){var e=this;r.Observable.call(this),d.on(client.app.inview.animationStart,function(){e.closeOpenTooltips()})}function p(d,l,u){function p(t,i,o){var n;l.disconnectAll(E),delete C[l.getId()];var c=s.once(function(){n&&n(),a.adClose({product:t.product,hookId:t.settings.vibrantParameters.hookId,source:i||client.Log.closeSource.AUTO}),o()});s.isIE?e.setTimeout(c,g):n=r.bind(t.outerBox,"transitionend",c)}function m(e,i){var o,r=e.getTemplateHookParams()||{},a=e.getMergedCreativeParams()||{},s=a.coverHook;e.position=new t.position.Absolute(function(){return h(E.getPosition(),l.getPosition(),r,s)}),o=n.onPositionChange(l.getDomNode(),function(){e.fire("domChange")},v),e.on("close",o),i(null,e)}function y(e,i,o){e=t.decoration.decorate(e,{decorationType:w}),a.adImpression({product:e.product,hookId:e.settings.vibrantParameters.hookId,setId:e.settings.vibrantParameters.setId,source:i});var n=e.getTemplateHookParams()||{};l&&n.cursorStyle&&l.setCursorStyle(n.cursorStyle),o()}var w=b,E=t.adunit.create({product:"intext",settings:d,openDelay:f.getInteger("opendelay",null),closeDelay:f.getInteger("closedelay",null),templateSettings:{cdnUrl:"//"+i.cdn.internal,id:d.ads[0].creative.value},creativeLoad:function(e){var t=o.waterfall.select(e,"tooltip",w);return w=t.decoration,t.creative},render:m,open:y,close:p});return c.track(E,d.trackers,d.term),E.connect("opened",E,"impression"),E.connect(E.EVENT_CLICK,E,"click"),l.connect(pagecontent.Hook.EVENT_HOOKIN,E,E.EVENT_MOUSEIN),l.connect(pagecontent.Hook.EVENT_HOOKOUT,E,E.EVENT_MOUSEOUT),l.connect(pagecontent.Hook.EVENT_CLICK,E,E.EVENT_CLICK),u.triggerSource&&E.once("opened",function(){E.fire("delegate",{triggerSource:u.triggerSource,viewSource:u.viewSource,source:client.Log.clickSource.HOOK})}),E.on(E.EVENT_MOUSEOUT,function(){E.fire("scheduleClose",client.Log.closeSource.AUTO)}),E.on(E.EVENT_MOUSEIN,function(){E.cancelScheduledClose()}),l.on(pagecontent.Hook.EVENT_HOOKOUT,function(){E.isOpen()&&E.fire("scheduleClose",client.Log.closeSource.AUTO)}),k.push(E),C[l.getId()]=E,E}function h(e,t,i,o){var r,a,c,d=n.getAbsoluteViewport(),l=i.coverhook||o||m,u=[],p=0;for(var h in E)if(E.hasOwnProperty(h)){if(r=E[h](e,t,l),d.contains(r))return r;u.push(r)}return s.forEach(u,function(e){var t=d.getIntersection(e);t&&t.pixels()>p&&(p=t.pixels(),a=e,c=t)}),a?(a.shiftY(c.top-a.top||c.bottom-a.bottom),a.shiftX(c.left-a.left||c.right-a.right),a):t.top>d.bottom?u[0]:u[1]}var g=300,v=100,f=i.get("partner.intext",{}),m=f.get("coverhook",!1),y=7,w=11,b=i.get("partner.decorationtype","chrome"),k=[],C={},E={placeAboveHook:function(e,t,i){var o=e.clone();switch(o.setCenter(t.getCenter()),i){case"cover":case"1":o.shiftY(-(e.getHeight()-t.getHeight())/2-y);break;case"center":case"centre":break;default:o.shiftY(-(e.getHeight()+t.getHeight())/2)}return o},placeBelowHook:function(e,t,i){var o=e.clone();switch(o.setCenter(t.getCenter()),i){case"cover":case"1":o.shiftY((e.getHeight()-t.getHeight())/2+w);break;case"center":case"centre":break;default:o.shiftY((e.getHeight()+t.getHeight())/2);
}return o}};return u.prototype=new r.Observable,u.isAnyOpen=function(){return s.some(k,function(e){return e.isOpen()})},u.prototype.closeOpenTooltips=function(){d.fire(client.app.intext.tooltipClose),s.forEach(k,function(e){e.isOpen()&&e.fire("close",client.Log.closeSource.AUTO)})},u.prototype.invoke=function(e){var t,o=this,n=e.hook,r=n.getAdConfig();if(n!==this.activeHook||!this.activeUnit.isOpen()){var s=i.getInteger("programmaticOverride",0);if(s&&n.getWaterfallOverrideAllowed())return void l.getAdForHook(n,function(t){if(t){var i=n.id,s=r.vibrantParameters.adProviderId,c=t.vibrantParameters.hookId,d=t.vibrantParameters.adProviderId;a.hookLoad({product:"intext",hookIds:c}),a.hookReplacement({product:"intext",oldHookId:i,newHookId:c,oldAdProviderId:s||-1,newAdProviderId:d||-1,reason:client.Log.hookReason.OVERRIDE}),n.adConfig=t,n.id=c,e.adConfig=t}(t||n.liveLookupFailsShowUnderlyingAd)&&(n.resetWaterfallOverrideAllowed(),o.invoke(e),n.hookClickActive=!0)});t=C[n.getId()]||p(r,n,e),t.isOpen()?t.cancelScheduledClose():(this.closeOpenTooltips(),t.fire("open",e.viewSource||client.Log.viewSource.MOUSE_OVER))}},u};var behaviour=behaviour||{};behaviour.VibrantView=function(e,t,i,o){function n(){return i.Observable.call(this),this.hookBucket=[],this.openedHooks={},this.views=0,this._allowOnLoad=v,this._allowOnScroll=f,this._hasLoaded=!1,this._lastTiggeredHook=null,this._isBlocked=!1,h&&g&&(v||f)?void this.on("scroll",function(e){var t=!(0===e.data.direction&&this._allowOnLoad),i=!(e.data.direction>0&&this._allowOnScroll);if(!t||!i)return this.views>=m?void this.fire("maxViewsReached"):void(this._lastTiggeredHook&&this._lastTiggeredHook.isInViewport()||r(this,e.data.viewSource))},this):void(this._isBlocked=!0)}function r(){}function a(e){var i,o;return 0!==e&&(!!(i=parseInt(t.get(l),10))&&(o=+new Date-i,o<e*s))}var s=6e4,c=5,d=1,l="VM_VVTIME",u=e.get("geo"),p=e.get("partner.vibrantview",{}),h=!o.includes(p.getArray("geoblock",[]),u.cc),g=!a(p.getInteger("minutes",c)),v=p.getBoolean("onload",e.getBoolean("mobile",!1)),f=p.getBoolean("onscroll",e.getBoolean("mobile",!1)),m=p.get("maxviews",d);return n.prototype=new i.Observable,n.prototype.invoke=function(e){return!!this._isBlocked||(this.hookBucket=this.hookBucket.concat(e.hooks),this._allowOnLoad&&!this._hasLoaded&&r(this,client.Log.viewSource.LOAD),void(this._hasLoaded=!0))},n.prototype.maxViews=m,n};var behaviour=behaviour||{};behaviour.Wordflip=function(e,t,i,o,n,r,a,s){function c(){var e=this;r.Observable.call(this),this.partnerControl=i.getBoolean("partner.intext.wordflip",!!i.mobile),this.triggerFlip=function(){return e.partnerControl?function(e){e._wordflip.flip()}:function(t){e.fire(t.getProduct()+":"+l.HIGHLIGHT,{hook:t,viewSource:client.Log.viewSource.MOUSE_OVER})}}(),this.hookBucket=[],this.firstFlipped=!1,this.on("doflip",function(){o.some(e.hookBucket,function(t){if(t.isInViewportArea(b)&&!t.triggered&&!t._wordflip.flipped&&!k)return e.triggerFlip(t),!0})}),this.connect("scroll",this,"doflip"),this.on("resize",function(){o.forEach(e.hookBucket,function(e){e._wordflip.positionWordflip()})}),s.on(client.app.inview.animationStart,function(){k&&k._wordflip.closeFlip()})}function d(e,t){this.hook=e,this.channel=t,this.boxWidth=0,this.textNode=this.hook.getDomNode().firstChild,this.hookStyling=this.hook.adConfig.ads[0].hook||{},this.wordflipSetup(),this.hookStyling.text||this.hookStyling.icon?(this.hookText(),this.hookIcon()):this.defaultStyle(),this.positionWordflip(),this.flipEvents()}var l={HIGHLIGHT:"highlight"},u="vm-wordflip",p=" vm-wordflip-default",h=" vm-wordflip-styled",g=2,v=20,f="-1000px",m=1800,y=250,w=550,b=.75,k=!1;return c.prototype=new r.Observable,c.prototype.invoke=function(e){function t(e,t,o){return function(){i.fire(t,{hook:e,viewSource:o,triggerSource:t})}}var i=this;this.hooks=e.hook&&[e.hook]||e.hooks||a.getVisibleHooks(),this.hooks.length&&(o.forEach(this.hooks,function(e){var o=(((((e.adConfig||{}).ads[0]||{}).creative||{}).payload||{}).params||{}).keywordOnly;e.eventsBound||o||(e.eventsBound=!0,e._wordflip=new d(e,i),i.hookBucket.push(e),e.on(pagecontent.Hook.EVENT_CLICK,function(){t(e,"click",client.Log.viewSource.MOUSE_OVER)}),e.on(pagecontent.Hook.EVENT_HOOKIN,function(){t(e,"hover",client.Log.viewSource.MOUSE_OVER),i.triggerFlip(e)}),e.on(pagecontent.Hook.EVENT_HOOKOUT,t(e,"mouseleave",client.Log.viewSource.MOUSE_OVER)),n.onPositionChange(e.getDomNode(),function(){e._wordflip.positionWordflip()},y))}),i.fire("doflip"))},d.prototype.flip=function(){if(k&&this.hook!==k)k._wordflip.closeFlip();else if(this.hook===k)return;k=this.hook,this.openFlip(),this.channel.fire(this.hook.getProduct()+":"+l.HIGHLIGHT,{hook:this.hook,viewSource:client.Log.viewSource.MOUSE_OVER}),this.flipped=!0},d.prototype.openFlip=function(){var t=this;this.box.style.visibility="visible",this.box.style.opacity=1,o.isIE&&(this.box.style.filter="alpha(opacity = 100)"),this.closeDelay=e.setTimeout(function(){t.closeFlip()},m)},d.prototype.closeFlip=function(){var t,i;this.closeDelay&&e.clearTimeout(this.closeDelay),t=o.once(function(){i&&i(),k=!1}),o.isIE?(e.setTimeout(t,w),this.box.style.filter="alpha(opacity = 0)"):(i=r.bind(this.box,"transitionend",t),e.setTimeout(t,w)),this.box.style.opacity=0},d.prototype.wordflipSetup=function(){this.box=t.createElement("div"),this.box.className=u,this.box.style.position="absolute",this.box.style.top=f,this.box.style.left=f,this.box.style.visibility="hidden",this.box.style.opacity=0,this.box.style.height=this.textNode.offsetHeight+g+"px"},d.prototype.positionWordflip=function(){this.box.style.width=this.boxWidth+"px",t.body.appendChild(this.box),this.hookCenter=n.getPosition(this.textNode).getCenter(),this.boxPos=n.getPosition(this.box),this.boxPos.setCenter(this.hookCenter),n.setPosition(this.box,this.boxPos)},d.prototype.hookIcon=function(){this.hookStyling.icon&&(this.icon=t.createElement("img"),this.icon.src=this.hookStyling.icon,this.box.appendChild(this.icon),this.boxWidth+=v+2*g)},d.prototype.hookText=function(){var e=this.hookStyling.text||this.hook.adConfig.term.keyword;this.textBox=t.createElement("span"),n.setTextContent(this.textBox,e),this.box.appendChild(this.textBox),this.box.className+=h,this.boxWidth=n.getTextDimensions(e).getWidth()+g},d.prototype.defaultStyle=function(){this.box.className+=p,this.boxWidth=this.textNode.offsetWidth+2*g},d.prototype.flipEvents=function(){r.bindConnect(this.box,"click",this.hook,pagecontent.Hook.EVENT_CLICK),i.mobile||(r.bindConnect(this.box,"mouseenter",this.hook,pagecontent.Hook.EVENT_HOOKIN),r.bindConnect(this.box,"mouseleave",this.hook,pagecontent.Hook.EVENT_HOOKOUT))},c};var bidding=bidding||{};bidding.Mediator=function(e,t,i,o,n,r,a,s){function c(e){d(e);for(var t in a.hash)a.hash.hasOwnProperty(t)&&(S[a.hash[t]]=parseInt(t,10),"adhesion"===a.hash[t]&&(S.daw=parseInt(t,10)));var o=u();l(),B.map(function(e){w(e,o,i.ipid)})}function d(e){N=e}function l(){C=Date.now()}function u(){return O}function p(e){D=o.filter(D,function(t){return t.getName()!==e})}function h(e){for(var t=0;t<D.length;t++)if(D[t].getName()===e)return D[t]}function g(e,t){var i=h(e);i&&(i.bids=o.filter(i.getBids(),function(e){return e.product!==t}))}function v(e,t){var i=h(e);if(i)for(var o=0;o<i.bids.length;o++)if(i.bids[o].zoneId===t){var n=i.bids[o];n.impressions++,s.info("HeaderBid Impression:  Bidder"+n.bidderName+" Product:"+n.product+" Width:"+n.width+" Height:"+n.height+" ZoneId: "+n.zoneId+" Impressions: "+n.impressions+" ImpressionCap: "+n.impressionCap);break}}function f(e){function t(){for(var i=!0,n=0;n<D.length;n++)if("completed"!==D[n].getStatus()){i=!1;break}if(i||Date.now()-C>x){k(D);var r={};o.forEach(D,function(e){if("completed"===e.getStatus()){var t=e.getBids();o.forEach(t,function(t){if(r[t.product]||(r[t.product]=[]),t){var i=o.extend({},{bidderName:e.name,product:S[t.product],cpm:t.cpm,height:t.height,width:t.width,zoneId:t.zoneId});r[t.product].push(i)}})}});var a=u(),s=[];return o.forEach(["intext","inview","instory"],function(e){a.indexOf(e)>-1&&(s=s.concat(r[e]||[]))}),r.intext=s,delete r.inview,delete r.instory,P(r),e(null,r)}setTimeout(t,A)}setTimeout(t,0)}function m(e,t){var i,o=D.find(function(t){return t.getName()===e});if(o&&"completed"===o.getStatus()){var n=o.getBidByZoneId(t);if(n)if(n.impressions>=n.impressionCap)for(var r=o.getBids()||[],a=0;a<r.length;a++){var s=r[a];if(s.zoneId!==n.zoneId&&s.product===n.product&&s.width===n.width&&s.height===n.height&&s.impressions<s.impressionCap){i=s;break}}else i=n}return i}function y(){return D}function w(t,i,o){var r,a=t.name;switch(a){case"criteo":r=new CriteoBidder(t.group,i,o);break;case"freewheel":r=new FreewheelBidder(i)}r&&(r.load(e,n),D.push(r))}function b(e,t){var i=[];return o.forEach(e,function(e){t.indexOf(e.id)===-1&&i.push(e)}),i}function k(e){var t=i.get("headerBids",null);t&&o.forEach(e,function(e){e.bids=t.filter(function(t){return e.getName()===t.bidderName})})}var C,E=i.getArray("partner.exAdProviders",[]),I=i.get("headerBidders",[]),x=1e3,A=10,D=[],S={},O=i.getArray("partner.products",[]),N=null,B=b(I,E),T={daw:!0},P=o.once(function(e){var t=[];s.info("HEADER BIDDERS");var i=0;if(o.forOwn(e,function(e,n){e&&e.length&&(s.info("PRODUCT "+n+":"),o.forEach(e,function(e){t.push({bidderName:e.bidderName,product:a.hash[e.product],width:e.width,height:e.height,cpm:e.cpm}),s.info(e.bidderName+"  "+e.zoneId+" "+a.hash[e.product]+" "+e.width+"x"+e.height+" "+e.cpm),i++}))}),i>0)N.headerBid(t);else if(D.length){var n=D.reduce(function(e,t){return e+t.name+" "},"");s.warn("** No bids for "+n)}else s.info("No header bidders enabled");D.forEach(function(e){e.bids&&e.bids.length||N.noHeaderBid(e.name)}),s.info("END HEADER BIDDERS")});return r.on(client.app.bid.impression,function(e){var t=e.data.product,i=e.data.bidder,o=e.data.zoneId;T[t]&&g(i,t),v(i,o)}),{init:c,setLogModule:d,setStartTime:l,getBiddersByProduct:f,getBid:m,removeBidder:p,removeBidderProduct:g,bidImpression:v,getActiveBidders:y,createBidder:w,findActiveBidderByName:h,getAvailableBidders:b,getSupportedProducts:u}};var client=client||{};client.AdFetcher=function(e,t,i,o,n,r){function a(e,t,i){h[e]=t,g[e]=i}function s(e,i){t.fire(client.app.ads.newAds,{product:e,ads:i})}function c(t,o){var n=t.textNodeId,a=n,c=["intext","inview"],d=!1,l=2e3,h=t.getAdConfig(),g=h?h.product:"",v=h&&h.term?[h.term.keyword]:[];if(c.indexOf(g)===-1)return o();if("inview"===g){var f=t.domNode?r.findParentParagraph(t.domNode):null;if(!f)return o();var m=r.getTextNodeBounds(f),y=m.getWidth(),w=Math.floor(y);if(!w)return o();a+=":"+w+":inview"}var b={contextKey:u,keywordOverrideList:v.join(),liveLookup:!0},k={intext:{ids:[a],count:1,internal:!0,autoreveal:!1}};setTimeout(function(){d||(d=!0,o())},l),e.getAds(k,b,function(e){var t,r;if(!d){d=!0;for(var a=Object.keys(e),c=0;c<a.length;c++)if(p.indexOf(a[c])!==-1){r=e[a[c]];break}r&&r[n]&&r[n].length&&(s(g,r),t=i.extend({},r[n][0],{product:g})),o(t)}},function(){d||(d=!0,o())})}function d(t){if(!i.isEmpty(h)){t=t||{},t.liveLookup=!1;var o=g;e.getAds(h,t,function(e){i.forOwn(o,function(t,i){s(i,e[i]),o[i](e[i])})}),h={},g={}}}function l(){d({contextKey:u})}var u=o.get("articleHash",o.get("urlHash")),p=i.values(n.hash),h={},g={};return t.on(client.app.context.key,function(e){u=e.data.contextKey}),{request:a,flush:d,forceFlush:l,getAdForHook:c}};var client=client||{};client.AdsMonitor=function(e,t){function i(e){return"image"===e?o(e):c[e]||[]}function o(e){var t=d[e];return t?[t]:[]}function n(){return a||[]}var r={},a=[],s={},c={},d={};return e.on(client.app.ads.newAds,function(e){var i,o,n,l,u=e.data,p=u.product,h=u.ads;for(o in h)if(h.hasOwnProperty(o)&&h[o][0]&&h[o][0].vibrantParameters){n=h[o][0],i=n.vibrantParameters.keywordId,l=n.vibrantParameters.setId,i&&!r[i]&&(r[i]=1,a.push(i)),s[p]=s[p]||{},c[p]=c[p]||[],d[p]=l,l&&!s[p][l]&&(s[p][l]=1,c[p].push(l));var g=n.ads[0].creative||{};t.info("AD: Product:"+n.vibrantParameters.product+" keyword: "+(n.term||{}).keyword+" creativeId: "+g.value+" setId: "+l)}}),{getUsedSets:i,getUsedKeywords:n,getLastUsedSet:o}};var client=client||{};client.Api=function(e,t,i,o,n,r,a,s,c){function d(t,o,r){function a(){r(JSON.parse(d.responseText))}function s(){r({success:!1,errors:["There was an error sending the request"]})}function c(){r({success:!1,errors:["Request timed out"]})}var d=new XMLHttpRequest,l="//"+i.apiHost+t;"withCredentials"in d?(n.bind(d,"load",a),n.bind(d,"error",s),n.bind(d,"timeout",c),d.open("POST",l,!0),d.setRequestHeader("Content-Type","application/json"),d.withCredentials=!0,d.send(JSON.stringify(o))):e.XDomainRequest?(d=new XDomainRequest,d.onprogress=function(){},d.onload=a,d.onerror=s,d.ontimeout=c,d.open("POST",l),setTimeout(function(){d.send(JSON.stringify(o))},0)):r({success:!1,errors:["Browser does not support CORS requests"]})}function l(t,n,a,s){var c=a+"_"+v++,d="//"+i.apiHost+t+"?callback="+c+"&"+r.toQueryString(n);e[c]=function(){s.apply(this,arguments);try{delete e[c]}catch(t){e[c]=void 0}},o.appendScript(d)}function u(e,o,n){var a=r.extend({ipid:i.ipid,pvu:i.pvu,urlHash:i.urlHash,nodes:r.map(e,function(e){return{id:e.getId(),text:e.getTextContent()}})},o);d("/context/"+t.context,a,function(e){e&&e.success&&n(e)})}function p(e,t,i){l(e,i,"log",function(e){e&&t&&t(e)})}function h(e,o){var n={ipid:i.ipid,contextKey:e,pvu:i.pvu};l("/context/"+t.context,n,"ctx_log",function(e){e&&o(e)})}function g(e,o,n,d){c.getAudienceData(function(c,u){var p=u||[];s.getBiddersByProduct(function(s,c){var u=c||{},h=r.extend({ipid:i.ipid,pvu:i.pvu,kw:a.getUsedKeywords().join(","),audiences:p.join(",")},o);r.forOwn(e,function(e,t){r.forOwn(e,function(e,i){h[t+"."+i]=e,h[t+".sets"]=f?a.getUsedSets(t).join(","):"";var o=u[t]||[];h[t+".bidders"]=encodeURIComponent(JSON.stringify(o))})}),l("/ad/"+t.ad,h,"vib",function(e){e&&e.success?n(e):d&&d(e)})})})}var v=1,f=i.getBoolean("partner.norepetitive",!1);return{contextualise:u,logContext:h,getAds:g,log:p,jsonpRequest:l}};var client=client||{};client.AppChannel=function(e){return client.app={},client.app.main={initialise:"initialise"},client.app.ads={newAds:"newAds"},client.app.context={key:"contextKey"},client.app.trigger={newContent:"newContent",load:"load",scroll:"scroll",resize:"resize",zoom:"zoom",touchstart:"touchstart",touchend:"touchend",contextComplete:"contextComplete",dmpBehaviourDrop:"dmpBehaviourDrop"},client.app.intext={tooltipClose:"inText:closeTooltips"},client.app.inview={animationStart:"inView:AnimationStart",animationEnd:"inView:AnimationEnd"},client.app.instory={animationStart:"inStory:AnimationStart",animationEnd:"inStory:AnimationEnd",openPc:"inStory:openPc"},client.app.inline={animationStart:"inline:AnimationStart",animationEnd:"inline:AnimationEnd"},client.app.bid={impression:"headerBidding:Impression"},new e.Observable};var client=client||{};client.CmdMessenger=function(e,t,i,o,n,r,a,s){function c(e){switch(e.cmdType){case"LOG":d(e.cmd,e.hookId,e.params);break;case"TRIGGER":l(e.cmd)}}function d(e,t,o){var n=a.getParamsByHookId(t);if(n){var r=i.extend({},o,n||{});switch(e){case"CLICK_THROUGH":a.clickThrough(r)}}else s.error("processLogCommand: No registered params for this hookId")}function l(e){"VM_TRIGGER"===e?t.fire(client.app.trigger.manual):s.error("processTriggerCommand: Invalid cmd")}function u(e){if(p.indexOf(e.origin)!==-1||p.indexOf("*")!==-1){var t;try{t=JSON.parse(e.data),t&&c(t)}catch(i){}}}var p=["http://images.intellitxt.com","https://images.intellitxt.com","http://mymachine.intellitxt.com","https://mymachine.intellitxt.com","http://localhost","*"];return window.addEventListener?window.addEventListener("message",u,!1):window.attachEvent&&window.attachEvent("onmessage",u),{}};var client=client||{};client.Config=function(e,t,i){var o={},n={};return o.get=function(e,i){var n=this;return t.some(e.split("."),function(t){if(!n.hasOwnProperty(t)){if("undefined"!=typeof i)return n=i,!0;throw new Error('Config item "'+e+'" not found')}n=n[t]}),t.isObject(n)&&t.extend(n,o),n},o.getArray=function(e,t){var i=this.get(e,t);return"string"==typeof i?i.split(","):i},o.getBoolean=function(e,t){var i=this.get(e,t);return"string"==typeof i?"1"===i:i},o.getInteger=function(e,t){var i=this.get(e,t);return"string"==typeof i?parseInt(i,10):i},o.getJSON=function(e,t){var i=this.get(e,t);return"string"==typeof i?JSON.parse(i):i},n.execute=function(e,i){t.forEach(i,function(t){t(e)})},e=t.extend(e,o),i&&t.forEach(i,function(t){var i=[e].concat(t.args);n[t.type].apply(this,i)}),e};var client=client||{};client.ContentMonitor=function(e,t,i,o,n,r,a,s){function c(e,n){var c={primary:e.primary};c.primary&&t.get("articleHash",!1)?c.articleHash=t.get("articleHash"):e.hasOwnProperty("articleId")&&(c.articleId=e.articleId);var l=a.findTextNodes(e.textNodes),h=u?s.filter(o.findImages(e.imageNodes),function(e){return!i.parentHasSelector(e.image,u)}):o.findImages(e.imageNodes);l.length&&(p[e.articleId]=!0),r.contextualise(l,c,function(e){e&&(d.fire(client.app.main.initialise,{pubXReached:e.pubXReached}),d.fire(client.app.trigger.newContent,{textNodes:l,images:h}),e.articleHash&&d.fire(client.app.context.key,{contextKey:e.articleHash}),n(e.articleHash))})}var d,l=t.getBoolean("mobile",!1)?"mobile":"desktop",u=t.getArray("partner.gallery.selectors",!1),p={},h=!0,g={};return g.dynamicStrategy=function(e,t){function o(){var o=s.debounce(function(){t(),i.onViewportChange(o)},e.interval);i.onViewportChange(o)}function n(){s.poll(function(){return!0},t,e.interval)}function r(){}var a={debounce:o,polling:n,click:r};a[e.type](),t()},g.parseNewContent=function(i,o,n){var r=n.innerText||i.getAttribute(n);p.hasOwnProperty(r)||(c({textNodes:i.childNodes,imageNodes:i.childNodes,articleId:r,primary:h},function(i){o.contextKey=i||t.get("articleHash",t.get("urlHash")),d.fire(client.app.trigger.load),e.flush(o)}),h=!1)},g.standardPage=function(){var o={};c({textNodes:t.get("partner.intext.selectors"),imageNodes:t.get("partner.image.selectors"),primary:!0},function(){o.contextKey=t.get("urlHash"),d.fire(client.app.trigger.load),e.flush(o),i.onViewportChange(function n(){d.fire(client.app.trigger.scroll),e.flush(o),i.onViewportChange(n)})})},g.run=function(i){var o={},n={type:"debounce",interval:200},r=t.getJSON("partner.dynamic",{});d=i,r.get("selector",!1)?(t.get("partner.intext",!1)&&(t.partner.intext.selectors=r.get("selector.css")),g.dynamicStrategy(r.getJSON("strategy."+l,n),function(){var t=r.get("selector.identifier",!1);d.fire(client.app.trigger.scroll),s.forEach(document.querySelectorAll(r.get("selector.css")),function(e){var i=t?document.querySelector(t):r.get("selector.property","id");g.parseNewContent(e,o,i)}),e.flush(o)})):g.standardPage()},g};var client=client||{};client.CookieSync=function(e,t,i,o,n,r,a){function s(){"undefined"!=typeof t.userId&&a.cookiesAllowed()&&o.forOwn(t.syncDetails,function(e,r){var a=o.replaceUrlParams(p,{provider:r}),s=u&&e.secureUrl?e.secureUrl:e.url;a+=e.userIdPlaceholder;var c=o.replaceUrlParams(s,{userId:t.userId,redirect:a});switch(e.type){case"image":i.dropImage(c);break;case"iframe":i.appendIFrame(c);break;default:throw n.auditError({message:"[CookieSync] Unknown cookie sync type for "+r+": "+e.type})}})}function c(){var i=t.get("consent",{});if(i.gdprApplies){window.addEventListener("message",function(t){var i=t.data.vmReadConsent;if(i&&i.consentStr){var n="/csync/"+e.csync,s=o.replaceUrlParams(n,{consentStr:i.consentStr});r.jsonpRequest(s,{consentStr:i.consentStr},"csync",function(e){e&&e.consentData&&a.updateConsent(e.consentData)})}});var n=t.getBoolean("partner.syncconsent",!0);if(n){var s=document.createElement("iframe");s.setAttribute("style","width:1px;height:1px;position:absolute;left:-99px;top:-99px;"),s.setAttribute("src",h),document.body&&document.body.appendChild(s)}}}var d=/\:(\w+)/g,l=window.location.protocol,u=l.indexOf("s")>-1;t.syncDetails&&o.forOwn(t.syncDetails,function(e){e.url=e.url.replace(d,"{{$1}}")});var p=l+"//"+t.cookieSyncHost+"/csync/"+e.csync+"/{{provider}}/",h=t.get("readConsentLocation","");return{sync:s,syncConsent:c}};var client=client||{};client.Cookie=function(e,t){function i(t){return t&&n.test(t)?decodeURIComponent(e.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null:null}function o(i,o,n){t.dnt||(e.cookie=i+"="+encodeURIComponent(o)+";path=/"+(n?";max-age="+n:""))}var n=new RegExp("^"+(t.cookiesNS||"VM_"));return{get:i,set:o}};var client=client||{};client.debugLog=function(e,t){function i(){return u}function o(e,t){a(e,c,t)}function n(e,t){a(e,d,t)}function r(e,t){a(e,l,t)}function a(e,t,o){if(i()){if(o)return s(e,t);var n;switch(t){case c:n="color:green;";break;case d:n="color:orange;";break;case l:n="color:red;";break;default:n="color:green;"}console.log("%cVM: %c"+e,n,"color:black")}}function s(i,o){var n=!1;if(n){var r="//"+e.apiHost+"/log/"+t.log+"/win",a={msg:i,severity:o},s=new XMLHttpRequest;s.onreadystatechange=function(){4===s.readyState&&204!==s.status&&console.log("printRemote error: "+s.status)},s.open("POST",r,!0),s.setRequestHeader("Content-Type","application/json"),s.withCredentials=!0,s.send(JSON.stringify(a))}}var c=1,d=2,l=3,u=e.get("debugMode",0);return function(){if(i()){var t="IPID: "+e.ipid;t+=" PVU: "+e.pvu,t+=" PRODUCTS: "+e.partner.products,t+=" EXCLUDE ADPROVIDERS: "+e.partner.exAdProviders,a(t)}}(),{info:o,warn:n,error:r}};var client=client||{};client.Debug=function(e,t,i,o,n,r){if(i.debugHost){var a="//"+i.get("cdn.debugjs"),s="//"+i.get("cdn.debugcss");!function(){e.VM.DEBUG=e.VM.DEBUG||{},e.VM.DEBUG.api={config:i,dom:o,events:n,utils:r},o.appendStyleSheet(s),o.appendScript(a)}()}};var client=client||{};client.Dom=function(e,t,i,o){function n(){return"undefined"!=typeof e.innerWidth?e.innerWidth:t.documentElement.clientWidth}function r(){return"undefined"!=typeof e.innerHeight?e.innerHeight:t.documentElement.clientHeight}function a(){return"undefined"!=typeof e.pageXOffset?e.pageXOffset:t.documentElement.scrollLeft}function s(){return"undefined"!=typeof e.pageYOffset?e.pageYOffset:t.documentElement.scrollTop}function c(t,i){var o=+new Date,n=0;e.setTimeout(function r(){var a,s=+new Date,c=(s-o)/i;a=t>0?Math.min(t,n+c*t):Math.max(t,n+c*t);var d=Math.round(a-n);0!==d&&e.scrollBy(0,d),o=s,n=a,t>0?a<t&&e.setTimeout(r,X):a>t&&e.setTimeout(r,X)},X)}function d(){return new z({top:s(),left:a(),bottom:s()+r(),right:a()+n()})}function l(e,o){var n,r=t.createElement("iframe");return r.frameBorder=0,r.scrolling="no",r.marginWidth=0,r.marginHeight=0,r.hspace=0,r.vspace=0,r.style.position="static",e.width?(r.width=e.width,r.style.width=e.width+"px",e.fixMaxDimensions&&r.style.setProperty("max-width",e.width+"px","important")):(r.width="100%",r.style.width="100%"),e.height?(r.height=e.height,r.style.height=e.height+"px",e.fixMaxDimensions&&r.style.setProperty("max-height",e.height+"px","important")):(r.height="100%",r.style.height="100%"),o&&(n=i.bind(r,"load",function(){n(),o(null,r)})),r}function u(e,o,n){var r=t.createElement("iframe");return r.src=e,r.style.display="none",n=n||t.body,i.bind(r,"load",function(){o&&o(null,r)}),r=n.appendChild(r)}function p(e,o,n){var r=t.createElement("iframe");return r.src=e,r.style.display="none",n=n||t.body,i.bind(r,"load",function(){n.removeChild(r),o&&setTimeout(o)}),r=n.appendChild(r)}function h(e,o,n){var r=t.createElement("script");return r.type="text/javascript",r.async=!0,r.src=e,n=n||K,t.addEventListener?i.bind(r,"load",function(){o&&o()}):r.onreadystatechange=function(){"loaded"!==r.readyState&&"complete"!==r.readyState||(r.onreadystatechange=null,o&&o())},n.appendChild(r),r}function g(e,i){var o=t.createElement("script");return o.type="text/javascript",o.async=!0,o.text=e,i=i||K,i.appendChild(o),o}function v(e,t,i){var o=h(e,function(){t&&t(),i=i||K;try{i.removeChild(o)}catch(e){}},i);return o}function f(e){var i=t.createElement("link");return i.rel="stylesheet",i.type="text/css",i.href=e,K.appendChild(i),i}function m(e){var i=t.createElement("style");return i.type="text/css",U(i,e),K.appendChild(i),i}function y(e,i){var o=t.createElement("img");return o.src=e,b(i)&&(o.style.setProperty("width","1px","important"),o.style.setProperty("height","1px","important"),i.appendChild(o)),o}function w(e,t){t===!0?w.sameWindow(e):w.newWindow(e)}function b(e){return e instanceof HTMLElement&&e.nodeType===client.Dom.ELEMENT_NODE}function k(e){return!!e&&e.constructor===t.createDocumentFragment().constructor}function C(e,i){var o,n=t.createElement("span");return i=i?i:t.body,U(n,e),n.style.position="absolute",n.style.visibility="hidden",n.style.top=Y,n.style.left=Y,n.style.width="auto",n.style.height="auto",n.style.whiteSpace="nowrap",i.appendChild(n),o=G(n),n.parentNode.removeChild(n),o}function E(e){var t;if(e&&e.getBoundingClientRect&&"function"==typeof e.getBoundingClientRect)return t=e.getBoundingClientRect(),"undefined"==typeof t.top||"undefined"==typeof t.right||"undefined"==typeof t.bottom||"undefined"==typeof t.left?void console.log("getPosition: invalid rect"):new z({top:t.top+s(),right:t.right+a(),bottom:t.bottom+s(),left:t.left+a()})}function I(e,t){var i=["top","left","bottom","right"];o.forEach(i,function(i){t.hasOwnProperty(i)&&(e.style[i]=t[i]+"px")})}function x(e){var t,i;if(b(e))return i=e.getBoundingClientRect(),t={width:i.right-i.left,height:i.bottom-i.top}}function A(e,i){if(!b(e))throw new Error("Not an element");i=i||0;var n=E(e),r=[],a=[[n.left+i,n.top+i],[n.right+i,n.top+i],[n.left+i,n.bottom+i],[n.right+i,n.bottom+i]];return o.forEach(a,function(e){r.push(t.elementFromPoint(e[0],e[1]))}),r}function D(e,t){function i(e){return o.some(t,function(t){return F(e,t)})}var n=!1;if(!b(e))throw new Error("Not an element");for(;e&&"BODY"!==e.tagName;){if(i(e)){n=!0;break}e=e.parentNode}return n}function S(t){return"function"==typeof e.getComputedStyle?e.getComputedStyle(t):t.currentStyle}function O(t){function o(){r(),n=void 0,t()}var n,r;r=i.bind(e,"scroll",function(){n&&e.clearTimeout(n),n=e.setTimeout(o,j)})}function N(e,t,i){function n(){var t=E(e);return!a.equals(t)&&(a=t,!0)}var r,a=E(e);return i=i||q,r=o.poll(n,t,i)}function B(o){function n(){r&&r(),a&&a(),o()}var r,a;"interactive"===t.readyState||"complete"===t.readyState?n():(r=i.bind(e,"load",n),t.addEventListener?a=i.bind(t,"DOMContentLoaded",n):(t.onreadystatechange=function(){"interactive"!==t.readyState&&"complete"!==t.readyState||n()},a=function(){t.onreadystatechange=null}))}function T(e){var t;if(e.nodeType===client.Dom.ELEMENT_NODE)t=E(e);else{if(e.nodeType!==client.Dom.TEXT_NODE)throw new Error("Node type not supported: "+e.nodeType);t=G(e)}return!!t.getIntersection(d())}function P(e){var t;if(e.nodeType===client.Dom.ELEMENT_NODE)t=E(e);else{if(e.nodeType!==client.Dom.TEXT_NODE)throw new Error("Node type not supported: "+e.nodeType);t=G(e)}var i=d(),o=t.getIntersection(i);return o?Math.max(o.bottom-o.top,0):0}function L(e,t){function i(e){var t;return e=e.parentNode,null!==e&&e.nodeType===client.Dom.ELEMENT_NODE&&(t=S(e),"hidden"===t.overflow&&parseInt(t.opacity)>0&&!n.getIntersection(E(e))||i(e))}var o,n;return t=t||{},o=S(e),"none"!==o.display&&"hidden"!==o.visibility&&"0"!==o.opacity&&(!t.overflowCheck||(n=E(e),!i(e)))}function H(e){for(var t,i,o,n={height:e.height,width:e.width},r={y:e.offsetTop||0,x:e.offsetLeft||0,el:e.offsetParent};null!==(e=e.parentNode);)if(t=e&&e.tagName?S(e):null){var a=t&&("hidden"===t.overflow||"hidden"===t.overflowX),s=t&&("hidden"===t.overflow||"hidden"===t.overflowY);s&&(i=e.offsetHeight-r.y,e!==r.el&&(i+=e.offsetTop||0),i<n.height&&(i<0?n.height=0:n.height=i)),a&&(o=e.offsetWidth-r.x,e!==r.el&&(o+=e.offsetLeft||0),o<n.width&&(o<0?n.width=0:n.width=o))}return n}function _(e){for(var t;e.parentNode;)if(e=e.parentNode,t=e.nodeName.toLowerCase(),"p"===t||"div"===t)return e;return null}function V(e,t){return o.isArray(t)||(t=[t]),o.some(t,function(t){return e.querySelector(t)})}function U(e,t){o.isIE?e.innerText=t:e.textContent=t}function M(e){var t=e.nextElementSibling;if("undefined"==typeof t)for(e=e.nextSibling,t=null;null!==e;){if(e.nodeType===client.Dom.ELEMENT_NODE){t=e;break}e=e.nextSibling}return t}function F(e,i){return e.matches?e.matches(i):o.includes(t.querySelectorAll(i),e)}function R(e,t){e.style.webkitTransformOrigin=t,e.style.MozTransformOrigin=t,e.style.transformOrigin=t,e.style.msTransformOrigin=t,e.style.OTransformOrigin=t}function W(e,t,i){e.style.webkitTransform="scale("+t+","+i+")",e.style.MozTransform="scale("+t+","+i+")",e.style.transform="scale("+t+","+i+")",e.style.msTransform="scale("+t+","+i+")",e.style.OTransform="scale("+t+","+i+")"}function z(e){if(!(e&&"object"==typeof e&&o.isFiniteNumber(e.top)&&o.isFiniteNumber(e.left)&&o.isFiniteNumber(e.bottom)&&o.isFiniteNumber(e.right)))throw new Error("Coord: obj is not valid");this.top=e.top,this.left=e.left,this.bottom=e.bottom,this.right=e.right}var G,K=t.head||t.getElementsByTagName("head")[0],j=50,X=10,q=2500,Y="-1000px";return w.newWindow=function(t){e.open(t)},w.sameWindow=function(e){t.location.href=e},G=t.createRange&&Range.prototype.getBoundingClientRect?function(e){var i=t.createRange();return i.selectNodeContents(e),new z(i.getBoundingClientRect()).shiftX(a()).shiftY(s())}:function(e){var i=e.parentNode,o=t.createElement("span");i.replaceChild(o,e),o.appendChild(e);var n=o.getBoundingClientRect();return i.replaceChild(e,o),new z(n).shiftX(a()).shiftY(s())},z.prototype.equals=function(e){var t=e instanceof z?e:new z(e);return this.top===t.top&&this.left===t.left&&this.bottom===t.bottom&&this.right===t.right},z.prototype.clone=function(){return new z(this)},z.prototype.getIntersection=function(e){var t,i,o;return t=e instanceof z?e:new z(e),i=this,o=t,i.equals(o)?i.clone():i.bottom<=o.top||i.top>=o.bottom||i.right<=o.left||i.left>=o.right?void 0:new z({top:Math.max(i.top,o.top),left:Math.max(i.left,o.left),bottom:Math.min(i.bottom,o.bottom),right:Math.min(i.right,o.right)})},z.prototype.getCenter=function(){return{x:this.left+(this.right-this.left)/2,y:this.top+(this.bottom-this.top)/2}},z.prototype.setCenter=function(e){var t=this.getCenter();if(e&&"object"==typeof e&&o.isFiniteNumber(e.x)&&o.isFiniteNumber(e.y))return this.top+=e.y-t.y,this.left+=e.x-t.x,this.bottom+=e.y-t.y,this.right+=e.x-t.x,this},z.prototype.pixels=function(){return(this.right-this.left)*(this.bottom-this.top)},z.prototype.shiftX=function(e){if(o.isFiniteNumber(e))return this.left+=e,this.right+=e,this},z.prototype.shiftY=function(e){if(o.isFiniteNumber(e))return this.top+=e,this.bottom+=e,this},z.prototype.contains=function(e){var t=e instanceof z?e:new z(e),i=this.getIntersection(t);return!!i&&i.equals(t)},z.prototype.getWidth=function(){return this.right-this.left},z.prototype.getHeight=function(){return this.bottom-this.top},z.prototype.getArea=function(){return this.getWidth()*this.getHeight()},{appendIFrame:u,appendDisposableIFrame:p,appendScript:h,appendTextScript:g,appendDisposableScript:v,appendStyleSheet:f,appendInlineStyle:m,createIFrame:l,dropImage:y,findParentParagraph:_,elementHasNodes:V,getTextNodeBounds:G,getTextDimensions:C,isElement:b,isDocFragment:k,getPosition:E,setPosition:I,getDimension:x,elementsAtPoints:A,parentHasSelector:D,getStyle:S,getAbsoluteViewport:d,getWinWidth:n,getWinHeight:r,getScrollX:a,getScrollY:s,nextElementSibling:M,matchesSelector:F,onViewportChange:O,onPositionChange:N,openUrl:w,setTextContent:U,smoothScrollY:c,waitForReadyState:B,isInViewport:T,pixelHeightInViewport:P,isVisible:L,getVisibleRect:H,transformOrigin:R,transformScale:W,Coord:z}},client.Dom.ELEMENT_NODE=1,client.Dom.TEXT_NODE=3;var client=client||{};client.Events=function(e){function t(e){e.stopPropagation?e.stopPropagation():(e.cancelBubble=!0,e.returnValue=!1)}function i(){return this[a]={},this.connections=[],this}function o(e){this.data=e||{}}function n(e,t,i,o){return e.connect(t,i,o)}function r(e,t,i,o){return o=o||t,s(e,t,function(e){i.fire(o,e)})}var a="CustomEventsStore__",s=function(){return document.addEventListener?function(e,t,i){
return e.addEventListener(t,i,!1),function(){e.removeEventListener(t,i,!1)}}:function(e,t,i){return t="on"+t,e.attachEvent(t,i),function(){e.detachEvent(t,i)}}}();return i.prototype.on=function(e,t,i,o){return this[a][e]||(this[a][e]=[]),o=o||[],this[a][e].push([t,i,o]),this},i.prototype.once=function(e,t,i,o){var n=this,r=!1,a=function(){n.unbind(a),r||(r=!0,t.apply(i,arguments))};return this.on(e,a,i,o)},i.prototype.fire=function(t,i){var n=this[a][t];if(n)return e.forEach(n.slice(),function(e){var t=e[0],n=e[1],r=e[2];t.apply(n,[new o(i)].concat(r))}),this},i.prototype.connect=function(e,t,i){i=i||e;var o=function(e){t.fire(i,e.data)};return this.connections.push({leftEvent:e,rightObservable:t,rightEvent:i,callback:o}),this.on(e,o)},i.prototype.disconnect=function(t,i,o){var n=[];e.forEach(this.connections,function(e,r){t===e.leftEvent&&i===e.rightObservable&&o===e.rightEvent&&(this.unbind(t,e.callback),n.push(r))},this),e.forEach(n,function(e){this.connections.splice(e,1)},this)},i.prototype.disconnectAll=function(t){var i=[];e.forEach(this.connections,function(e,o){t===e.rightObservable&&(this.unbind(e.leftEvent,e.callback),i.push(o))},this),e.forEach(i,function(e){this.connections.splice(e,1)},this)},i.prototype.unbind=function(t,i){var o=this[a][t];o&&e.some(o,function(e,t){if(e[0]===i)return o.splice(t,1),!0})},i.prototype.unbindAll=function(){this[a]={}},{bind:s,bindConnect:r,connect:n,stopPropagation:t,Observable:i,VMEvent:o}};var client=client||{};client.Log=function(e,t,i,o,n,r,a){function s(e,t,i){var n=i?u+e:p+e;return o.replaceUrlParams(n,o.extend({},v,t))}function c(e){return function(t){var o=s(f[e],t);i.dropImage(o),l(e,t.product)}}function d(e,t,i){e.setId||(e.setId=h[e.hookId]?h[e.hookId].setId:0);var o=s(f.behaviour,e,!0),a={action:encodeURIComponent(t)};n.log(o,function(t){r.fire(client.app.trigger.dmpBehaviourDrop,{action:i,setId:e.setId,behaviours:t})},a)}function l(e,t){a.info("Log Event: "+e+":"+t)}var u="/log/"+e.log,p="//"+t.apiHost+u,h={},g=t.get("articleHash",t.get("urlHash","")),v={ipid:t.ipid,urlHash:t.urlHash,pvu:t.pvu,postcode:t.geo&&t.geo.pc||"",contextKey:g},f={hookLoad:"/hl/{{ipid}}/{{product}}/{{hookIds}}/{{urlHash}}/{{pvu}}",hookFailure:"/hf/{{ipid}}/{{product}}/{{hookId}}/{{reason}}/{{urlHash}}/{{pvu}}",hookReplacement:"/hr/{{ipid}}/{{product}}/{{oldHookId}}/{{newHookId}}/{{oldAdProviderId}}/{{newAdProviderId}}/{{reason}}/{{pvu}}",adImpression:"/ai/{{ipid}}/{{product}}/{{hookId}}/{{source}}/{{urlHash}}/{{pvu}}/{{setId}}",clickThrough:"/ck/{{ipid}}/{{product}}/{{hookId}}/{{source}}/{{urlHash}}/{{pvu}}?url={{clickUrl}}",adChoiceClick:"/ac/{{ipid}}/{{product}}/{{hookId}}/{{urlHash}}/{{pvu}}",adClose:"/cl/{{ipid}}/{{product}}/{{hookId}}/{{source}}/{{urlHash}}/{{pvu}}",firstHook:"/mt/tfh/{{timestamp}}/{{ipid}}",auditError:"/adt/{{urlHash}}/{{ipid}}/{{pvu}}/{{timestamp}}/I/{{message}}",pageTracking:"/ptr/{{urlHash}}/{{ipid}}/{{pvu}}/{{referrer}}",videoEvent:"/ve/{{ipid}}/{{product}}/{{hookId}}/{{urlHash}}/{{pvu}}/{{event}}/{{position}}/{{duration}}/{{videoId}}/{{creativeId}}",cpeInteraction:"/cpei/{{ipid}}/{{product}}/{{hookId}}/{{urlHash}}/{{pvu}}/{{event}}/{{element}}/{{creativeId}}",cpeClickThrough:"/cpeck/{{ipid}}/{{product}}/{{hookId}}/{{urlHash}}/{{pvu}}/{{element}}/{{creativeId}}?url={{clickUrl}}",cpeClose:"/cpec/{{ipid}}/{{product}}/{{hookId}}/{{urlHash}}/{{pvu}}/{{dwell}}/{{creativeId}}",engagement:"/eng/{{ipid}}/{{product}}/{{hookId}}/{{source}}/{{urlHash}}/{{pvu}}/{{creativeId}}",progressBar:"/prg/{{ipid}}/{{product}}/{{hookId}}/{{urlHash}}/{{pvu}}/{{event}}/{{creativeId}}",headerBid:"/hdrb/{{ipid}}/{{pvu}}/{{geo}}?bids={{bids}}",noHeaderBid:"/nohdrb/{{ipid}}/{{pvu}}/{{geo}}/{{platform}}/{{bidderName}}",behaviour:"/beh/{{ipid}}/{{product}}/{{hookId}}/{{urlHash}}/{{pvu}}/{{setId}}/{{contextKey}}"},m=["clickThrough","cpeClickThrough","auditError","headerBid","adImpression","videoEvent","cpeInteraction","engagement"],y={};for(var w in f)f.hasOwnProperty(w)&&!o.includes(m,w)&&(y[w]=c(w));return y.adImpression=function(e){var t="Ad View";d(e,t,"adImpression");var o=s(f.adImpression,e);i.dropImage(o),h[e.hookId]||(h[e.hookId]=e),l("adImpression",e.product)},y.clickThrough=function(e,t){var n,r="Click";d(e,r,"clickThrough"),e.clickUrl&&e.clickUrl.length&&!t?(e.clickUrl=o.replaceUrlParams(e.clickUrl,o.extend({},v,e)),n=s(f.clickThrough,e),i.openUrl(n)):(delete e.clickUrl,n=s(f.clickThrough,e),i.dropImage(n)),l("clickThrough",e.product)},y.cpeClickThrough=function(e){var t="Click";e.clickUrl=o.replaceUrlParams(e.clickUrl,o.extend({},v,e)),d(e,t,"cpeClickThrough"),i.openUrl(s(f.cpeClickThrough,e)),l("cpeClickThrough",e.product)},y.cpeInteraction=function(e){var t="Interaction";d(e,t,"cpeInteraction");var o=s(f.cpeInteraction,e);i.dropImage(o),l("cpeInteraction",e.product)},y.engagement=function(e){var t="Engagement";d(e,t,"engagement");var o=s(f.engagement,e);i.dropImage(o),l("engagement",e.product)},y.videoEvent=function(e){var t=s(f.videoEvent,e);i.dropImage(t),l("videoEvent",e.product+":"+e.event)},y.headerBid=function(e){var n=t.geo&&t.geo.cc||"",r=JSON.stringify(e||{}),a=o.extend({},v,{bids:r,geo:n}),c=s(f.headerBid,a);i.dropImage(c)},y.noHeaderBid=function(e){var n=t.geo&&t.geo.cc||"",r=t.platform,a=o.extend({},v,{bidderName:e,geo:n,platform:r}),c=s(f.noHeaderBid,a);i.dropImage(c)},y.auditError=function(e){if(e.message)return e.timestamp=e.timestamp||+new Date,i.dropImage(s(f.auditError,e)),l("auditError",e.product),new Error(e.message)},y.getUrl=function(e,t){if(f[e])return t.clickUrl&&(t.clickUrl=o.replaceUrlParams(t.clickUrl,o.extend({},v,t))),s(f[e],t)},r.on(client.app.context.key,function(e){g=e.data.contextKey}),y.getParamsByHookId=function(e){if(e)return h[e]},y},client.Log.hookReason={TERM_NOT_FOUND:100,OVERLAPPING_TERM:101,OVERRIDE:102},client.Log.viewSource={LOAD:100,MOUSE_OVER:200,SCROLL:300},client.Log.clickSource={AD:100,HOOK:200},client.Log.closeSource={AD:100,AUTO:200,FORCE:300},client.Log.headerBid={SUCCESS:100,FAILURE:200};var client=client||{};client.Net=function(e,t,i,o,n){function r(t){var r,a,s=t.scope,c=t.id;return s?(f[s]=f[s]||{},m[s]=m[s]||{},h[s]=f[s],r=h[s]):(s=u,f[s]=f[s]||{},m[s]=m[s]||{},r=e,c=c||"vib_"+v++),a=n.replaceUrlParams(t.url,{callbackId:c,callbackScope:s,id:c}),f[s][c]?m[s][c]:(f[s][c]=n.once(function(e){r[c]=void 0,f[s][c]=void 0,m[s][c].fire("data",e),m[s][c]=void 0}),r[c]=f[s][c],m[s][c]=new o.Observable,i.appendDisposableScript(a),m[s][c])}function a(e){return m[p][e]?m[p][e]:(m[p][e]=new o.Observable,setTimeout(function(){i.appendScript(e+"",function(){m[p][e].fire("load"),m[p][e]=void 0})},1),m[p][e])}function s(t,i){function r(){if(t.headers)for(var e in t.headers)t.headers.hasOwnProperty(e)&&d.setRequestHeader(e,t.headers[e]);"POST"===t.method&&d.setRequestHeader("Content-Type","application/json"),d.withCredentials=!0}var a,s,c,d=XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");if(!t.url)throw new Error("[Net] No URL was specified");t.async=t.async!==!1,t.method=t.method||"POST",a=n.once(function(){i(null,JSON.parse(d.responseText))}),s=n.once(function(){i(new Error("[Net] There was an error sending the request"))}),c=n.once(function(){i(new Error("[Net] Request timed out"))});try{try{o.bind(d,"load",a),o.bind(d,"error",s),o.bind(d,"timeout",c),d.open(t.method,t.url,t.async),r()}catch(l){e.XDomainRequest?(d=new XDomainRequest,d.onprogress=function(){},d.onload=onload,d.onerror=s,d.open(t.method,t.url,t.async),r()):i(new Error("[Net] CORS not supported: "+l))}t.data?d.send(JSON.stringify(t.data)):d.send()}catch(l){i(new Error("[Net] Unable to perform XHR: "+l))}return d.onreadystatechange=function(){4===d.readyState&&d.status>=200&&d.status<300?a():d.status>=400&&s()},d}function c(e,t,o,r){var a;if(!g[o])throw new Error("[Net] Wrong method was used to notify: "+o);return a="iframe"===o?i.appendIFrame(n.replaceUrlParams(e,t||{}),null,r):"script"===o?i.appendScript(n.replaceUrlParams(e,t||{}),null,r):i.dropImage(n.replaceUrlParams(e,t||{}),r),a.style.display="none",a.style.visibility="hidden",a.style.width="1px",a.style.height="1px",a.width=1,a.height=1,a}function d(e,t){return i.openUrl(n.replaceUrlParams(e,t||{}))}function l(e,t){return n.replaceUrlParams(e,t||{})}var u="__default_VM_jsonp__",p="__default_VM_scripts__",h=e[t],g={image:"image",script:"script",iframe:"iframe"},v=0,f={},m={};return m[p]={},{jsonp:r,loadScript:a,xhr:s,notify:c,openUrl:d,compileUrl:l}};var client=client||{},NODES_DIFFERENCE=2;client.Page=function(e,t,i,o){function n(n,r,a){if("function"==typeof r&&(a=r,r={}),!n.length)return void o.fire(client.app.trigger.contextComplete,{});var s=!t.nodes||Math.abs(n.length-t.nodes.length)>NODES_DIFFERENCE;s||(s=i.some(t.nodes,function(e,t){return!n[t]||n[t].getId()!==e})),s?e.contextualise(n,r,function(e){var t=e&&e.behaviours?e.behaviours:[];o.fire(client.app.trigger.contextComplete,{behaviours:t}),a(e)}):(e.logContext(t.get("articleHash",t.get("urlHash")),function(e){var t=e&&e.behaviours?e.behaviours:[];o.fire(client.app.trigger.contextComplete,{behaviours:t})}),a({articleHash:t.get("articleHash",null),pubXReached:!!t.pubXReached}))}return{contextualise:n}};var client=client||{};client.PubXBuilder=function(e){client.PubX=e.serviceVersion?client.PubXNEW:client.PubXOLD},client.PubXNEW=function(e){function t(e){o=parseInt(e,10)}function i(t){switch(o){case client.PubXNEW.ALLOW_ALL:case client.PubXNEW.BACKFILL_ONLY:return!0;case client.PubXNEW.BLOCK_ALL:return!1;case client.PubXNEW.BLOCK_IN_CONTENT:return t!==client.PubXNEW.IN_CONTENT;default:throw new e.auditError({message:"Unknown PubX action "+o})}}var o=client.PubXNEW.ALLOW_ALL;return{set:t,isAllowed:i}},client.PubXNEW.OTHER=0,client.PubXNEW.IN_CONTENT=1,client.PubXNEW.ALLOW_ALL=0,client.PubXNEW.BLOCK_ALL=1,client.PubXNEW.BLOCK_IN_CONTENT=2,client.PubXNEW.BACKFILL_ONLY=3,client.PubXOLD=function(e){function t(e){o=parseInt(e,10)}function i(t){switch(o){case client.PubXOLD.ALLOW_ALL:case client.PubXOLD.BACKFILL_ONLY:return!0;case client.PubXOLD.BLOCK_ALL:return!1;case client.PubXOLD.BLOCK_IN_CONTENT:return t!==client.PubXOLD.IN_CONTENT;default:throw new e.auditError({message:"Unknown PubX action "+o})}}var o=client.PubXOLD.ALLOW_ALL;return{set:t,isAllowed:i}},client.PubXOLD.OTHER=0,client.PubXOLD.IN_CONTENT=1,client.PubXOLD.ALLOW_ALL=1,client.PubXOLD.BLOCK_ALL=2,client.PubXOLD.BLOCK_IN_CONTENT=3,client.PubXOLD.BACKFILL_ONLY=4;var client=client||{};client.Tracking=function(e,t,i,o,n,r){function a(e){var t=!!e.getAd&&e.getAd().creative.diyValues;i.isObject(t)&&t.hasOwnProperty("bidder")&&e.on("impression",function(){n.fire(client.app.bid.impression,{bidder:t.bidder,zoneId:t.zoneId,product:e.product})})}function s(e,n,s){a(e),n&&n.length&&r.trackingAllowed()&&i.forEach(n,function(n){var r=c[n.trackerType],a=i.extend({timestamp:+new Date},d,n.params||{},s||{});if(!r)throw o.auditError({message:"[Tracking] Unrecognised tracker type: "+n.trackerType});e.on(n.onEvent,function(){t.notify(n.actionUrl,a,r,e.companion||e.outerBox)})})}var c={image:"image",script:"script",iframe:"iframe"},d={ipid:e.ipid,urlHash:e.urlHash,pvu:e.pvu,postcode:e.geo&&e.geo.pc||""};return{track:s}};var client=client||{};client.Utils=function(){function e(e,t,i){var o;return i=i||{},i.leading?function(){o?clearTimeout(o):e.apply(null,arguments),o=window.setTimeout(function(){o=void 0},t)}:function(){var i=arguments;o&&clearTimeout(o),o=window.setTimeout(function(){o=void 0,e.apply(null,i)},t)}}function t(e){return e.replace(S,"\\$&")}function i(e){for(var t=1,i=arguments.length;t<i;++t){var o=arguments[t];if("object"!=typeof o)break;for(var n in o)o.hasOwnProperty(n)&&(e[n]=o[n])}return e}function o(e,t,i){for(var o in e)e.hasOwnProperty(o)&&t.call(i,e[o],o)}function n(e){for(var t,i=0,o=0,n=e.length;o<n;++o)t=e.charCodeAt(o),i=(i<<5)-i+t,i|=0;return i}function r(e,t){var i=!0;return t=g(t)?t:[t],m(t,function(t){i&&(i=b(e,t))}),!!i}function a(e){if(Object.keys)return 0===Object.keys(e).length;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function s(e){return"object"==typeof e&&null!==e&&!g(e)}function c(e,t){var i=!1;return function(){i||(i=!0,e.apply(t,arguments))}}function d(e,t){return e.replace(O,function(e,i){return t.hasOwnProperty(i)?encodeURIComponent(String(t[i])):""})}function l(e){var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(i+"="+encodeURIComponent(e[i]));return t.join("&")}function u(e){var t,i={params:{}};if(e.indexOf("?")!==-1)t=e.split("?"),i.url=t[0],e=t[1],e=e.replace(/&amp;/g,"&"),e=0!==e.indexOf("&")?"&"+e:e,m(e.split("&"),function(e){e&&(t=e.split("="),i.params[t[0]]=decodeURIComponent(t[1]))});else{for(var o=e;o.length&&"/"===o.slice(-1);)o=o.slice(0,-1);i.url=o}return i}function p(e,t){return e.length>t?e.substr(0,t-3)+"":e}function h(e){return"number"==typeof e&&window.isFinite(e)}function g(e){return"[object Array]"===Object.prototype.toString.call(e)}function v(e,t,i){function o(){r&&window.clearTimeout(r)}function n(){e()&&t(),r=window.setTimeout(n,i)}var r;return i=i||1e3,r=window.setTimeout(n,i),o}function f(e,t,i){var o=+new Date;o-e>=t&&i()}var m,y,w,b,k,C,E,I,x,A,D,S=/[.*+?^${}()|[\]\/\\]/g,O=/{{([A-Za-z]\w*)}}/g;m=Array.prototype.forEach?function(e,t,i){return e?void Array.prototype.forEach.call(e,t,i):void console.log("Utils forEach: null items")}:function(e,t,i){if(!e)return void console.log("Utils forEach: null items");for(var o=0,n=e.length;o<n;++o)t.call(i,e[o])},Array.prototype.find=null,Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var o=arguments[1],n=0;n<i;){var r=t[n];if(e.call(o,r,n,t))return r;n++}}}),y=Object.keys?function(e){return Object.keys(e)}:function(e){var t=[];return o(e,function(e,i){t.push(i)}),t},w=Object.values?function(e){return Object.values(e)}:function(e){var t=[];return o(e,function(i,o){t.push(e[o])}),t},b=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t)!==-1}:function(e,t){return C(e,function(e){return e===t})},k=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t)}:function(e,t){for(var i=[],o=0,n=e.length;o<n;++o)i.push(t(e[o]));return i},C=Array.prototype.some?function(e,t,i){return Array.prototype.some.call(e,t,i)}:function(e,t,i){for(var o=0,n=e.length;o<n;++o)if(t.call(i,e[o],o))return!0;return!1},E=Array.prototype.filter?function(e,t,i){return Array.prototype.filter.call(e,t,i)}:function(e,t,i){for(var o=[],n=0;n<e.length;n++)t.call(i,e[n],n,e)&&o.push(e[n]);return o},I=String.prototype.trim?function(e){return e.trim()}:function(e){return e=e.replace(/^\s+|\s+$/g,"")},x=function(){function e(e){return encodeURIComponent(t(e))}function t(e){for(var t,o,n,r,a,s,c,d="",l=0;l<e.length;)t=e.charCodeAt(l++),o=e.charCodeAt(l++),n=e.charCodeAt(l++),r=t>>2,a=(3&t)<<4|o>>4,s=(15&o)<<2|n>>6,c=63&n,isNaN(o)?(s=64,c=64):isNaN(n)&&(c=64),d+=i.charAt(r)+i.charAt(a)+i.charAt(s)+i.charAt(c);return d}var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return{encode:t,encodeURI:e}}(),A=function(){var e,t,i,o=window.navigator.userAgent,n=o.indexOf("MSIE");if(n>-1){e=3,t=document.createElement("div"),i=t.all||[];do t.innerHTML="<!--[if gt IE "+ ++e+"]><br><![endif]-->";while(i[0]);return e>4&&e}return!1}(),D=function(e){return e?function(e){return e&&"number"==typeof e.length&&"undefined"!=typeof e.item&&"undefined"==typeof e.push&&"undefined"==typeof e.pop}:function(e){return e instanceof NodeList}}(!!A);var N=function(){var e=Date.now();this.elapsed=function(){return Date.now()-e},this.reset=function(){e=Date.now()}};return{debounce:e,escapeRegExp:t,extend:i,forEach:m,forOwn:o,keys:y,values:w,hashString:n,includes:b,includesAll:r,isEmpty:a,isObject:s,map:k,once:c,some:C,filter:E,replaceUrlParams:d,toQueryString:l,parseQueryString:u,trim:I,truncate:p,isFiniteNumber:h,isArray:g,poll:v,timeDeltaPassed:f,Base64:x,isIE:A,isNodeList:D,Timer:N}};var client=client||{};client.Waterfall=function(e,t,i,o,n){function r(o){var r,a,s=i.get("partner."+o+".runcheck",null);if(null===s)return!1;switch(r=s.get("type"),a=s.get("value"),r){case"css":return null!==t.querySelector(a);case"var":return e.hasOwnProperty(a);default:throw n.auditError({message:"[Waterfall] Unknown run check type: "+r})}}function a(t){if(o.isObject(e.VMNoAds)&&"function"==typeof e.VMNoAds[t])try{n.auditError({message:"[Waterfall] Failed loading product: "+t}),e.VMNoAds[t]()}catch(i){}}return{isBlocked:r,notifyFailure:a}};var constants=constants||{};constants.CompatibilityRules=function(e){return[{type:"execute",args:[[function(t){var i=t.get("partner.intext.inview",{}),o=t.partner.inview=t.partner.inview||{};e.extend(o,i)}]]}]};var constants=constants||{};constants.LanguageMap=function(){var e={uk:{adChoicesText:"AdChoices",hdrText:"ADVERTISEMENT"},us:{adChoicesText:"AdChoices",hdrText:"ADVERTISEMENT"},de:{adChoicesText:"Werbung",hdrText:"WERBUNG"}};return e["default"]=e.uk,{map:e}};var constants=constants||{};constants.ProductMap=function(){var e={1:"intext",2:"image",3:"inline",4:"adhesion",5:"inview",6:"adbar",9:"instory"};return{hash:e}};var creative=creative||{};creative.Banner=function(e,t,i,o,n,r,a,s){function c(c){var d=c.template.params,l=c.getDiyValues().nohookclick||!1;if(c.getDiyValues().bidder&&c.getDiyValues().zoneId){var u=r.getBid(c.getDiyValues().bidder,c.getDiyValues().zoneId);if(!u)return void a.info("Header bidding: No valid impressions available for: Bidder: "+c.getDiyValues().bidder+"ZoneId: "+c.getDiyValues().zoneId);d.width=u.width,d.height=u.height;var p=c.getAd();p&&(p.creative.diyValues.iframe=u.scriptTag,p.creative.diyValues.zoneId=u.zoneId)}return e.create({width:parseInt(d.width,10),height:parseInt(d.height,10),load:function(){function e(e){function t(){i.clickThrough(o.extend(p,{source:e}))}var n;e===client.Log.clickSource.HOOK&&l||(n=c.getClickDelay(),o.timeDeltaPassed(c.openTime,n,t))}var r=c.getAd(),a=c.getAdConfig(),u=1,p={product:c.product,hookId:a.vibrantParameters.hookId,setId:a.vibrantParameters.setId,keyword:encodeURIComponent(a.term&&a.term.keyword||""),timestamp:+new Date,clickUrl:r.clickUrl},h=t.createIFrame({width:d.width,height:d.height,fixMaxDimensions:!0},function(e,i){var a=n.getBoolean("partner.image.scaletofit",!0);if("image"===c.product&&c.settings&&c.settings.container&&a){var l=c.settings.container.width,p=r.width;l&&p&&p>l&&(u=l/p)}1!==u&&(t.transformOrigin(i,"bottom left"),t.transformScale(i,u,u));var h=r.creative.diyValues.iframe;if(h=h?o.replaceUrlParams(h,d):"",c.delayLoad){var g=s.getIframeLoadingSrc();i.contentWindow.contents=g,i.src="javascript:window['contents']",c.on(c.DELAYED_LOAD,function(){i.contentWindow.contents=h,i.src="javascript:window['contents']",c.delayLoad=!1})}else i.contentWindow.contents=h,i.src="javascript:window['contents']"});r.clickUrl&&(c.on(c.EVENT_CLICK,function(){e(client.Log.clickSource.AD)}),c.on("delegate",function(t){"click"===t.data.triggerSource&&e(t.data.source)})),c.fire("loaded",h)}})}return{create:c}};var creative=creative||{};creative.C2S=function(e,t){function i(e,t){var i=0;return function o(){window.setTimeout(function(){if(t.contentWindow&&t.contentWindow.pbCall)e.fire("close",client.Log.closeSource.FORCE);else if(t.contentDocument&&t.contentDocument.body&&t.contentDocument.body.childNodes.length>=n)return;++i<a?o():e.fire("close",client.Log.closeSource.FORCE)},r)}}function o(o){return e.create({width:parseInt(o.settings.ads[0].width,10),height:parseInt(o.settings.ads[0].height,10),load:function(){var e=document.createElement("script");e.type="text/javascript",e.src=o.template.id;var n=t.createIFrame({width:o.settings.ads[0].width,height:o.settings.ads[0].height},function(t,n){n.contentWindow.contents=e.outerHTML,n.src="javascript:window['contents']",setTimeout(i(o,n),1)});o.fire("loaded",n)}})}var n=3,r=500,a=3;return{create:o}};var creative=creative||{};creative.CPE=function(e,t){function i(i){return e.create({load:function(){var e=this;t.load({adInstance:i,templateData:i.template},function(t){e.width=parseInt(t.width,10),e.height=parseInt(t.height,10),i.fire("loaded",t.element)})}})}return{create:i}};var creative=creative||{};creative.Custom=function(e,t){function i(i){var o=i.template.params,n=o.scaleToWidth?!!parseInt(o.scaleToWidth,10):null;return"image"===i.product&&n!==!1||n?(o.width=i.settings.container&&i.settings.container.width||parseInt(o.width,10),o.scaleToHeight?o.height=i.settings.container&&i.settings.container.height||parseInt(o.height,10):o.height=parseInt(o.height,10)):(o.width=parseInt(o.width,10),o.height=parseInt(o.height,10)),e.create({load:function(){var e=this;t.load({adInstance:i,templateData:i.template},function(t){e.width=parseInt(t.width,10),e.height=parseInt(t.height,10),i.fire("loaded",t.element)})}})}return{create:i}};var creative=creative||{};creative.Standard=function(e,t,i,o,n){function r(r){var s,c,d=r.template.params,l=d.scaleToWidth?!!parseInt(d.scaleToWidth,10):null,u=r.getDiyValues().nohookclick||!1;return"image"===r.product&&l!==!1||l?(s=r.settings.container&&r.settings.container.width||parseInt(d.width,10),c=d.scaleToHeight?r.settings.container&&r.settings.container.height||parseInt(d.height,10):parseInt(d.height,10)):(s=parseInt(d.width,10),c=parseInt(d.height,10)),e.create({width:s,height:c,load:function(){function e(e){function t(){i.clickThrough(o.extend(v,{source:e}))}var n;e===client.Log.clickSource.HOOK&&u||(n=r.getClickDelay(),o.timeDeltaPassed(r.openTime,n,t))}var l=r.getAd(),p=r.getAdConfig(),h=document.createElement("div");h.setAttribute("data","container-div");var g=r.isResponsive();r.mergedCreativeParams=o.extend({},l.creative.diyValues||{},l.creative.setValues||{},d);var v={product:r.product,hookId:p.vibrantParameters.hookId,setId:p.vibrantParameters.setId,keyword:encodeURIComponent(p.term&&p.term.keyword||""),timestamp:+new Date,clickUrl:l.clickUrl},f=o.extend({},v,r.mergedCreativeParams,{clickUrl:i.getUrl("clickThrough",o.extend(v,{source:client.Log.clickSource.AD}))});f.hasOwnProperty("description")&&f.description&&(f.description=o.truncate(f.description,a));var m=document.createElement("div");if(m.setAttribute("data","contents-div"),m.innerHTML=r.template.execute(f),m.firstChild.width=s,m.firstChild.height=c,m.firstChild.style&&(g&&"intext"!==r.product?(m.firstChild.style.width="100%",m.firstChild.style.height="100%",m.firstChild.style["max-width"]="100%",m.firstChild.style["max-height"]="100%"):(m.firstChild.style.width=s+"px",m.firstChild.style.height=c+"px",m.firstChild.style["max-width"]=s+"px",m.firstChild.style["max-height"]=c+"px"),m.firstChild.style.margin="0px",m.firstChild.style.padding="0px"),r.delayLoad){var y=document.createElement("div");y.setAttribute("data","loading-div"),y.innerHTML=n.getPageLoadingSrc(),h.appendChild(y),r.on(r.DELAYED_LOAD,function(){h.innerHTML="",h.appendChild(m),r.delayLoad=!1})}else h.appendChild(m);t.bind(h,"click",function(){e(client.Log.clickSource.AD)}),r.on(r.EVENT_CLICK,function(){e(client.Log.clickSource.HOOK)}),r.on("delegate",function(t){"click"===t.data.triggerSource&&e(t.data.source)}),r.fire("loaded",h)}})}var a=200;return{create:r}};var creative=creative||{};creative.Video=function(e,t){function i(i){var o=i.getAd(),n=parseInt(i.template.params.width,10)||o.width,r=parseInt(i.template.params.height,10)||o.height;return e.create({width:n,height:r,load:function(){var e=i.settings.ads[0].creative.diyValues,o=e.vpaid||e.VastAdTagUri||e.vast||i.template.params.vast,a=window.top.location.href?encodeURIComponent(window.top.location.href):"";o=o.replace("{{page_url}}",a),o=o.replace("{{timestamp}}",Date.now()),i.template.params.vast=o,i.template.params.width=n,i.template.params.height=r,t.load({adInstance:i,templateData:i.template},function(e){i.fire("loaded",e.element)},"videoFrame")}})}return{create:i}};var creative=creative||{};creative.Waterfall=function(e){function t(t,i,n){var r=t.getAd(),a=r.creative,s=a.diyValues||{},c=n,d=r.hook||{},l=a.creativeType,u=t.template.template?t.template.template.trim():"";return s.VastAdTagUri||s.vpaid||s.vast&&!u.length?{creative:e.video.create(t),decoration:c}:"c2s"===l||t.template.params.c2s?{creative:e.c2s.create(t),decoration:c}:t.template.params.isCPE?("inview"!==i&&(c=o),{creative:e.cpe.create(t),decoration:c}):t.template.params.isCustom?("adbar"===i&&(c="image"),{creative:e.custom.create(t),decoration:c}):s.iframe||s.bidder?{creative:e.banner.create(t),decoration:c}:(d&&d.isHibu&&(c="legacyadhesion"),"adbar"===i&&(c="image"),{creative:e.standard.create(t),decoration:c})}function i(e,t,i){return(n[t]||n.fallback)(e,t,i)}var o="cpeProgressBar",n={inline:t,daw:t,adhesion:t,image:t,inview:t,instory:t,tooltip:t,adbar:t,fallback:t};return{select:i,creatives:e}};var dmp=dmp||{};dmp.audience=function(e,t,i,o){function n(){if(m){var e=".crwdcntrl.net",t=!0,i=document.cookie.indexOf("_cc_domain");if(i>-1){var o=document.cookie.indexOf("=",i);if(o>0){t=!1,o++;var n=document.cookie.indexOf(";",o);n=n>0?n:document.cookie.length,e=document.cookie.slice(o,n)}}var r=!1;if(t){var a;if(i=document.cookie.indexOf("_cc_id"),i>-1){var s=document.cookie.indexOf("=",i);if(s>0){r=!0,s++;var c=document.cookie.indexOf(";",s);c=c>0?c:document.cookie.length,a=document.cookie.slice(s,c)}}}var d="//ad"+e;return"undefined"!=typeof portNumber&&null!=portNumber&&(d=d+":"+portNumber),d=d+"/5/c="+m+"/pe=y/callback="+y,r&&(d=d+"/pid="+a),d}}function r(){if(!g)return void(p="noconsent");if("pending"===p){s=Date.now(),p="inprogress";var i=n();if(!i)return void(p="urlerror");e[f]=function(t){t.Profile&&t.Profile.Audiences&&t.Profile.Audiences.Audience&&(h=t.Profile.Audiences.Audience.map(function(e){return parseInt(e.id,10)})),c=Date.now()-s,p="complete";try{delete e[f]}catch(i){e[f]=void 0}},t.appendScript(i)}}function a(e){function t(){if(v){var i="complete"===p?c:Date.now()-s;console.log("getAudienceDataInternal: Status: "+p+" time: "+i+" msecs")}return"noconsent"===p||"urlerror"===p?e(p,null):"complete"===p?e(null,h):Date.now()-s>d?(v&&console.log("getAudienceDataInternal: Timeout"),e(u,null)):void setTimeout(t,l)}setTimeout(t,0)}i=i||{};var s,c,d=2e3,l=100,u="audience_extraction_timeout",p="pending",h=[],g=o.lotameAudienceExtractionAllowed(),v=0,f="cc_auds",m=i.lotame?i.lotame.networkId:null,y=f;return{runAudienceExtraction:r,getAudienceData:a}};var dmp=dmp||{};dmp.collection=function(e,t,i,o,n,r,a,s,c){function d(e){function i(){e()}var o=t.createElement("script");o=t.createElement("script"),o.type="text/javascript",o.async=!0,o.src=v,o.setAttribute("id","LOTCC_"+m),o.addEventListener?o.addEventListener("load",i,!1):o.onreadystatechange=function(){"loaded"!==o.readyState&&"complete"!==o.readyState||i()},t.head.appendChild(o)}function l(t,i){var o=e[w];t&&i&&(o?(s.info("LOTAME: Sending: key:value "+t+" : "+i),o.add(t,i)):s.error("dmp.collection: script not loaded"))}function u(t){var i=e[w];if(!i)return void s.error("LOTAME: not loaded");if(!b)return void s.warn("Lotame dropBehaviour: Consent not granted");if((t||{}).length){var o=t.reduce(function(e,t){return e.push("b",t.toString()),e},[]);i.bcpw.apply(null,o)}}function p(){var t=e[w];t?t.bcp():s.error("dmp.collection: script not loaded")}function h(){var e=!0;return v||(s.error("No advancedTagUrl"),e=!1),f||(s.error("No behaviourUrl"),e=!1),m||(s.error("No vibrantId"),e=!1),w||(s.error("No lotameObject"),e=!1),y||(s.error("No clientSpace"),e=!1),o.userId||(s.error("No userId"),e=!1),e}function g(t){h()&&c.lotameConsentApiAllowed()&&d(function(){var i={analytics:b,crossdevice:b,datasharing:b,targeting:b};e.LOTCC.setConsent(function(e){e.error&&s.warn("Lotame setConsent: error: "+e.error);var i=o.userId,n=o.ipid,r=o.geo?o.geo.cc:null;s.info("TP: "+y),s.info("TPID: "+i),s.info("IPID: "+n),s.info("COUNTRYCODE: "+r),l("tp",y),l("tpid",i),l("geo","country:"+r),p(),u(t)},m,i)})}o=o||{};var v=o.lotame?o.lotame.advancedTagUrl:null,f=o.lotame?o.lotame.behaviourUrl:null,m=o.lotame?o.lotame.vibrantId:"",y=o.lotame?o.lotame.clientSpace:null,w=o.lotame?o.lotame.lotameObject:null,b=c.lotameCollectionAllowed();n.on(client.app.trigger.contextComplete,function(e){var t=e.data.behaviours||[];if(t.length){var i=t.reduce(function(e,t){return e+t+" "},"");s.info("dropping behaviours for contextComplete:"+i),g(t)}else s.warn("No behaviours for contextComplete:")},this),n.on(client.app.trigger.dmpBehaviourDrop,function(e){var t=e.data.behaviours||[];if(u(t),t.length){var i=t.reduce(function(e,t){return e+t+" "},"");s.info("dropping behaviours for "+e.data.action+" (setID "+e.data.setId+"): "+i)}else s.warn("No behaviours for "+e.data.action+" (setID "+e.data.setId+")")},this)};var gdpr=gdpr||{};gdpr.consent=function(e,t,i,o){function n(){if(e.__cmp?o.info("CMP Framework loaded"):o.info("No CMP Framework loaded"),u.hasOwnProperty("consentStr"))for(var t in u)u.hasOwnProperty(t)&&"function"!=typeof u[t]&&o.info("Consent info: "+t+": "+u[t]);else o.error("Consent String not found")}function r(e){u=e}function a(){return!0}function s(){return u.vibrantConsent&&u.cookiesAllowed}function c(){return u.lotameConsent&&u.measurementAllowed}function d(){return u.lotameConsent&&u.personalisationAllowed}function l(){return!u.gdprApplies||u.consentStr&&u.consentStr.length}i=i||{};var u=i.get("consent",{});return{init:n,updateConsent:r,trackingAllowed:a,cookiesAllowed:s,lotameCollectionAllowed:c,lotameAudienceExtractionAllowed:d,lotameConsentApiAllowed:l}};var pagecontent=pagecontent||{},DEFAULT_OPEN_DELAY=50;pagecontent.Hook=function(e,t,i,o,n,r,a){function s(e,s,c){var d,p=this,h=null,g={},v={};this.textNodeId=c,this.hookClickActive=!0,this.liveLookupFailsShowUnderlyingAd=!0,this.waterfallOverrideAllowed=!0,s.ads&&s.ads.length&&s.ads[0].creative&&(g=(((s.ads[0]||{}).creative||{}).payload||{}).params,v=n.extend({},s.ads[0].creative.diyValues||{},s.ads[0].creative.setValues||{},g),!v.disableLiveLookup||1!==v.disableLiveLookup&&"1"!==v.disableLiveLookup||(this.waterfallOverrideAllowed=!1)),this.isKeywordOnly=v.keywordOnly,s.product=r.hash[s.vibrantParameters.product];var f=v.clickUrl?v.clickUrl:"",m=(s.ads[0]||{}).clickUrl||f;this.hookClickable=!!m.length,this.createHookElement(s,v,e),this.adConfig=s,this.id=s.vibrantParameters.hookId,this.triggered=!1,this.hookCursorStyle=null,o.Observable.call(this),this.isKeywordOnly?(o.bind(this.domNode,"click",function(e){o.stopPropagation(e);var r=n.extend({},{source:v.keywordOnlySource||301,hookId:(s.vibrantParameters||{}).hookId||"",setId:(s.vibrantParameters||{}).setId||"",keyword:(s.term||{}).keyword||"",clickUrl:s.clickUrl||"",product:s.product||"",timestamp:new Date,pvu:t.pvu,urlHash:t.urlHash,ipid:t.ipid},v||{}),c=a.getUrl("clickThrough",r),d=r.clickUrl.split("?"),l=2===d.length?d[0]+"?params="+btoa(JSON.stringify(r)):"",u=c.split("?");if(2===u.length){var p=u[0]+"?url="+encodeURIComponent(l);i.openUrl(p)}}),o.bind(this.domNode,"mouseenter",function(){p.hookCursorStyle&&p.domNode&&(p.domNode.style.cursor=p.hookCursorStyle)})):u?o.bind(this.domNode,"click",function(e){o.stopPropagation(e),p.hookClickable&&p.hookClickActive&&p.fire(pagecontent.Hook.EVENT_CLICK,{hook:p,event:e})}):(o.bind(this.domNode,"mouseenter",function(e){window.clearTimeout(h),h=window.setTimeout(function(){h=null,p.fire(pagecontent.Hook.EVENT_HOOKIN,{hook:p,event:e}),d||(d=o.bind(p.domNode,"click",function(e){o.stopPropagation(e),p.hookClickable&&p.hookClickActive&&p.fire(pagecontent.Hook.EVENT_CLICK,{hook:p,event:e})}))},l),p.hookCursorStyle&&p.domNode&&(p.domNode.style.cursor=p.hookCursorStyle)}),o.bind(this.domNode,"mouseleave",function(e){d&&(d(),d=null),h?(window.clearTimeout(h),h=null):p.fire(pagecontent.Hook.EVENT_HOOKOUT,{hook:p,event:e})}))}function c(t,i){function o(){return c.charAt(u.index)===d.charAt(0)?u.index:u.index+1}var r=t.getDomNode(),a=r.data;if(!a)return null;var c=a.toLowerCase(),d=n.escapeRegExp(i.term.keyword),l="(^|\\s|\\\"|\\')"+d.toLowerCase()+"(\\s|$|\\.|\\,|\\?|\\!|\\\"|\\')",u=new RegExp(l,"m").exec(c);
if(!u||u.len<1)return null;if(!r.parentNode)return null;var h=o(),g=h+d.length,v=new s(a.substring(h,g),i,t.id),f=e.createDocumentFragment();return f.appendChild(e.createTextNode(a.substring(0,h))),f.appendChild(v.getDomNode()),f.appendChild(e.createTextNode(a.substring(g))),r.parentNode.replaceChild(f,r),t.addHook(v),t.updateDomNode(v.getDomNode()),p.push(v),v}function d(e){return n.filter(p,function(t){var o=i.isInViewport(t.getDomNode());return e?e===t.getAdConfig().product&&o:o})}var l=t.get("partner.intext.opendelay",DEFAULT_OPEN_DELAY),u=t.get("mobile",!1),p=[];return s.prototype=new o.Observable,s.prototype.createHookElement=function(o,r,a){if(this.domNode=e.createElement("span"),this.domNode.className="vm-hook-outer",r.hookTooltipText){var s="";try{s=decodeURIComponent(n.replaceUrlParams(r.hookTooltipText,n.extend(o.vibrantParameters,r)))}catch(c){}this.domNode.title=s}var d=e.createElement("span");d.className="vm-hook",i.setTextContent(d,a),this.domNode.appendChild(d);var l=!0;if("instory"===o.product){var u=r.instoryShowHook,p=t.get("partner.instory.hook.show",null);l=null===p?!!u:!!p}var h=t.get("partner.hook.style.custom",null);if(l&&!h){var g=r["custom"+o.product.charAt(0).toUpperCase()+o.product.slice(1)+"HookStyle"],v=t.get("partner."+o.product+".hook.customstyle",null)||g;if(v&&v.length)d.style.cssText=v;else if(this.domNode.className+=" vm-hook-default",d.style.color="#009900",d.style.borderColor="transparent transparent #009900",this.hookClickable){var f=e.createElement("span");f.className="vm-hook-icon",f.style.display="inline-block",this.domNode.appendChild(f)}}else!l&&h&&(d.className+=" vm-hook-reset");r.hookCursorStyle?d.style.cursor=r.hookCursorStyle:d.style.cursor=this.hookClickable?"pointer":"text"},s.prototype.getId=function(){return this.id},s.prototype.getProduct=function(){return this.adConfig.product},s.prototype.getDomNode=function(){return this.domNode},s.prototype.getPosition=function(){return i.getPosition(this.domNode)},s.prototype.getAdConfig=function(){return this.adConfig},s.prototype.getCreativePayload=function(){var e;return this.adConfig&&this.adConfig.ads&&this.adConfig.ads.length&&this.adConfig.ads[0].creative&&(e=this.adConfig.ads[0].creative.payload),e},s.prototype.getWaterfallOverrideAllowed=function(){return this.waterfallOverrideAllowed},s.prototype.resetWaterfallOverrideAllowed=function(){this.waterfallOverrideAllowed=!1},s.prototype.removeStyling=function(){this.domNode.classList.remove("vm-hook-default");var e=this.domNode.getElementsByClassName("vm-hook")[0];e&&e.removeAttribute("style");var t=this.domNode.getElementsByClassName("vm-hook-icon")[0];t&&t.removeAttribute("style")},s.prototype.setTriggered=function(){this.triggered=!0},s.prototype.hasBeenTriggered=function(){return this.triggered},s.prototype.isInViewport=function(){return i.getAbsoluteViewport().contains(this.getPosition())},s.prototype.isInViewportArea=function(e){var t=i.getAbsoluteViewport();return e=e||1,t.bottom=i.getWinHeight()*e+i.getScrollY(),t.contains(this.getPosition())},s.prototype.getParagraph=function(){return i.findParentParagraph(this.domNode)},s.prototype.getParagraphPosition=function(){return i.getPosition(this.getParagraph())},s.prototype.setCursorStyle=function(e){this.hookCursorStyle=e,this.hookCursorStyle&&this.domNode&&(this.domNode.style.cursor=this.hookCursorStyle)},{create:c,getVisibleHooks:d,Hook:s}},pagecontent.Hook.EVENT_CLICK="vm:hookclick",pagecontent.Hook.EVENT_HOOKIN="vm:hookin",pagecontent.Hook.EVENT_HOOKOUT="vm:hookout";var pagecontent=pagecontent||{};pagecontent.Image=function(e,t,i,o){function n(e){var i,o=this;this.id=s++,this.image=e,this.locked=!1,e.width>0&&e.height>0?this.allowed=a(e):(this.allowed=!1,e.complete||(i=t.bind(e,"load",function(){o.allowed=a(e),i()})))}function r(t){function r(t){if(t.nodeType===client.Dom.ELEMENT_NODE){if(c&&e.matchesSelector(t,c))return;if("IMG"===t.tagName.toUpperCase())return void a.push(new n(t));i.forEach(t.childNodes,r)}}var a=[],s=t,c=o.getArray("partner.image.nohooknodes",!1);return i.isNodeList(s)||(s=document.querySelectorAll(t)),i.forEach(s,r),a}function a(e){var t=e.width,i=e.height;return e.width>=c&&e.height>=d&&!l[t+"x"+i]}var s=1,c=200,d=150,l={"300x250":!0,"300x600":!0},u=.8;return n.prototype.getId=function(){return this.id},n.prototype.getDomNode=function(){return this.image},n.prototype.getWidth=function(){return this.image.width},n.prototype.getHeight=function(){return this.image.height},n.prototype.isAvailable=function(){return this.allowed&&!this.locked},n.prototype.lock=function(){this.locked=!0},n.prototype.setAdUnit=function(e){this.adUnit=e},n.prototype.hasAdUnit=function(){return!!this.adUnit},n.prototype.getPosition=function(){return e.getPosition(this.image)},n.prototype.getArea=function(){return this.getPosition().getArea()},n.prototype.isInViewport=function(){var t,i;return this.adUnit&&this.adUnit.isReady()?this.adUnit.isInViewport():(t=this.getPosition(),i=this.getHeight(),t.top=t.top+i*u,!!e.getAbsoluteViewport().contains(t))},n.prototype.isVisible=function(){return e.isVisible(this.image,{overflowCheck:!0})},{ImageNode:n,findImages:r}};var pagecontent=pagecontent||{};pagecontent.Paragraph=function(e,t){function i(e){this.id=a++,this.domNode=e,this.available=!0}function o(e){var t=e.textContent;return"undefined"==typeof t&&(t=e.nodeType===client.Dom.TEXT_NODE?e.data:e.innerText),t.replace(/\s+/,"").length}function n(e){return t.some(e.childNodes,function(e){return e.nodeType===client.Dom.TEXT_NODE&&o(e)>0})}function r(r){var a=document.querySelectorAll(r.selectors),s=[];return t.forEach(a,function(a){var c=a.querySelectorAll(r.paragraphselectors);t.forEach(c,function(t){var a,c=e.getPosition(t);!c||c.getWidth()<r.adwidth||n(t)&&(o(t)<r.mincontentlength.above||(a=e.nextElementSibling(t),null===a||o(a)<r.mincontentlength.below||s.push(new i(t))))})}),s}var a=1;return i.prototype.getId=function(){return this.id},i.prototype.getDomNode=function(){return this.domNode},i.prototype.getWidth=function(){return e.getPosition(this.domNode).getWidth()},i.prototype.isBelowWaterline=function(){return e.getPosition(this.domNode).bottom>=e.getAbsoluteViewport().bottom},i.prototype.isAvailable=function(){return this.available},i.prototype.lock=function(){this.available=!1},{findParagraphs:r,Paragraph:i}};var pagecontent=pagecontent||{};pagecontent.SimpleElement=function(e,t){function i(e){this.id=n++,this.domNode=e,this.available=!0}function o(e){var o=document.querySelectorAll(e.selectors),n=[];return t.forEach(o,function(e){n.push(new i(e))}),n}var n=1;return i.prototype.getId=function(){return this.id},i.prototype.getDomNode=function(){return this.domNode},i.prototype.getWidth=function(){return e.getPosition(this.domNode).getWidth()},i.prototype.isBelowWaterline=function(){return!1},i.prototype.isAvailable=function(){return this.available},i.prototype.lock=function(){this.available=!1},{findElements:o,SimpleElementNode:i}};var pagecontent=pagecontent||{};pagecontent.TextNode=function(e,t){function i(e,o,n){this.id=t.hashString(o),this.domNode=e,this.textContent=o,this.hyperlink=n,this.status=i.AVAILABLE,this.hooks=[]}function o(o){function a(e,o){var c,d;if(e.nodeType===client.Dom.TEXT_NODE)c=t.trim(e.data),c.length>0&&s.push(new i(e,c,o));else if(e.nodeType===client.Dom.ELEMENT_NODE){if(d=e.tagName.toUpperCase(),n[d]||e.className&&e.className.toLowerCase&&t.includes(e.className.toLowerCase().split(/\s+/),r)||e.id&&e.id.toLowerCase&&e.id.toLowerCase()===r)return;t.forEach(e.childNodes,function(e){a(e,o||"A"===d)})}}var s=[],c=o;return t.isNodeList(c)||(c=e.querySelectorAll(o)),t.forEach(c,function(e){a(e,!1)}),s}var n={SCRIPT:!0,NOSCRIPT:!0,CANVAS:!0,CODE:!0,OBJECT:!0,PROGRESS:!0,SOURCE:!0,VIDEO:!0,STYLE:!0},r="nointellitxt";return i.AVAILABLE=0,i.IN_FLIGHT=1,i.LOCKED=2,i.prototype.getId=function(){return this.id},i.prototype.getDomNode=function(){return this.domNode},i.prototype.updateDomNode=function(e){this.domNode=e},i.prototype.isHyperlink=function(){return this.hyperlink},i.prototype.getTextContent=function(){return this.textContent},i.prototype.getStatus=function(){return this.status},i.prototype.setStatus=function(e){this.status=e},i.prototype.getHooks=function(){return this.hooks},i.prototype.addHook=function(e){this.hooks.push(e)},{TextNode:i,findTextNodes:o}};var platform=platform||{};platform.desktop=function(e,t,i,o,n,r){function a(){var a={};return a.daw=function(){var i=new o.Scroll,n=new o.Adhesion(t.get("partner.daw",{})),r=new e.Daw;i.initialise(),n.once("trigger",function(e){r.invoke(e.data)}),n.initialise(i)},i.isAllowed(client.PubX.IN_CONTENT)?(a.image=function(i){var n=new o.Image(t.get("partner.image",{})),r=o.Gallery.load(t.get("partner.gallery",{})),a=new e.Image;n.on("trigger",function(e){a.invoke(e.data)}),function(){var t;r&&(t=new e.Gallery({api:r.api}),r.on("trigger",function(e){a.invoke(e.data)}),a.on("galleryBehaviour",function(e){t.invoke(e.data)}))}(),n.initialise(i)},a.inline=function(i){var n,r=t.get("partner.inline",{});n=r.usesimpleelement?new o.SimpleElement(r):new o.ParagraphBreak(r);var a=new e.Inline;n.on("trigger",function(e){a.invoke(e.data)}),n.initialise(i)},function(){var i=t.getBoolean("partner.inview.mobileonly",!1),s=new o.TextNode,c=new e.Wordflip,d=new e.VibrantView,l=e.ScriptsLoader,u=r.once(function(e){s.initialise(e)});a.intext=function(t,i){function o(e){c.invoke(e),d.invoke(e),l.invoke(e)}function n(e){a.invoke(e)}function r(e){a.invoke(e)}var a=new e.Tooltip,p=new e.Hook({product:i,fetchFormat:"{{id}}",eventCallbacks:{newHooks:o,hover:n,click:r}});s.on("trigger",function(e){p.invoke(e.data)}),d.on("trigger",function(e){i===e.data.hook.getProduct()&&a.invoke(e.data)}),u(t)},a.inview=function(t,o){function r(t){e.AutoReveal.autoOpen(g,t)}function a(e){c.invoke(e),d.invoke(e),l.invoke(e),r(e)}function p(e){g.invoke(e)}function h(e){g.invoke(e)}if(!i){var g=new e.InView,v=new e.Hook({product:o,fetchFormat:"{{id}}:{{width}}:"+o,callback:g.processNode,eventCallbacks:{newHooks:a,hover:p,click:h}});s.on("trigger",function(e){v.invoke(e.data)}),d.on("trigger",function(e){o===e.data.hook.getProduct()&&g.invoke(e.data)}),t.on(client.app.trigger.scroll,function(){r({hooks:n.getVisibleHooks(o),viewSource:client.Log.viewSource.SCROLL})}),u(t)}},a.instory=function(t,i){function o(t){e.AutoReveal.autoOpen(h,t)}function r(e){c.invoke(e),d.invoke(e),l.invoke(e),e.hooks.forEach(function(e){h.invoke({hook:e,viewSource:300})})}function a(){}function p(){}var h=new e.InStory,g=new e.Hook({product:i,fetchFormat:"{{id}}:{{width}}:"+i,callback:h.processNode,prefilterNodes:h.prefilterNodes,eventCallbacks:{newHooks:r,hover:a,click:p}});s.on("trigger",function(e){g.invoke(e.data)}),d.on("trigger",function(e){i===e.data.hook.getProduct()&&h.invoke(e.data)}),t.on(client.app.trigger.scroll,function(){o({hooks:n.getVisibleHooks(i),viewSource:client.Log.viewSource.SCROLL})}),u(t)},a.adbar=function(){var i=new o.Scroll,n=new o.Adhesion(t.get("partner.adbar",{})),r=new e.AdBar;i.initialise(),n.once("trigger",function(e){r.invoke(e.data)}),n.initialise(i)},a.adbarlegacy=function(){e.AdBarLegacy()}}(),a):a}return{initialise:a}};var platform=platform||{};platform.mobile=function(e,t,i,o,n,r,a){function s(){var s={};if(i.isAllowed(client.PubX.IN_CONTENT)){var c=new o.Resize,d=new o.Scroll,l=new o.Gesture;return c.initialise(),d.initialise(),l.initialise(),s.image=function(i){var n=new o.Image(t.get("partner.image",{})),r=o.Gallery.load(t.get("partner.gallery",{})),a=new e.Image;n.on("trigger",function(e){a.invoke(e.data)}),function(){var t;r&&(t=new e.Gallery({api:r.api}),r.on("trigger",function(e){a.invoke(e.data)}),a.on("galleryBehaviour",function(e){t.invoke(e.data)}))}(),n.initialise(i)},s.inline=function(i){var n,r=t.get("partner.inline",{});n=r.usesimpleelement?new o.SimpleElement(r):new o.ParagraphBreak(r);var a=new e.Inline;n.on("trigger",function(e){a.invoke(e.data)}),n.initialise(i)},s.adhesion=function(){var i=new o.Adhesion(t.get("partner.adhesion",{})),n=new e.AdhesionBackfill({fetchFormat:"{{id}}:320:80"}),r=new e.AdhesionPlacement;c.connect("trigger",r,"resize"),d.connect("trigger",r,"scroll"),l.connect("zoom",r,"zoom"),n.on("adsReady",function(e){r.invoke(e.data)}),r.on("fetchAd",function(e){n.invoke(e.data)}),i.once("trigger",function(e){n.invoke(e.data)}),i.initialise(d)},function(){var i=t.getBoolean("partner.inview.desktoponly",!1),u=new o.TextNode,p=new e.VibrantView,h=new e.Wordflip,g=e.ScriptsLoader,v=r.once(function(e){u.initialise(e)});c.connect("trigger",h,"resize"),d.connect("trigger",h,"scroll"),l.connect("zoom",h,"zoom"),l.connect("touchstart",h,"touchstart"),l.connect("touchend",h,"touchend"),c.connect("trigger",p,"resize"),d.connect("trigger",p,"scroll"),l.connect("zoom",p,"zoom"),l.connect("touchstart",p,"touchstart"),l.connect("touchend",p,"touchend"),s.intext=function(i,o){function n(e){var i,o="adhesion";if(e&&e.hook&&(i=e.hook.getAdConfig())){var n={cdnUrl:"//"+t.cdn.internal,id:i.ads[0].creative.value};a.template.load(n,i,function(t,i){!t&&i&&(i.params.isCPE||(o="inview"),k[o].invoke(e))})}}function s(e){n(e)}function f(e){h.invoke(e),p.invoke(e),g.invoke(e)}var m,y=o+":",w={newHooks:f,click:s},b=t.getBoolean("partner.intext.adhesion",!1);m=b?new e.Hook({product:o,placement:"hooked-adhesion",fetchFormat:"{{id}}:320:80",eventCallbacks:w}):new e.Hook({product:o,placement:"dropin",fetchFormat:"{{id}}:1:1",eventCallbacks:w});var k={};k.adhesion=new e.AdhesionPlacement,k.inview=new e.InView,k.dropin=new e.DropInPlacement,r.forEach(k,function(e){c.connect("trigger",e,"resize"),d.connect("trigger",e,"scroll"),l.connect("zoom",e,"zoom"),l.connect("touchstart",e,"touchstart"),l.connect("touchend",e,"touchend")}),h.on(y+"highlight",function(e){n(e.data)}),u.on("trigger",function(e){m.invoke(e.data)}),v(i)},s.inview=function(t,o){function r(e){c.invoke(e)}function a(t){e.AutoReveal.autoOpen(c,t)}function s(e){h.invoke(e),p.invoke(e),g.invoke(e),a(e)}if(!i){var c=new e.InView,d=new e.Hook({product:o,fetchFormat:"{{id}}:{{width}}:"+o,callback:c.processNode,eventCallbacks:{newHooks:s,click:r}});u.on("trigger",function(e){d.invoke(e.data)}),p.on("trigger",function(e){o===e.data.hook.getProduct()&&c.invoke(e.data)}),t.on(client.app.trigger.scroll,function(){a({hooks:n.getVisibleHooks(o),viewSource:client.Log.viewSource.SCROLL})}),v(t)}},s.instory=function(t,i){function o(e){s.invoke(e)}function r(e){for(var t=0;t<e.hooks.length;t++)e.hooks[t].getAdConfig()&&!e.hooks[t].autoOpened&&(s.invoke({hook:e.hooks[t],viewSource:e.viewSource}),e.hooks[t].autoOpened=!0)}function a(e){p.invoke(e),g.invoke(e),r(e)}var s=new e.InStory,c=new e.Hook({product:i,fetchFormat:"{{id}}:{{width}}:"+i,callback:s.processNode,prefilterNodes:s.prefilterNodes,eventCallbacks:{newHooks:a,click:o}});u.on("trigger",function(e){c.invoke(e.data)}),p.on("trigger",function(e){i===e.data.hook.getProduct()&&s.invoke(e.data)}),t.on(client.app.trigger.scroll,function(){r({hooks:n.getVisibleHooks(i),viewSource:client.Log.viewSource.SCROLL})}),v(t)}}(),s}}return{initialise:s}};var platform=platform||{};platform.tablet=function(e,t,i,o,n,r){function a(){var a={};if(i.isAllowed(client.PubX.IN_CONTENT)){var s=new o.Resize,c=new o.Scroll,d=new o.Gesture;return s.initialise(),c.initialise(),d.initialise(),a.image=function(i){var n=new o.Image(t.get("partner.image",{})),r=o.Gallery.load(t.get("partner.gallery",{})),a=new e.Image;n.on("trigger",function(e){a.invoke(e.data)}),function(){var t;r&&(t=new e.Gallery({api:r.api}),r.on("trigger",function(e){a.invoke(e.data)}),a.on("galleryBehaviour",function(e){t.invoke(e.data)}))}(),n.initialise(i)},a.inline=function(i){var n,r=t.get("partner.inline",{});n=r.usesimpleelement?new o.SimpleElement(r):new o.ParagraphBreak(r);var a=new e.Inline;n.on("trigger",function(e){a.invoke(e.data)}),n.initialise(i)},a.adhesion=function(){var i=new o.Adhesion(t.get("partner.adhesion",{})),n=new e.AdhesionBackfill({fetchFormat:"{{id}}:728:90"}),r=new e.AdhesionPlacement;s.connect("trigger",r,"resize"),c.connect("trigger",r,"scroll"),d.connect("zoom",r,"zoom"),n.on("adsReady",function(e){r.invoke(e.data)}),r.on("fetchAd",function(e){n.invoke(e.data)}),i.once("trigger",function(e){n.invoke(e.data)}),i.initialise(c)},function(){var i=t.getBoolean("partner.inview.desktoponly",!1),l=new o.TextNode,u=new e.VibrantView,p=new e.Wordflip,h=e.ScriptsLoader,g=r.once(function(e){l.initialise(e)});s.connect("trigger",p,"resize"),c.connect("trigger",p,"scroll"),d.connect("zoom",p,"zoom"),d.connect("touchstart",p,"touchstart"),d.connect("touchend",p,"touchend"),s.connect("trigger",u,"resize"),c.connect("trigger",u,"scroll"),d.connect("zoom",u,"zoom"),d.connect("touchstart",u,"touchstart"),d.connect("touchend",u,"touchend"),a.intext=function(i,o){function n(e){a.invoke(e)}function r(e){p.invoke(e),u.invoke(e),h.invoke(e)}var a,v,f=o+":",m=t.getBoolean("partner.intext.adhesion",!1),y={newHooks:r,click:n};m?(a=new e.AdhesionPlacement,v=new e.Hook({product:o,placement:"hooked-adhesion",fetchFormat:"{{id}}:728:90",eventCallbacks:y}),p.on(f+"highlight",function(e){a.invoke(e.data)}),s.connect("trigger",a,"resize"),c.connect("trigger",a,"scroll"),d.connect("zoom",a,"zoom"),d.connect("touchstart",a,"touchstart"),d.connect("touchend",a,"touchend")):(a=new e.DropInPlacement,v=new e.Hook({product:o,placement:"dropin",fetchFormat:"{{id}}:1:1",eventCallbacks:y})),l.on("trigger",function(e){v.invoke(e.data)}),g(i)},a.inview=function(t,o){function r(e){c.invoke(e)}function a(t){e.AutoReveal.autoOpen(c,t)}function s(e){p.invoke(e),u.invoke(e),h.invoke(e),a(e)}if(!i){var c=new e.InView,d=new e.Hook({product:o,fetchFormat:"{{id}}:{{width}}:"+o,callback:c.processNode,eventCallbacks:{newHooks:s,click:r}});l.on("trigger",function(e){d.invoke(e.data)}),u.on("trigger",function(e){o===e.data.hook.getProduct()&&c.invoke(e.data)}),t.on(client.app.trigger.scroll,function(){a({hooks:n.getVisibleHooks(o),viewSource:client.Log.viewSource.SCROLL})}),g(t)}},a.instory=function(t,o){function r(e){c.invoke(e)}function a(e){for(var t=0;t<e.hooks.length;t++)c.invoke({hook:e.hooks[t],viewSource:e.viewSource})}function s(e){u.invoke(e),h.invoke(e),a(e)}if(!i){var c=new e.InStory,d=new e.Hook({product:o,fetchFormat:"{{id}}:{{width}}:"+o,callback:c.processNode,prefilterNodes:c.prefilterNodes,eventCallbacks:{newHooks:s,click:r}});l.on("trigger",function(e){d.invoke(e.data)}),u.on("trigger",function(e){o===e.data.hook.getProduct()&&c.invoke(e.data)}),t.on(client.app.trigger.scroll,function(){a({hooks:n.getVisibleHooks(o),viewSource:client.Log.viewSource.SCROLL})}),g(t)}}}(),a}}return{initialise:a}};var trigger=trigger||{};trigger.Adhesion=function(e){function t(t){e.Observable.call(this),this.minScroll=t.getInteger("minscroll",0),this.triggered=!1}var i={TRIGGER:"trigger"};return t.prototype=new e.Observable,t.prototype.initialise=function(e){var t=this;e.on(i.TRIGGER,function(e){var o=e.data,n=o.scroll||0;!t.triggered&&n>=t.minScroll&&t.fire(i.TRIGGER,{viewSource:o.viewSource||client.Log.viewSource.SCROLL,scroll:n})})},t};var trigger=trigger||{};trigger.Gallery=function(e,t,i,o,n,r,a){function s(e){var s=this;i.Observable.call(this),this.selectors=e.selectors,this.script=e.script,this.gallery=e.gallery,this.api={channel:new i.Observable,config:t,dom:n,events:i,utils:o,selectors:this.selectors,gallery:this.gallery},this.api.channel.on("newImage",function(e){var t=new r.ImageNode(e.data.image);s.fire(d.TRIGGER,{hooks:[t],maxAds:1,viewSource:client.Log.viewSource.LOAD,gallery:!0}),t.isInViewport()&&a.forceFlush()}),this.loadScript()}function c(e){var t,i=e.getArray("selectors",!1),o=e.get("script",!1);return!(!i&&!o)&&(t=document.querySelector(i),!!t&&new s({selectors:i,script:o,gallery:t}))}var d={TRIGGER:"trigger"};return s.prototype=new i.Observable,s.prototype.loadScript=function(){var t=this;e.VM.gallery=e.VM.gallery||{},e.VM.gallery.initialise=function(e){e(t.api)},n.appendScript(this.script)},{GalleryTrigger:s,load:c}};var trigger=trigger||{};trigger.Gesture=function(e,t,i,o){function n(){t.Observable.call(this),this.connect(client.app.trigger.zoom,e)}function r(e){t.bind(window,"touchstart",o.debounce(function(t){e.fire(client.app.trigger.touchstart,t)},a,{leading:!0})),t.bind(window,"touchend",o.debounce(function(t){e.fire(client.app.trigger.touchend,t)},a,{leading:!0}))}var a=150;return n.prototype=new t.Observable,n.prototype.initialise=function(){r(this)},n};var trigger=trigger||{};trigger.Image=function(e,t){function i(t){e.Observable.call(this),this.config=t,this.images=[]}function o(e,i){var o=[],r=e.config.getInteger("maxhooks",1);t.forEach(e.images,function(e){e.isInViewport()&&(e.isAvailable()?(e.lock(),e.isVisible()&&o.push(e)):e.hasAdUnit()?--r:e.lock())}),r<1||0===o.length||(o.sort(function(e,t){return t.getArea()-e.getArea()}),e.fire(n.TRIGGER,{hooks:o,maxAds:r,viewSource:i}))}var n={TRIGGER:"trigger"};return i.prototype=new e.Observable,i.prototype.initialise=function(e){e.on(client.app.trigger.newContent,function(e){this.images.push.apply(this.images,e.data.images)},this),e.on(client.app.trigger.load,function(){o(this,client.Log.viewSource.LOAD)},this),e.on(client.app.trigger.scroll,function(){o(this,client.Log.viewSource.SCROLL)},this)},i};var trigger=trigger||{};trigger.ParagraphBreak=function(e,t,i){function o(e){t.Observable.call(this),this.config=e}var n={TRIGGER:"trigger"};return o.prototype=new t.Observable,o.prototype.initialise=function(t){t.on(client.app.trigger.load,function(){var t=e.findParagraphs(this.config);if(this.config.getBoolean("nowaterline"))this.hook=t[0];else for(var o=0,n=t.length;o<n;++o)if(t[o].isBelowWaterline()){this.hook=t[o];break}this.hook||i.notifyFailure("inline")},this),t.on(client.app.trigger.scroll,function(){this.hook&&this.hook.isAvailable()&&!this.hook.isBelowWaterline()&&(this.hook.lock(),this.fire(n.TRIGGER,{hook:this.hook,viewSource:client.Log.viewSource.SCROLL}))},this)},o};var trigger=trigger||{};trigger.Resize=function(e,t,i){function o(){t.Observable.call(this)}var n={TRIGGER:"trigger"},r=250;return o.prototype=new t.Observable,o.prototype.initialise=function(){var o=this;t.bind(window,"resize",i.debounce(function(){e.fire(client.app.trigger.resize),o.fire(n.TRIGGER)},r))},o};var trigger=trigger||{};trigger.Scroll=function(e,t,i){function o(){var e=this;i.Observable.call(this),this.lastScrollY=0,this._isUnderAnimation=!1,this.onAnimationStart=function(){e._isUnderAnimation=!0},this.onAnimationEnd=function(){e._isUnderAnimation=!1}}var n={TRIGGER:"trigger"};return o.prototype=new i.Observable,o.prototype.initialise=function(){e.on(client.app.inview.animationStart,this.onAnimationStart),e.on(client.app.inline.animationStart,this.onAnimationStart),e.on(client.app.inview.animationEnd,this.onAnimationEnd),e.on(client.app.inline.animationEnd,this.onAnimationEnd),e.on(client.app.trigger.load,function(){this.lastScrollY=0,this.fire(n.TRIGGER,{viewSource:client.Log.viewSource.LOAD,scroll:0,direction:0})},this),e.on(client.app.trigger.scroll,function(){var e=t.getScrollY(),i=e-this.lastScrollY;this.lastScrollY=e,this._isUnderAnimation||this.fire(n.TRIGGER,{viewSource:client.Log.viewSource.SCROLL,scroll:e,direction:i})},this)},o};var trigger=trigger||{};trigger.SimpleElement=function(e,t,i){function o(e){t.Observable.call(this),this.config=e}var n={TRIGGER:"trigger"};return o.prototype=new t.Observable,o.prototype.initialise=function(t){t.on(client.app.trigger.load,function(){var t=e.findElements(this.config);if(this.config.getBoolean("nowaterline"),0){for(var o=0,r=t.length;o<r;++o)if(t[o].isBelowWaterline()){this.hook=t[o];break}}else this.hook=t[0];this.hook||i.notifyFailure("inline"),this.hook&&this.hook.isAvailable()&&!this.hook.isBelowWaterline()&&(this.hook.lock(),this.fire(n.TRIGGER,{hook:this.hook,viewSource:client.Log.viewSource.SCROLL}))},this),t.on(client.app.trigger.manual,function(){var t=e.findElements(this.config);this.hook=t[0],this.fire(n.TRIGGER,{hook:this.hook,viewSource:0})},this)},o};var trigger=trigger||{};trigger.TextNode=function(e,t,i,o){function n(){i.Observable.call(this)}var r={TRIGGER:"trigger"},a=40,s=e.getInteger("partner.intext.extendviewport",0);return n.prototype=new i.Observable,n.prototype.initialise=function(e){function i(e,t){var i=o.filter(n,function(e){return c(e.getDomNode())});n.length>0&&e.fire(r.TRIGGER,{nodes:i,viewSource:t})}var n=[],c=function(){return s?function(e){var i=t.getAbsoluteViewport();return i.bottom+=s,!!t.getTextNodeBounds(e).getIntersection(i)}:function(e){return t.isInViewport(e)}}();e.on(client.app.trigger.newContent,function(e){o.forEach(e.data.textNodes,function(e){e.getTextContent().length>=a&&!e.isHyperlink()&&n.push(e)},this)},this),e.on(client.app.trigger.load,function(){i(this,client.Log.viewSource.LOAD)},this),e.on(client.app.trigger.scroll,function(){i(this,client.Log.viewSource.SCROLL)},this)},n};var behaviour=behaviour||{};behaviour.hook=behaviour.hook||{},behaviour.hook.AdAssign=function(e,t,i,o,n,r){function a(t){var a=[],c=t.ads,d=t.candidateNodes,l=t.viewSource,u=t.product;e.forEach(d,function(e){var t,s=e.getId(),d=c[s]?c[s][0]:null;r.setNodeStatus(u,s,n.TextNode.LOCKED),d&&r.hookAllowed(u)&&(t=o.create(e,c[s][0],u),t?(a.push(t),r.countHooks(u||"intext",1)):i.hookFailure({product:u||"intext",hookId:d.vibrantParameters.hookId,reason:client.Log.hookReason.TERM_NOT_FOUND}))}),e.forEach(a,function(e){e.on(pagecontent.Hook.EVENT_HOOKIN,function(){e.setTriggered(),r.executeCallback(u,s.HOVER,{hook:e,viewSource:client.Log.viewSource.MOUSE_OVER,triggerSource:s.HOVER})}),e.on(pagecontent.Hook.EVENT_CLICK,function(){e.setTriggered(),r.executeCallback(u,s.CLICK,{hook:e,viewSource:client.Log.viewSource.MOUSE_OVER,triggerSource:s.CLICK})})}),a.length>0&&(i.hookLoad({product:u,hookIds:e.map(a,function(e){return e.getId()}).join(",")}),r.executeCallback(u,s.NEW_HOOKS,{hooks:a,viewSource:l}))}var s={NEW_HOOKS:"newHooks",HOVER:"hover",CLICK:"click"};return a};var behaviour=behaviour||{};behaviour.hook=behaviour.hook||{},behaviour.hook.HookAdFetcher=function(e,t,i,o,n,r,a){function s(){this.waitList={}}var c={IDLE:1,FETCHING:2},d={nodes:[],candidateNodes:[],viewSource:null,count:0,ready:!1,state:c.IDLE},l=["intext","inview"];return s.prototype.designate=function(e){this.waitList.hasOwnProperty(e)||(this.waitList[e]=i.extend({},d))},s.prototype.resolveFalse=function(e,t){this.waitList.hasOwnProperty(e)&&this.dataToFetch(e,[],[],0,t)},s.prototype.goFetch=function(e){this.waitList.hasOwnProperty(e.product)&&this.dataToFetch(e.product,e.nodes,e.candidateNodes,e.count,e.viewSource)},s.prototype.isFetching=function(e){return this.waitList[e].state===c.FETCHING},s.prototype.activeProducts=function(){return i.keys(this.waitList)},s.prototype.dataToFetch=function(e,t,i,o,n){var r=this.waitList[e];this.isFetching(e)||(r.nodes=r.nodes.concat(t),r.candidateNodes=r.candidateNodes.concat(i),r.viewSource=n,r.count=o,r.ready=!0,r.state=c.FETCHING),this.attemptFetch()},s.prototype.resetWaitList=function(){i.forOwn(this.waitList,function(e){i.extend(e,d)})},s.prototype.attemptFetch=function(){var e=this,t=!i.some(e.activeProducts(),function(t){return e.waitList[t].ready===!1});t&&this.fetch()},s.prototype.fetch=function(){var t,s=[],c={},d=[];if(i.forOwn(this.waitList,function(e,i){s=s.concat(e.nodes),c[i]=e.candidateNodes.slice(0),d.push(e.count),t=e.viewSource}),this.resetWaitList(),s.length){var u=!1;r.getVisibleHooks()&&(u=i.some(r.getVisibleHooks(),function(e){var t=e.getAdConfig();return"internal"===t.ads[0].creative.creativeType&&i.includes(l,t.product)})),e.request("intext",{ids:s,count:Math.max.apply(null,d),internal:u,autoreveal:c.hasOwnProperty("inview")&&a.revealsAllowed()},function(e){var r={};for(var a in c)c.hasOwnProperty(a)&&(r.hasOwnProperty(a)||(r[a]={}));i.forOwn(e,function(e,t){var i=o.hash[e[0].vibrantParameters.product];r.hasOwnProperty(i)||(r[i]={}),r[i][t]=e}),i.forOwn(r,function(e,i){n({ads:e,candidateNodes:c[i],viewSource:t,product:i})})})}},new s};var behaviour=behaviour||{};behaviour.hook=behaviour.hook||{},behaviour.hook.Behaviour=function(e,t,i,o,n,r,a){function s(t){this.product=t.product,this.selector=e.get("partner."+this.product+".selectors",l),"instory"===this.product?(this.maxHooks=e.get("partner.instory.maxhooks",c.instory),this.maxHooksPerPage=e.get("partner.instory.pagemaxhooks",d.instory)):(this.maxHooks=e.get("partner.intext.maxhooks",c.intext),this.maxHooksPerPage=e.get("partner.intext.pagemaxhooks",0)),this.fetchFormat=t.fetchFormat,this.callback=t.callback||!1,this.prefilterNodes=t.prefilterNodes||!1,r.setPageMaxHooksForProduct(this.product,this.maxHooksPerPage||0),r.registerProduct(this.product,t.eventCallbacks),n.designate(this.product),this.discoveredNodes=[]}var c={instory:1,intext:3},d={instory:5,intext:5},l=e.get("partner.intext.selectors","BODY");return s.prototype.invoke=function(e){var s=this,c=this.maxHooks,d=[],l=[];this.viewSource=e.viewSource;var u=0;if(t.forEach(this.discoveredNodes,function(e){var t=e.node.getHooks();u+=t?t.length:0}),!r.hookAllowed(this.product))return n.resolveFalse(s.product,this.viewSource);t.forEach(e.nodes,function(e){var t,i;for(t=0;t<s.discoveredNodes.length;t++)if(e.id===s.discoveredNodes[t].node.id){i=!0;break}if(!i&&e.domNode){var o=a.getTextNodeBounds(e.domNode);s.discoveredNodes.push({node:e,bottomPos:o.bottom,status:"pending"})}}),s.discoveredNodes.sort(function(e,t){return e.bottomPos>t.bottomPos});var p=o.getHookableTags(e.nodes,this.selector,this.prefilterNodes,this.discoveredNodes);if(t.forEach(p,function(e){switch(r.getNodeStatus(s.product,e.getId())){case i.TextNode.IN_FLIGHT:--c;break;case i.TextNode.LOCKED:t.forEach(e.getHooks(),function(e){e.isInViewport()&&--c});break;default:l.push(e)}}),c<=0||0===l.length)return n.resolveFalse(s.product,this.viewSource);var h=[];t.forEach(l,function(e){function o(i){d.push(t.replaceUrlParams(s.fetchFormat,i)),h.push(e)}var n=e.getId();r.setNodeStatus(s.product,n,i.TextNode.IN_FLIGHT),s.callback?s.callback(e,n,o):o({node:e,id:n})}),l=h,n.goFetch({product:s.product,nodes:d,count:c,viewSource:s.viewSource,candidateNodes:l})},s};var behaviour=behaviour||{};behaviour.hook=behaviour.hook||{},behaviour.hook.NodeFilter=function(e,t,i){function o(o,s,c,d){function l(e){var o=e.parentNode;return o&&i.isElement(o)?r[o.tagName]?{hookable:!1,discard:!0}:a&&(i.matchesSelector(o,a)||i.parentHasSelector(o,a))?{hookable:!1,discard:!0}:t.includes(s,o)?{hookable:!0,discard:!1}:l(o):{hookable:!1,discard:!1}}if(e.forceMode)return o;s=document.querySelectorAll(s);var u=t.filter(o,function(e){var t;return!n[e.id]&&(t=l(e.domNode),t.discard&&(n[e.id]=!0),t.hookable)});return c?c(u,d):u}var n={},r={H1:!0,H2:!0,H3:!0,ASIDE:!0},a=e.getArray("partner.intext.nohooknodes",!1);return{getHookableTags:o}};var behaviour=behaviour||{};behaviour.hook=behaviour.hook||{},behaviour.hook.Mediator=function(e,t){function i(){this.nodeStatus={},this.productEventCallbacks={},this.productPageMaxHooks={}}return i.prototype.setPageMaxHooksForProduct=function(e,t){var i=parseInt(t,10),o=!isNaN(i)&&i>0;this.productPageMaxHooks[e]={hookLimiting:o,allowedPageHooks:i}},i.prototype.hookAllowed=function o(e){var o=!this.productPageMaxHooks[e]||!this.productPageMaxHooks[e].hookLimiting||this.productPageMaxHooks[e].allowedPageHooks>0;return o},i.prototype.hookLimited=function(e){return(this.productPageMaxHooks[e]||{}).hookLimiting},i.prototype.allowedPageHooks=function n(e){var n=0;return this.productPageMaxHooks[e]&&this.productPageMaxHooks[e].hookLimiting&&(n=this.productPageMaxHooks[e].allowedPageHooks),n},i.prototype.countHooks=function(e,t){(this.productPageMaxHooks[e]||{}).hookLimiting&&(this.productPageMaxHooks[e].allowedPageHooks-=t)},i.prototype.returnHook=function(e){(this.productPageMaxHooks[e]||{}).hookLimiting&&++this.productPageMaxHooks[e].allowedPageHooks},i.prototype.getNodeStatus=function(e,t){return this.nodeStatus[e][t]},i.prototype.setNodeStatus=function(e,t,i){this.nodeStatus[e][t]=i},i.prototype.registerProduct=function(e,i){
this.nodeStatus[e]||(this.nodeStatus[e]={}),this.productEventCallbacks[e]||(this.productEventCallbacks[e]={}),t.extend(this.productEventCallbacks[e],i)},i.prototype.executeCallback=function(e,t,i){this.productEventCallbacks[e]&&this.productEventCallbacks[e][t]&&this.productEventCallbacks[e][t](i)},new i};var behaviour=behaviour||{};behaviour.image=behaviour.image||{};var DEFAULT_MAX_DEPTH=3;behaviour.image.Behaviour=function(e,t,i,o,n,r,a,s,c,d,l){function u(){var e=i.get("partner.image",{});switch(e.get("caption.strategy",null)){case"bruteForce":this.captionStrategy=new c.BruteForce(e.getInteger("caption.maxdepth",DEFAULT_MAX_DEPTH));break;case"cssSelector":this.captionStrategy=new c.CssSelector(e.get("caption.selector"));break;default:this.captionStrategy=null}}var p=i.getInteger("partner.image.pagemaxhooks",0),h=!!p;return u.prototype=new r.Observable,u.prototype.invoke=function(r){function u(e,t,i){a.adClose({product:e.product,hookId:e.settings.vibrantParameters.hookId,source:t||client.Log.closeSource.AUTO}),i()}function g(e,i,o){e=t.decoration.decorate(e,{decorationType:w}),a.adImpression({product:e.product,hookId:e.settings.vibrantParameters.hookId,setId:e.settings.vibrantParameters.setId,source:i}),o()}var v=r.hooks||[],f=this,m=i.getBoolean("partner.image.scaletofit",!0),y=m?1.5:1,w="image",b=d.map(v,function(e){var t=Math.floor(e.getWidth()*y),i=Math.floor(e.getHeight()*y);return e.getId()+":"+t+":"+i});h&&p<1||e.request("image",{ids:b,count:r.maxAds},function(e){var m=[];d.forEach(v,function(a){function d(e,i){e.position=new t.position.Absolute(function(){return c.findPositionWithinImage(a.getDomNode(),y,f.captionStrategy)}),i(null,e)}var v,y,b,k=a.getId();if(e.hasOwnProperty(k)){if(h){if(p<1)return;--p}v=e[k][0],v.container={width:a.getWidth(),height:a.getHeight()},y=t.adunit.create({product:"image",settings:v,templateSettings:{cdnUrl:"//"+i.cdn.internal,id:v.ads[0].creative.value},creativeLoad:function(e){var t=o.waterfall.select(e,"image",w);return w=t.decoration,t.creative},render:d,open:g,close:u}),n.onPositionChange(a.getDomNode(),function(){y.fire("domChange"),b||(!a.isVisible()&&y.isOpen()&&y.fire("hide"),a.isVisible()&&!y.isOpen()&&y.fire("show"))}),l.on(client.app.inview.animationStart,function(){b=!0,y.fire("hide")}),l.on(client.app.inview.animationEnd,function(){y.fire("domChange"),y.fire("show"),b=!1}),r.gallery&&f.fire("galleryBehaviour",{adUnit:y}),a.setAdUnit(y),s.track(y,v.trackers,v.term),y.connect("opened",y,"impression"),y.connect(y.EVENT_CLICK,y,"click"),y.fire("open",r.viewSource),m.push(v.vibrantParameters.hookId)}}),m.length>0&&a.hookLoad({product:"image",hookIds:m.join(",")})})},u};var behaviour=behaviour||{};behaviour.image=behaviour.image||{},behaviour.image.Deviations=function(e,t){function i(e,i){return t.forEach(r,function(t){t.value&&(i=t.func(e,i,t.value))}),i}function o(e,i,o){return t.forOwn(i,function(e,t){o.hasOwnProperty(t)&&(i[t]+=parseInt(o[t],10)||0)}),i}var n=e.get("partner.image",{}),r=[{func:o,value:n.get("pos",!1)}];return{applyRules:i}};var behaviour=behaviour||{};behaviour.image=behaviour.image||{},behaviour.image.Gallery=function(e){function t(t){e.Observable.call(this),this.channel=t.api.channel}return t.prototype=new e.Observable,t.prototype.invoke=function(e){e.adUnit&&this.channel.fire("newAd",{ad:e.adUnit})},t};var behaviour=behaviour||{};behaviour.image=behaviour.image||{},behaviour.image.Position=function(e,t,i,o){function n(e){this.maxDepth=e}function r(e){this.selector=e}function a(e,i,n){var r,a,s,c,d,l=t.getPosition(e),u=l.right-l.left,p=i.width||i.getWidth(),h=i.height||i.getHeight();if(c=l.bottom-h,d=l.bottom,u-p>0)a=l.left+(u-p)/2,s=l.right-(u-p)/2;else{var g=i.body.parentElement;g&&(g.style.width=u+"px"),a=l.left,s=l.right}var v=new t.Coord({top:c,left:a,bottom:d,right:s}),f=t.getVisibleRect(e);return i.visibleRect=f,e.height>f.height&&v.shiftY(f.height-e.height),n&&(r=n.findCaptionTop(e,v),r&&v.shiftY(r-l.bottom)),o.applyRules(e,v)}return n.prototype.findCaptionTop=function(e,o){function n(e){if(e.nodeType===client.Dom.ELEMENT_NODE&&"vm-adunit-outer"!==e.className&&t.isVisible(e)){var r=t.getPosition(e);r.top<a&&o.getIntersection(r)&&(a=r.top),i.forEach(e.childNodes,n)}}for(var r=0,a=1/0;r<this.maxDepth;){var s=e.parentNode;if(!s)break;for(var c=s.childNodes,d=0,l=c.length;d<l;++d)c[d]!==e&&n(c[d]);e=s,++r}return isFinite(a)?a:null},r.prototype.findCaptionTop=function(o,n){var r=e.querySelectorAll(this.selector),a=1/0;return i.forEach(r,function(e){var i=t.getPosition(e);t.isVisible(e)&&i.getIntersection(n)&&(a=i.top)}),isFinite(a)?a:null},{findPositionWithinImage:a,BruteForce:n,CssSelector:r}};var behaviour=behaviour||{};behaviour.instory=behaviour.instory||{},behaviour.instory.PrefilterNodes=function(e,t,i){function o(e){return t.filter(e,function(e){if(e.domNode&&e.domNode.parentNode){var t=i.getPosition(e.domNode.parentNode);if(t)return t.bottom>h}return!1})}function n(e,i){var o,n=[];return t.forEach(e,function(e){var t=i.filter(function(t){return t.node.id===e.id||"allowed"===t.status}),r=-1;for(o=0;o<t.length;o++)if(t[o].node.id===e.id){r=o;break}if(r!==-1){if("pending"===t[r].status){var a=0===r||t[r].bottomPos-t[r-1].bottomPos>g,s=r>=t.length-1||t[r+1].bottomPos-t[r].bottomPos>g;t[r].status=a&&s?"allowed":"disallowed","allowed"===t[r].status&&n.push(e)}}else console.log("failed to find node in nodelist")}),n}function r(e,t){return[o,n].reduce(function(e,i){return i(e,t)},e)}var a=e.get("platform",""),s=700,c=500,d=300,l=800,u=800,p=800,h=0,g=0;switch(a){case"desktop":h=s,g=l;break;case"tablet":h=c,g=u;break;case"mobile":h=d,g=p}return r},behaviour.instory.Filter=function(e,t,i){function o(e){var t,o,l,p={allowed:!1,width:null};if(!i.isElement(e))return p;if(t=i.getTextNodeBounds(e),o=t.getWidth(),o<r)return p;if(i.elementHasNodes(e,s))return p;if(u&&i.parentHasSelector(e,u.split(",")))return p;if(d&&n(e))return p;if(l=i.nextElementSibling(e)){if(l.className.indexOf(a)!==-1)return p;if(c&&i.matchesSelector(l,c))return p}return{allowed:!0,width:o}}function n(e){var o=i.elementsAtPoints(e,l),n="IMG";return t.some(o,function(e){return!!i.isElement(e)&&e.tagName===n})}var r="mobile"===e.platform?250:400,a="tt-wrapper",s=e.getArray("partner.instory.blockednodes",["img","div","iframe"]),c=e.get("partner.instory.avoid",null),d=e.getBoolean("partner.instory.collisiondetect",!0),l=e.getInteger("partner.instory.collisionoffset",10),u=e.get("partner.instory.blockbyparent",null);return o};var behaviour=behaviour||{};behaviour.instory=behaviour.instory||{},behaviour.instory.Behaviour=function(e,t,i,o,n,r,a,s,c,d,l,u,p){function h(){this.activeHook=null,this.activeUnit=null,this.allowNewUnits=!0}var g=1.2;return h.prototype=new a.Observable,h.prototype.prefilterNodes=function(e,t){return p(e,t)},h.prototype.processNode=function(e,t,o){var n=r.findParentParagraph(e.getDomNode()),a=u(n),s=a.width,c=i.getBoolean("partner.instory.scaletofit",!0);c&&(s*=g),a.allowed&&o({node:e,id:t,width:Math.floor(s)})},h.prototype.invoke=function(e){function n(e,t,i){t===client.Log.closeSource.AD&&u.allowNewUnits===!0&&(u.allowNewUnits=!1,l.fire("instoryClose")),p.disconnectAll(v),p.removeStyling(),s.adClose({product:e.product,hookId:e.settings.vibrantParameters.hookId,source:t||client.Log.closeSource.AUTO}),i()}function r(e,i){e.position=new t.position.Instory(p),i(null,e)}function a(e,i,o){e=t.decoration.decorate(e,{decorationType:g}),d(e),o()}function d(e){if(e){var t=e.template.params,i=e.outerBox.querySelector(".vm-adunit-content");t.backgroundColor&&(i.style.backgroundColor=t.backgroundColor);var o=((p.adConfig||{}).container||{}).width;if(o&&(e.scaleToFit(o),e.fire("resize")),e.position){var n=e.position.hook;n&&n.domNode&&n.domNode.setAttribute("style","cursor:text")}}}var u=this;if(this.allowNewUnits){var p=e.hook,h=p.getAdConfig();if(p!==this.activeHook||!this.activeUnit.isOpen()){var g="instory";h.container={width:p.getParagraphPosition().getWidth()};var v=t.adunit.create({product:"instory",settings:h,delayLoad:!0,templateSettings:{cdnUrl:"//"+i.cdn.internal,id:h.ads[0].creative.value},creativeLoad:function(e){var t=o.waterfall.select(e,"instory",g);return g=t.decoration,t.creative},render:r,open:a,close:n});c.track(v,h.trackers,h.term),v.connect("slidingopened",v,"impression"),v.connect(v.EVENT_CLICK,v,"click"),v.on("slidingopened",function(){s.adImpression({product:v.product,hookId:v.settings.vibrantParameters.hookId,setId:v.settings.vibrantParameters.setId,source:e.viewSource})}),p.connect(pagecontent.Hook.EVENT_HOOKIN,v,v.EVENT_MOUSEIN),p.connect(pagecontent.Hook.EVENT_HOOKOUT,v,v.EVENT_MOUSEOUT),p.connect(pagecontent.Hook.EVENT_CLICK,v,v.EVENT_CLICK),!i.mobile&&e.triggerSource&&v.once("opened",function(){v.fire("delegate",{triggerSource:e.triggerSource,source:client.Log.clickSource.HOOK})}),v.fire("open",e.viewSource),this.activeHook=p,this.activeUnit=v,l.on("instoryClose",function(){v.fire("close")})}}},h};var behaviour=behaviour||{};behaviour.inview=behaviour.inview||{},behaviour.inview.Filter=function(e,t,i){function o(e){var t,o,l,p={allowed:!1,width:null};if(!i.isElement(e))return p;if(t=i.getTextNodeBounds(e),o=t.getWidth(),o<r)return p;if(i.elementHasNodes(e,s))return p;if(u&&i.parentHasSelector(e,u.split(",")))return p;if(d&&n(e))return p;if(l=i.nextElementSibling(e)){if(l.className.indexOf(a)!==-1)return p;if(c&&i.matchesSelector(l,c))return p}return{allowed:!0,width:o}}function n(e){var o=i.elementsAtPoints(e,l),n="IMG";return t.some(o,function(e){return!!i.isElement(e)&&e.tagName===n})}var r="mobile"===e.platform?250:400,a="tt-wrapper",s=e.getArray("partner.inview.blockednodes",["img","div","iframe"]),c=e.get("partner.inview.avoid",null),d=e.getBoolean("partner.inview.collisiondetect",!0),l=e.getInteger("partner.inview.collisionoffset",10),u=e.get("partner.inview.blockbyparent",null);return o};var behaviour=behaviour||{};behaviour.inview=behaviour.inview||{},behaviour.inview.Behaviour=function(e,t,i,o,n,r,a,s,c,d,l,u,p){function h(){var e=this;this.activeHook=null,this.activeUnit=null,y&&l.on(client.app.intext.tooltipClose,function(){e.closeOpenUnits()})}var g,v=100,f=1e3,m=1.2,y=i.getBoolean("partner.inview.closeonopen",!1);return h.prototype=new a.Observable,h.prototype.processNode=function(e,t,o){var n=r.findParentParagraph(e.getDomNode()),a=u(n),s=a.width,c=i.getBoolean("partner.inview.scaletofit",!0);c&&(s*=m),a.allowed&&o({node:e,id:t,width:Math.floor(s)})},h.prototype.closeOpenUnits=function(){this.activeUnit&&(g=this.activeUnit.getPosition(),this.activeUnit.fire("close",client.Log.closeSource.AUTO))},h.prototype.invoke=function(e){function n(e,t,i){h.disconnectAll(b),s.adClose({product:e.product,hookId:e.settings.vibrantParameters.hookId,source:t||client.Log.closeSource.AUTO}),i()}function a(e,i){e.position=new t.position.Inview(h),i(null,e)}function d(e,o,n){var a,c=r.getAbsoluteViewport(),d=function(){var t=0;return g?g.top>e.position.hook.getPosition().bottom?t:(t=g.getHeight(),g=null,t):t}();e=t.decoration.decorate(e,{decorationType:w}),l(e),s.adImpression({product:e.product,hookId:e.settings.vibrantParameters.hookId,setId:e.settings.vibrantParameters.setId,source:o}),i.getBoolean("mobile",!1)?a=b.getPosition().top+b.getHeight()/2-(c.top+c.bottom)/2-d:(a=b.getPosition().top+b.getHeight()+v-c.bottom,a=Math.max(0,a),a+=-d),0!==a&&r.smoothScrollY(a,f),n()}function l(e){if(e){var t=e.getTemplateParams(),i=e.getTemplateHookParams()||{},o=e.outerBox.querySelector(".vm-adunit-content");t&&(t.backgroundColor&&(o.style.backgroundColor=t.backgroundColor),h&&i.cursorStyle&&h.setCursorStyle(i.cursorStyle));var n=((h.adConfig||{}).container||{}).width;n&&e.scaleToFit(n)}}var u=this,h=e.hook,m=h.getAdConfig();if(h!==this.activeHook||!this.activeUnit.isOpen()){var y=i.getInteger("programmaticOverride",0);if(y&&h.getWaterfallOverrideAllowed())return void p.getAdForHook(h,function(t){if(t){var i=h.id,o=m.vibrantParameters.adProviderId,n=t.vibrantParameters.hookId,r=t.vibrantParameters.adProviderId;s.hookLoad({product:"inview",hookIds:n}),s.hookReplacement({product:"inview",oldHookId:i,newHookId:n,oldAdProviderId:o||-1,newAdProviderId:r||-1,reason:client.Log.hookReason.OVERRIDE}),h.adConfig=t,h.id=n,e.adConfig=t}(t||h.liveLookupFailsShowUnderlyingAd)&&(h.resetWaterfallOverrideAllowed(),u.invoke(e),h.hookClickActive=!0)});var w="inview";m.container={width:h.getParagraphPosition().getWidth()};var b=t.adunit.create({product:"inview",settings:m,templateSettings:{cdnUrl:"//"+i.cdn.internal,id:m.ads[0].creative.value},creativeLoad:function(e){var t=o.waterfall.select(e,"inview",w);return w=t.decoration,t.creative},render:a,open:d,close:n});c.track(b,m.trackers,m.term),b.connect("opened",b,"impression"),b.connect(b.EVENT_CLICK,b,"click"),h.connect(pagecontent.Hook.EVENT_HOOKIN,b,b.EVENT_MOUSEIN),h.connect(pagecontent.Hook.EVENT_HOOKOUT,b,b.EVENT_MOUSEOUT),h.connect(pagecontent.Hook.EVENT_CLICK,b,b.EVENT_CLICK),!i.mobile&&e.triggerSource&&b.once("opened",function(){b.fire("delegate",{triggerSource:e.triggerSource,source:client.Log.clickSource.HOOK})}),this.closeOpenUnits(),b.fire("open",e.viewSource),this.activeHook=h,this.activeUnit=b}},h};var BidderBase=function(){this.bids=[],this.options={},this.name="bidderbase",this.status="pending"};BidderBase.prototype.formatBid=function(e,t,i,o,n,r,a,s){var c={bidderName:e,bidId:t,zoneId:i,product:o,width:n,height:r,scriptUrl:a,scriptTag:'<script src="'+a+'"></script>',cpm:s,impressions:0,impressionCap:1};return c},BidderBase.prototype.getName=function(){return this.name},BidderBase.prototype.getBids=function(){return this.bids},BidderBase.prototype.getOptions=function(){return this.options||{}},BidderBase.prototype.getStatus=function(){return this.status},BidderBase.prototype.load=function(){throw"BidderBase.prototype.load must be overridden"},BidderBase.prototype.getBidByZoneId=function(e){return this.bids.find(function(t){return t.zoneId===e})};var CriteoBidder=function(e,t,i){this.FAST_BID_ENABLED=!0,this.scriptUrl=this.FAST_BID_ENABLED?"https://static.criteo.net/js/ld/publishertag.standalone.js":"https://static.criteo.net/js/ld/publishertag.js",this.criteo=null,this.bidTimeoutMs=2e3,this.name="criteo",this.supportedProducts=t,this.ipid=i||0;var o=this;this.adUnits={placements:[{slotid:"div-gpt-ad-0000000000000-0",zoneid:898770},{slotid:"div-gpt-ad-0000000000000-0",zoneid:1232818},{slotid:"div-gpt-ad-0000000000000-0",zoneid:1191579},{slotid:"div-gpt-ad-0000000000000-0",zoneid:1191578},{slotid:"div-gpt-ad-0000000000000-0",zoneid:1191580},{slotid:"div-gpt-ad-0000000000000-0",zoneid:1175979},{slotid:"div-gpt-ad-0000000000000-0",zoneid:1229156},{slotid:"div-gpt-ad-0000000000000-0",zoneid:1191581},{slotid:"div-gpt-ad-0000000000000-0",zoneid:1191582},{slotid:"div-gpt-ad-0000000000000-0",zoneid:898775},{slotid:"div-gpt-ad-0000000000000-0",zoneid:1232819},{slotid:"div-gpt-ad-0000000000000-0",zoneid:898777},{slotid:"div-gpt-ad-0000000000000-0",zoneid:1232820},{slotid:"div-gpt-ad-0000000000000-0",zoneid:898778},{slotid:"div-gpt-ad-0000000000000-0",zoneid:1232821},{slotid:"div-gpt-ad-0000000000000-0",zoneid:898779},{slotid:"div-gpt-ad-0000000000000-0",zoneid:1232824},{slotid:"div-gpt-ad-0000000000000-0",zoneid:1232825},{slotid:"div-gpt-ad-0000000000000-0",zoneid:898772},{slotid:"div-gpt-ad-0000000000000-0",zoneid:1352278},{slotid:"div-gpt-ad-0000000000000-0",zoneid:1352277},{slotid:"div-gpt-ad-0000000000000-0",zoneid:1352276},{slotid:"div-gpt-ad-0000000000000-0",zoneid:1352275}]},this.productMap={},this.productMap[898770]={products:["intext"],size:"300x250",group:"all"},this.productMap[1232818]={products:["intext"],size:"300x250",group:"all"},this.productMap[1191579]={products:["inview"],size:"300x250",group:"all"},this.productMap[1191578]={products:["inview"],size:"480x320",group:"all"},this.productMap[1191580]={products:["inview"],size:"640x360",group:"all"},this.productMap[1175979]={products:["instory"],size:"300x250",group:"all"},this.productMap[1229156]={products:["instory"],size:"300x250",group:"all"},this.productMap[1191581]={products:["instory"],size:"480x320",group:"all"},this.productMap[1191582]={products:["instory"],size:"640x360",group:"all"},this.productMap[898778]={products:["image","adbar"],size:"320x50",group:"all"},this.productMap[1232821]={products:["image","adbar"],size:"320x50",group:"all"},this.productMap[898775]={products:["image","adbar"],size:"468x60",group:"all"},this.productMap[1232819]={products:["image","adbar"],size:"468x60",group:"all"},this.productMap[898777]={products:["image","adbar"],size:"728x90",group:"all"},this.productMap[1232820]={products:["image","adbar"],size:"728x90",group:"all"},this.productMap[898779]={products:["adhesion"],size:"300x50",group:"all"},this.productMap[1232824]={products:["adhesion"],size:"300x50",group:"all"},this.productMap[1232825]={products:["adhesion"],size:"300x50",group:"all"},this.productMap[898772]={products:["daw"],size:"300x250",group:"all"},this.productMap[1352278]={products:["instory"],size:"320x480",group:"high"},this.productMap[1352277]={products:["instory"],size:"300x250",group:"high"},this.productMap[1352276]={products:["instory"],size:"320x480",group:"low"},this.productMap[1352275]={products:["instory"],size:"300x250",group:"low"},this.adUnits.placements=this.adUnits.placements.filter(function(i){var n=o.productMap[i.zoneid];if(n){var r=t.filter(function(e){return n.products.indexOf(e)>-1});return r.length>0&&n.group===e}return!1});for(var n=0;n<this.adUnits.placements.length;n++)this.adUnits.placements[n].publishersubid=this.ipid.toString()};CriteoBidder.prototype=new BidderBase,CriteoBidder.prototype.load=function(window,dom){var self=this;dom.appendScript(this.scriptUrl,function callback(){if(self.FAST_BID_ENABLED){var fastBid=localStorage.getItem("criteo_fast_bid_standalone");fastBid&&eval(fastBid)}self.criteo=window.Criteo,self.status="loaded",self.criteo.events.push(function(){self.criteo.SetLineItemRanges("0..30:0.01"),self.criteo.RequestBids(self.adUnits,self.bidCallback.bind(self),self.bidTimeoutMs)})})},CriteoBidder.prototype.bidCallback=function(e){for(var t=this,i=0;i<(e||[]).length;i++){var o=e[i],n=t.productMap[o.zoneId];if(n)for(var r=0;r<(n.products||[]).length;r++){var a=this.formatBid(this.getName(),o.id,o.zoneId,n.products[r],o.width,o.height,o.displayUrl,o.cpm);t.bids.push(a)}}this.status="completed"};var FreewheelBidder=function(e){this.supportedProducts=e,this.name="freewheel"};FreewheelBidder.prototype=new BidderBase,FreewheelBidder.prototype.load=function(){this.bidCallback([])},FreewheelBidder.prototype.bidCallback=function(e){this.bids=[],this.status="completed";for(var t=0;t<e.length;t++){var i=e[t],o=this.formatBid(this.getName(),i.id,i.zoneId,i.product,i.width,i.height,i.url,i.cpm);this.bids.push(o)}};var BASE_APP_SCOPE=BASE_APP_SCOPE||"VM";window[BASE_APP_SCOPE]=window[BASE_APP_SCOPE]||{},window[BASE_APP_SCOPE].initialise=function(e){var t=client.Utils(),i=constants.ProductMap(),o=constants.CompatibilityRules(t);e=client.Config(e,t,o);var n=e.apiVersions;client.PubXBuilder(e);var r=client.debugLog(e,n);window[BASE_APP_SCOPE].debugLog=r;var a=client.Events(t),s=client.AppChannel(a),c=client.AdsMonitor(s,r),d=client.Dom(window,document,a,t),l=gdpr.consent(window,d,e,r),u=client.Cookie(document,e),p=dmp.audience(window,d,e,l),h=bidding.Mediator(window,document,e,t,d,s,i,r),g=client.Api(window,n,e,d,a,t,c,h,p),v=client.Log(n,e,d,t,g,s,r),f=client.CookieSync(n,e,d,t,v,g,l),m=client.AdFetcher(g,s,t,e,i,d),y=client.PubX(v),w=client.Page(g,e,t,s),b=client.Net(window,BASE_APP_SCOPE,d,a,t),k=client.Tracking(e,b,t,v,s,l),C=client.Waterfall(window,document,e,t,v),E=dmp.collection(window,document,g,e,s,t,b,r,l);client.CmdMessenger(g,s,t,e,i,d,v,r);var I=function(){var i=adunit.Template(b,t),o=adunit.Decoration(window,document,e,a,d,t,v);return{template:i,creative:adunit.Creative(a,t),position:adunit.Position(window,document,d,a,t,s),adunit:adunit.AdUnit(window,d,a,i,v,t,r,e),videounit:adunit.VideoUnit(window,document,e,d,a,v,t),cpeunit:adunit.CPEUnit(window,e,d,a,v,t,adunit.VideoUnit),customunit:adunit.CustomUnit(window,e,d,a,v,t,adunit.VideoUnit,o),decoration:o}}(),x=function(){var i=creative.Waterfall({standard:creative.Standard(I.creative,a,v,t,I.decoration),c2s:creative.C2S(I.creative,d,a,v),banner:creative.Banner(I.creative,d,v,t,e,h,r,I.decoration),video:creative.Video(I.creative,I.videounit,a,v),cpe:creative.CPE(I.creative,I.cpeunit,a,v),custom:creative.Custom(I.creative,I.customunit,a,v)});return{waterfall:i}}(),A=function(){var o=pagecontent.Hook(document,e,d,a,t,i,v),n=pagecontent.Image(d,a,t,e),r=pagecontent.Paragraph(d,t),s=pagecontent.SimpleElement(d,t),c=pagecontent.TextNode(document,t);return{hook:o,image:n,paragraph:r,simpleElement:s,textNode:c}}(),D=client.ContentMonitor(m,e,d,A.image,v,w,A.textNode,t,E),S={Adhesion:trigger.Adhesion(a),Image:trigger.Image(a,t),Gallery:trigger.Gallery(window,e,a,t,d,A.image,m),ParagraphBreak:trigger.ParagraphBreak(A.paragraph,a,C),SimpleElement:trigger.SimpleElement(A.simpleElement,a,C),TextNode:trigger.TextNode(e,d,a,t),Scroll:trigger.Scroll(s,d,a),Resize:trigger.Resize(s,a,t),Gesture:trigger.Gesture(s,a,d,t)},O=function(){var o=behaviour.AutoReveal(e,t,u,s);return{AdhesionPlacement:behaviour.AdhesionPlacement(I,e,x,d,a,v,k,t),AdhesionBackfill:behaviour.AdhesionBackfill(m,d,a,t,e),AdBarLegacy:behaviour.AdBarLegacy(window,e,d),AdBar:behaviour.AdBar(m,I,e,x,a,v,k),AutoReveal:o,ScriptsLoader:behaviour.ScriptsLoader(e,t),DropInPlacement:behaviour.DropInPlacement(I,e,x,a,v,k),InView:function(){var i=behaviour.inview.Filter(e,t,d);return behaviour.inview.Behaviour(window,I,e,x,u,d,a,v,k,t,s,i,m)}(),InStory:function(){var i=behaviour.instory.Filter(e,t,d),o=behaviour.instory.PrefilterNodes(e,t,d);return behaviour.instory.Behaviour(window,I,e,x,u,d,a,v,k,t,s,i,o)}(),Daw:behaviour.Daw(m,I,e,x,a,v,k),Image:function(){var i=behaviour.image.Deviations(e,t),o=behaviour.image.Position(document,d,t,i);return behaviour.image.Behaviour(m,I,e,x,d,a,v,k,o,t,s)}(),Gallery:behaviour.image.Gallery(a),Inline:behaviour.Inline(m,I,e,x,a,v,k,C),Tooltip:behaviour.Tooltip(window,I,e,x,d,a,v,t,k,s,m),Hook:function(){var n=behaviour.hook.Mediator(e,t),r=behaviour.hook.AdAssign(t,a,v,A.hook,A.textNode,n),s=behaviour.hook.HookAdFetcher(m,a,t,i,r,A.hook,o),c=behaviour.hook.NodeFilter(e,t,d);return behaviour.hook.Behaviour(e,t,A.textNode,c,s,n,d)}(),VibrantView:behaviour.VibrantView(e,u,a,t),Wordflip:behaviour.Wordflip(window,document,e,t,d,a,A.hook,s)}}();s.once(client.app.main.initialise,function(i){var o,n,r=i.data.pubXReached;r&&y.set(e.getInteger("partner.pubx.action",client.PubX.ALLOW_ALL)),o=platform[e.get("platform")],n=o(O,e,y,S,A.hook,t,I).initialise(),t.forEach(e.getArray("partner.products"),function(e){n&&n.hasOwnProperty(e)&&!C.isBlocked(e)&&n[e](s,e)})}),function(){function i(){d.waitForReadyState(function(){D.run(s),v.pageTracking({referrer:t.Base64.encodeURI(document.referrer)})})}l.init();var o=e.get("partner.rundelay",0),n=e.get("partner.hook.style.custom",null);h.init(v),p.runAudienceExtraction(),f.sync(),f.syncConsent(),d.appendStyleSheet("//"+e.cdn.kormorantcss.replace("{{version}}",e.version)),n&&d.appendInlineStyle(n),o>0?window.setTimeout(i,o):i()}()}}(window,document);
//# sourceMappingURL=http://localhost/maps/kormorant-1.28.17.min.js.map
      [
[
?h[
   9    :https://images.intellitxt.com/k/kormorant-1.28.17.min.js necko:classified 1 security-info FnhllAKWRHGAlo+ESXykKAAAAAAAAAAAwAAAAAAAAEaphjojH6pBabDSgSnsfLHeAAQAAgAAAAAAAAAAAAAAAAAAAAAB4vFIJp5wRkeyPxAQ9RJGKPqbqVvKO0mKuIl8ec8o/uhmCjImkVxP+7sgiYWmMt8F+O2DZM7ZTG6GukivU8OT5gAAAAAAAASKMIIEhjCCA26gAwIBAgIQCC3A28wqEl/RrtBQ1RDq8jANBgkqhkiG9w0BAQsFADBGMQswCQYDVQQGEwJVUzEPMA0GA1UEChMGQW1hem9uMRUwEwYDVQQLEwxTZXJ2ZXIgQ0EgMUIxDzANBgNVBAMTBkFtYXpvbjAeFw0xNzEyMjMwMDAwMDBaFw0xOTAxMjMxMjAwMDBaMCAxHjAcBgNVBAMTFWltYWdlcy5pbnRlbGxpdHh0LmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALfvU3br4KCoL+D5RiOZHHmLyDvK1HRwK7s/ui0FdPf4bYQPrT444bHLOOFjnJ9Mkk0LvoU2RKyiKNqMiUUkCTPt0mu0dWoxTNmFT6uSMKamVuqRTqw1D+9HsPJrAM+rWwPdg6Gn5e6zWcoWR1637Qiy4zosH78XRgcKRh+riYt8NNFql9FYTw5FdgXzlUzE+4Yo1rIIDvih03HIYWbJPGepDMvVs102bN52MvNT5+vyWkBv1xmwGlDTQA87FKglvJVuqcfZ8/AiTjOuRSHsCZ5zQtUsGzg6RP0AScew05IAqx9w9kJlFfriIcztNIzbYJG5yFvOfHqj0Q9rXCCyrocCAwEAAaOCAZQwggGQMB8GA1UdIwQYMBaAFFmkZgZSoHuVkjyjlAcnlnRb+T3QMB0GA1UdDgQWBBRMoXlLk2TLiNP+V1fsCeD7TDXwhzA7BgNVHREENDAyghVpbWFnZXMuaW50ZWxsaXR4dC5jb22CGWF3cy5pbWFnZXMuaW50ZWxsaXR4dC5jb20wDgYDVR0PAQH/BAQDAgWgMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjA7BgNVHR8ENDAyMDCgLqAshipodHRwOi8vY3JsLnNjYTFiLmFtYXpvbnRydXN0LmNvbS9zY2ExYi5jcmwwIAYDVR0gBBkwFzALBglghkgBhv1sAQIwCAYGZ4EMAQIBMHUGCCsGAQUFBwEBBGkwZzAtBggrBgEFBQcwAYYhaHR0cDovL29jc3Auc2NhMWIuYW1hem9udHJ1c3QuY29tMDYGCCsGAQUFBzAChipodHRwOi8vY3J0LnNjYTFiLmFtYXpvbnRydXN0LmNvbS9zY2ExYi5jcnQwDAYDVR0TAQH/BAIwADANBgkqhkiG9w0BAQsFAAOCAQEAa4jj5uPRS0K8B+RkaCoB6nJWxlsLnpgKnAViOsIMdsJkISck/6q2DqhzRBhATJicu7qbxxyVIzoUM8jR4A5A7q5VCSPhLh2X9C8Qo49S78fJGz+xCqy/44JkHPoQZ3iv0JMVeflhH2E4BAiDQfCAH0Ht6dHj3aSwVrfrqEC/dO6ABX/G6CR4YpbUsw7zmdnDCbU/y0CSablCnuNX54j5LaH9W2JJ8VWsfrtt/CThwbzCsKa/60GXBJ8kfSERf3N8gXUtdwcPZzer/mnIb6tjd5Wc8g+4FM0V1OrTGYrldPMeItUoNEpMUl06sAkvoBF2EnKItQ3s5f3A902VllRTkMAvAAMAAAAAAQEAAA== request-method GET request-Accept-Encoding gzip, deflate, br response-head HTTP/2.0 200 OK
Content-Type: application/javascript
Content-Length: 183836
Date: Wed, 14 Nov 2018 11:57:39 GMT
Last-Modified: Wed, 14 Nov 2018 11:44:33 GMT
Etag: "3804158039c68c85c7f81c8be37c48e0"
Accept-Ranges: bytes
Server: AmazonS3
Vary: Accept-Encoding
Age: 589045
X-Cache: Hit from cloudfront
Via: 1.1 2a3894d93a2a1e3b94fb6ed07542ad37.cloudfront.net (CloudFront)
X-Amz-Cf-Id: f2kOug-fg2mTlpMTPqtuEvg2ph1MstO8-j8UVUdl1__5dzPw6hW7pg==
X-Firefox-Spdy: h2
 uncompressed-len 0  