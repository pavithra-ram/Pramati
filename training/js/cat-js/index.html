<html>

<head>
    <title>
        CC
    </title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://fonts.googleapis.com/css?family=Roboto:700,900" rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/main.css">
</head>

<body>

    <div class="main-container text-center">

        <h1 class="mb-5"><i>Simple cat clicker !!</i></h1>

        <button type="button" class="btn btn-primary" onclick="add_cats()">Add Cats</button>

        <div class="d-block text-center">

            <div class="img-container text-center">
                <img src="img/cat.jpg" onclick="click_cat1()" alt="cat-image" class="img-desc mt-5 mb-2">
                <div>
                    <h3 id="click-value1" class="mt-3"></h3>
                </div>
                <div class="mt-3 ls"><button type="button" id="b1" class="bn btn btn-primary" onclick="reset(1)">Reset</button></div>
            </div>

            <div class="img-container">
                <img src="img/cat.jpg" onclick="click_cat2()" alt="cat-image" class="img-desc mt-5 mb-2">
                <div>
                    <h3 id="click-value2" class="mt-3"></h3>
                </div>
                <div class="mt-3 ls"><button type="button" id="b2" class="bn btn btn-primary" onclick="reset(2)">Reset</button></div>
            </div>

            <div class="img-container">
                <img src="img/cat.jpg" onclick="click_cat3()" alt="cat-image" class="img-desc mt-5 mb-2">
                <div>
                    <h3 id="click-value3" class="mt-3"></h3>
                </div>
                <div class="mt-3 ls"><button type="button" id="b3" class="bn btn btn-primary" onclick="reset(3)">Reset</button></div>
            </div>

            <div class="img-container">
                <img src="img/cat.jpg" onclick="click_cat4()" alt="cat-image" class="img-desc mt-5 mb-2">
                <div>
                    <h3 id="click-value4" class="mt-3"></h3>
                </div>
                <div class="mt-3 ls"><button type="button" id="b4" class="bn btn btn-primary" onclick="reset(4)">Reset</button></div>
            </div>
            <h1>dynamically created cats</h1>
            <div id="tot" class="text-center ls"></div>

        </div>

    </div>

</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js"></script>

<script>

    /*console.log("hai");*/
    var count_1 = 0;
    var count_2 = 0;
    var count_3 = 0;
    var count_4 = 0;
    function click_cat1() {
        count_1++;
        document.getElementById("click-value1").innerHTML = count_1;
        /* console.log("count ",count_1);*/
        document.getElementById("b1").style.display = "block";

    }

    function click_cat2() {
        count_2++;
        document.getElementById("click-value2").innerHTML = count_2;
        /*console.log("count ",count_2);*/
        document.getElementById("b2").style.display = "block";
    }

    function click_cat3() {
        count_3++;
        document.getElementById("click-value3").innerHTML = count_3;
        /* console.log("count ",count_3);*/
        document.getElementById("b3").style.display = "block";
    }

    function click_cat4() {
        count_4++;
        document.getElementById("click-value4").innerHTML = count_4;
        /* console.log("count ",count_4);*/
        document.getElementById("b4").style.display = "block";

    }
    function reset(val) {
        if (val == 1) {
            document.getElementById("click-value1").innerHTML = " ";
            count_1 = 0;
            document.getElementById("b1").style.display = "none";
        }
        if (val == 2) {
            document.getElementById("click-value2").innerHTML = " ";
            count_2 = 0;
            document.getElementById("b2").style.display = "none";
        }
        if (val == 3) {
            document.getElementById("click-value3").innerHTML = " ";
            count_3 = 0;
            document.getElementById("b3").style.display = "none";
        }
        if (val == 4) {
            document.getElementById("click-value4").innerHTML = " ";
            count_4 = 0;
            document.getElementById("b4").style.display = "none";
        }
    }

    //dynamic part

    var add_cats = (function () {               //making private using closures

        var _cat_count = 0;
        var temp;
        var src;
        return function () {

            _cat_count++;

            /*cat_count++;*/

            /*creating cat img part */

            var ci = document.createElement("img");
            ci.src = "img/cat.jpg";
            ci.classList.add("dynamic-img");
            ci.id = "cat_" + _cat_count;
            var src = document.getElementById("tot");
            src.appendChild(ci);
            console.log("cat id ", ci.id);

            /* div for value holding creation part */

            var idiv = document.createElement("div");
            idiv.id = "div_" + ci.id;
            idiv.value = 0;
            idiv.classList.add("dy-div");


            console.log("div id ", idiv.id);

            /*appending div to cat img */

            var cat_id = document.getElementById(ci.id);
            src.appendChild(idiv);

            /*create button*/

            var btn = document.createElement("BUTTON");
            var t = document.createTextNode("RESET");
            btn.appendChild(t);
            src.appendChild(btn);
            btn.classList.add("dy-btn");

            /*click part */
            ci.addEventListener("click", function () {
                idiv.value++;
                // idiv.appendChild(idiv.value);      
                document.getElementById(idiv.id).innerHTML = idiv.value;
                // idiv.appendChild(document.createTextNode("haiii"));
                console.log("cat no", ci.id, "idiv value ", idiv.value, "idiv id", idiv.id);
                btn.style.display = "block";


            }
            );
            btn.onclick = function () {
                idiv.value = 0;
                document.getElementById(idiv.id).innerHTML = " ";
                // btn.style.display="none"; 
            }


        }

    })();

</script>

</html>